(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Jd={exports:{}},Ol={};var _v;function jR(){if(_v)return Ol;_v=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=t,Ol.jsx=n,Ol.jsxs=n,Ol}var vv;function qR(){return vv||(vv=1,Jd.exports=jR()),Jd.exports}var at=qR(),Zd={exports:{}},St={};var Ev;function HR(){if(Ev)return St;Ev=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function P(V){return V===null||typeof V!="object"?null:(V=C&&V[C]||V["@@iterator"],typeof V=="function"?V:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,H={};function et(V,J,st){this.props=V,this.context=J,this.refs=H,this.updater=st||X}et.prototype.isReactComponent={},et.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},et.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function tt(){}tt.prototype=et.prototype;function nt(V,J,st){this.props=V,this.context=J,this.refs=H,this.updater=st||X}var Tt=nt.prototype=new tt;Tt.constructor=nt,B(Tt,et.prototype),Tt.isPureReactComponent=!0;var Rt=Array.isArray;function vt(){}var w={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function b(V,J,st){var ut=st.ref;return{$$typeof:r,type:V,key:J,ref:ut!==void 0?ut:null,props:st}}function M(V,J){return b(V.type,J,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(st){return J[st]})}var I=/\/+/g;function Xt(V,J){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):J.toString(36)}function ce(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(vt,vt):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,J,st,ut,_t){var Ct=typeof V;(Ct==="undefined"||Ct==="boolean")&&(V=null);var Ut=!1;if(V===null)Ut=!0;else switch(Ct){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(V.$$typeof){case r:case t:Ut=!0;break;case E:return Ut=V._init,Q(Ut(V._payload),J,st,ut,_t)}}if(Ut)return _t=_t(V),Ut=ut===""?"."+Xt(V,0):ut,Rt(_t)?(st="",Ut!=null&&(st=Ut.replace(I,"$&/")+"/"),Q(_t,J,st,"",function(fs){return fs})):_t!=null&&(N(_t)&&(_t=M(_t,st+(_t.key==null||V&&V.key===_t.key?"":(""+_t.key).replace(I,"$&/")+"/")+Ut)),J.push(_t)),1;Ut=0;var Oe=ut===""?".":ut+":";if(Rt(V))for(var se=0;se<V.length;se++)ut=V[se],Ct=Oe+Xt(ut,se),Ut+=Q(ut,J,st,Ct,_t);else if(se=P(V),typeof se=="function")for(V=se.call(V),se=0;!(ut=V.next()).done;)ut=ut.value,Ct=Oe+Xt(ut,se++),Ut+=Q(ut,J,st,Ct,_t);else if(Ct==="object"){if(typeof V.then=="function")return Q(ce(V),J,st,ut,_t);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function rt(V,J,st){if(V==null)return V;var ut=[],_t=0;return Q(V,ut,"","",function(Ct){return J.call(st,Ct,_t++)}),ut}function mt(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(st){(V._status===0||V._status===-1)&&(V._status=1,V._result=st)},function(st){(V._status===0||V._status===-1)&&(V._status=2,V._result=st)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var zt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Gt={map:rt,forEach:function(V,J,st){rt(V,function(){J.apply(this,arguments)},st)},count:function(V){var J=0;return rt(V,function(){J++}),J},toArray:function(V){return rt(V,function(J){return J})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return St.Activity=S,St.Children=Gt,St.Component=et,St.Fragment=n,St.Profiler=o,St.PureComponent=nt,St.StrictMode=s,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,St.__COMPILER_RUNTIME={__proto__:null,c:function(V){return w.H.useMemoCache(V)}},St.cache=function(V){return function(){return V.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(V,J,st){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ut=B({},V.props),_t=V.key;if(J!=null)for(Ct in J.key!==void 0&&(_t=""+J.key),J)!R.call(J,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&J.ref===void 0||(ut[Ct]=J[Ct]);var Ct=arguments.length-2;if(Ct===1)ut.children=st;else if(1<Ct){for(var Ut=Array(Ct),Oe=0;Oe<Ct;Oe++)Ut[Oe]=arguments[Oe+2];ut.children=Ut}return b(V.type,_t,ut)},St.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},St.createElement=function(V,J,st){var ut,_t={},Ct=null;if(J!=null)for(ut in J.key!==void 0&&(Ct=""+J.key),J)R.call(J,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(_t[ut]=J[ut]);var Ut=arguments.length-2;if(Ut===1)_t.children=st;else if(1<Ut){for(var Oe=Array(Ut),se=0;se<Ut;se++)Oe[se]=arguments[se+2];_t.children=Oe}if(V&&V.defaultProps)for(ut in Ut=V.defaultProps,Ut)_t[ut]===void 0&&(_t[ut]=Ut[ut]);return b(V,Ct,_t)},St.createRef=function(){return{current:null}},St.forwardRef=function(V){return{$$typeof:m,render:V}},St.isValidElement=N,St.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:mt}},St.memo=function(V,J){return{$$typeof:y,type:V,compare:J===void 0?null:J}},St.startTransition=function(V){var J=w.T,st={};w.T=st;try{var ut=V(),_t=w.S;_t!==null&&_t(st,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(vt,zt)}catch(Ct){zt(Ct)}finally{J!==null&&st.types!==null&&(J.types=st.types),w.T=J}},St.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},St.use=function(V){return w.H.use(V)},St.useActionState=function(V,J,st){return w.H.useActionState(V,J,st)},St.useCallback=function(V,J){return w.H.useCallback(V,J)},St.useContext=function(V){return w.H.useContext(V)},St.useDebugValue=function(){},St.useDeferredValue=function(V,J){return w.H.useDeferredValue(V,J)},St.useEffect=function(V,J){return w.H.useEffect(V,J)},St.useEffectEvent=function(V){return w.H.useEffectEvent(V)},St.useId=function(){return w.H.useId()},St.useImperativeHandle=function(V,J,st){return w.H.useImperativeHandle(V,J,st)},St.useInsertionEffect=function(V,J){return w.H.useInsertionEffect(V,J)},St.useLayoutEffect=function(V,J){return w.H.useLayoutEffect(V,J)},St.useMemo=function(V,J){return w.H.useMemo(V,J)},St.useOptimistic=function(V,J){return w.H.useOptimistic(V,J)},St.useReducer=function(V,J,st){return w.H.useReducer(V,J,st)},St.useRef=function(V){return w.H.useRef(V)},St.useState=function(V){return w.H.useState(V)},St.useSyncExternalStore=function(V,J,st){return w.H.useSyncExternalStore(V,J,st)},St.useTransition=function(){return w.H.useTransition()},St.version="19.2.3",St}var Tv;function Xm(){return Tv||(Tv=1,Zd.exports=HR()),Zd.exports}var G=Xm(),Wd={exports:{}},Ml={},tm={exports:{}},em={};var Sv;function FR(){return Sv||(Sv=1,(function(r){function t(Q,rt){var mt=Q.length;Q.push(rt);t:for(;0<mt;){var zt=mt-1>>>1,Gt=Q[zt];if(0<o(Gt,rt))Q[zt]=rt,Q[mt]=Gt,mt=zt;else break t}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var rt=Q[0],mt=Q.pop();if(mt!==rt){Q[0]=mt;t:for(var zt=0,Gt=Q.length,V=Gt>>>1;zt<V;){var J=2*(zt+1)-1,st=Q[J],ut=J+1,_t=Q[ut];if(0>o(st,mt))ut<Gt&&0>o(_t,st)?(Q[zt]=_t,Q[ut]=mt,zt=ut):(Q[zt]=st,Q[J]=mt,zt=J);else if(ut<Gt&&0>o(_t,mt))Q[zt]=_t,Q[ut]=mt,zt=ut;else break t}}return rt}function o(Q,rt){var mt=Q.sortIndex-rt.sortIndex;return mt!==0?mt:Q.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,C=3,P=!1,X=!1,B=!1,H=!1,et=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function Tt(Q){for(var rt=n(y);rt!==null;){if(rt.callback===null)s(y);else if(rt.startTime<=Q)s(y),rt.sortIndex=rt.expirationTime,t(g,rt);else break;rt=n(y)}}function Rt(Q){if(B=!1,Tt(Q),!X)if(n(g)!==null)X=!0,vt||(vt=!0,L());else{var rt=n(y);rt!==null&&ce(Rt,rt.startTime-Q)}}var vt=!1,w=-1,R=5,b=-1;function M(){return H?!0:!(r.unstable_now()-b<R)}function N(){if(H=!1,vt){var Q=r.unstable_now();b=Q;var rt=!0;try{t:{X=!1,B&&(B=!1,tt(w),w=-1),P=!0;var mt=C;try{e:{for(Tt(Q),S=n(g);S!==null&&!(S.expirationTime>Q&&M());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,C=S.priorityLevel;var Gt=zt(S.expirationTime<=Q);if(Q=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,Tt(Q),rt=!0;break e}S===n(g)&&s(g),Tt(Q)}else s(g);S=n(g)}if(S!==null)rt=!0;else{var V=n(y);V!==null&&ce(Rt,V.startTime-Q),rt=!1}}break t}finally{S=null,C=mt,P=!1}rt=void 0}}finally{rt?L():vt=!1}}}var L;if(typeof nt=="function")L=function(){nt(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Xt=I.port2;I.port1.onmessage=N,L=function(){Xt.postMessage(null)}}else L=function(){et(N,0)};function ce(Q,rt){w=et(function(){Q(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(Q){switch(C){case 1:case 2:case 3:var rt=3;break;default:rt=C}var mt=C;C=rt;try{return Q()}finally{C=mt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(Q,rt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var mt=C;C=Q;try{return rt()}finally{C=mt}},r.unstable_scheduleCallback=function(Q,rt,mt){var zt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?zt+mt:zt):mt=zt,Q){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=mt+Gt,Q={id:E++,callback:rt,priorityLevel:Q,startTime:mt,expirationTime:Gt,sortIndex:-1},mt>zt?(Q.sortIndex=mt,t(y,Q),n(g)===null&&Q===n(y)&&(B?(tt(w),w=-1):B=!0,ce(Rt,mt-zt))):(Q.sortIndex=Gt,t(g,Q),X||P||(X=!0,vt||(vt=!0,L()))),Q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Q){var rt=C;return function(){var mt=C;C=rt;try{return Q.apply(this,arguments)}finally{C=mt}}}})(em)),em}var Av;function GR(){return Av||(Av=1,tm.exports=FR()),tm.exports}var nm={exports:{}},Xe={};var Rv;function QR(){if(Rv)return Xe;Rv=1;var r=Xm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Xe.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Xe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Xe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Xe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:P}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:C,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Xe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Xe.requestFormReset=function(g){s.d.r(g)},Xe.unstable_batchedUpdates=function(g,y){return g(y)},Xe.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Xe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xe.version="19.2.3",Xe}var wv;function KR(){if(wv)return nm.exports;wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),nm.exports=QR(),nm.exports}var bv;function YR(){if(bv)return Ml;bv=1;var r=GR(),t=Xm(),n=KR();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case et:return"Profiler";case H:return"StrictMode";case Rt:return"Suspense";case vt:return"SuspenseList";case b:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case nt:return e.displayName||"Context";case tt:return(e._context.displayName||"Context")+".Consumer";case Tt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return i=e.displayName||null,i!==null?i:Xt(e.type)||"Memo";case R:i=e._payload,e=e._init;try{return Xt(e(i))}catch{}}return null}var ce=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function V(e){return{current:e}}function J(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function st(e,i){Gt++,zt[Gt]=e.current,e.current=i}var ut=V(null),_t=V(null),Ct=V(null),Ut=V(null);function Oe(e,i){switch(st(Ct,i),st(_t,e),st(ut,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?j_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=j_(i),e=q_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ut),st(ut,e)}function se(){J(ut),J(_t),J(Ct)}function fs(e){e.memoizedState!==null&&st(Ut,e);var i=ut.current,a=q_(i,e.type);i!==a&&(st(_t,e),st(ut,a))}function aa(e){_t.current===e&&(J(ut),J(_t)),Ut.current===e&&(J(Ut),Cl._currentValue=mt)}var oa,la;function ii(e){if(oa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);oa=i&&i[1]||"",la=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+e+la}var Co=!1;function ds(e,i){if(!e||Co)return"";Co=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var j=F}Reflect.construct(e,[],$)}else{try{$.call()}catch(F){j=F}e.call($.prototype)}}else{try{throw Error()}catch(F){j=F}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),z=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===z.length)for(l=D.length-1,h=z.length-1;1<=l&&0<=h&&D[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==z[h]){var K=`
`+D[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{Co=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ii(a):""}function Io(e,i){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==i&&i!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return ds(e.type,!1);case 11:return ds(e.type.render,!1);case 1:return ds(e.type,!0);case 31:return ii("Activity");default:return""}}function Do(e){try{var i="",a=null;do i+=Io(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Me=r.unstable_scheduleCallback,fr=r.unstable_cancelCallback,Zh=r.unstable_shouldYield,yu=r.unstable_requestPaint,tn=r.unstable_now,ms=r.unstable_getCurrentPriorityLevel,No=r.unstable_ImmediatePriority,Oo=r.unstable_UserBlockingPriority,dr=r.unstable_NormalPriority,Wh=r.unstable_LowPriority,_u=r.unstable_IdlePriority,vu=r.log,Eu=r.unstable_setDisableYieldValue,Bn=null,ze=null;function An(e){if(typeof vu=="function"&&Eu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Bn,e)}catch{}}var de=Math.clz32?Math.clz32:Su,Tu=Math.log,ua=Math.LN2;function Su(e){return e>>>=0,e===0?32:31-(Tu(e)/ua|0)|0}var ri=256,ps=262144,ve=4194304;function si(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=si(l):(_&=T,_!==0?h=si(_):a||(a=T&~e,a!==0&&(h=si(a))))):(T=l&~d,T!==0?h=si(T):_!==0?h=si(_):a||(a=l&~e,a!==0&&(h=si(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function jn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function tf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Au(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function oi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function gs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ef(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,D=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var K=31-de(a),$=1<<K;T[K]=0,D[K]=-1;var j=z[K];if(j!==null)for(z[K]=null,K=0;K<j.length;K++){var F=j[K];F!==null&&(F.lane&=-536870913)}a&=~$}l!==0&&ys(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function ys(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-de(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Mo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-de(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Vo(e,i){var a=i&-i;return a=(a&42)!==0?1:_s(a),(a&(e.suspendedLanes|i))!==0?0:a}function _s(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ru(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:hv(e.type))}function qn(e,i){var a=rt.p;try{return rt.p=e,i()}finally{rt.p=a}}var Hn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Hn,Le="__reactProps$"+Hn,li="__reactContainer$"+Hn,ca="__reactEvents$"+Hn,nf="__reactListeners$"+Hn,wu="__reactHandles$"+Hn,bu="__reactResources$"+Hn,ui="__reactMarker$"+Hn;function ha(e){delete e[Ee],delete e[Le],delete e[ca],delete e[nf],delete e[wu]}function ci(e){var i=e[Ee];if(i)return i;for(var a=e.parentNode;a;){if(i=a[li]||a[Ee]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=X_(e);e!==null;){if(a=e[Ee])return a;e=X_(e)}return i}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[Ee]||e[li]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function fn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function hi(e){var i=e[bu];return i||(i=e[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Te(e){e[ui]=!0}var xo=new Set,Lo={};function fi(e,i){di(e,i),di(e+"Capture",i)}function di(e,i){for(Lo[e]=i,e=0;e<i.length;e++)xo.add(i[e])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},ko={};function Cu(e){return _e.call(ko,e)?!0:_e.call(Uo,e)?!1:Po.test(e)?ko[e]=!0:(Uo[e]=!0,!1)}function fa(e,i,a){if(Cu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function dn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Se(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Qt(e){if(!e._valueTracker){var i=mr(e)?"checked":"value";e._valueTracker=zo(e,i,""+e[i])}}function vs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=mr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Es=/[\n"\\]/g;function rn(e){return e.replace(Es,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function da(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Bo(e,_,Pe(i)):a!=null?Bo(e,_,Pe(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Pe(T):e.removeAttribute("name")}function Iu(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qt(e);return}a=a!=null?""+Pe(a):"",i=i!=null?""+Pe(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Qt(e)}function Bo(e,i,a){i==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function pr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Du(e,i,a){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Pe(a):""}function gr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pe(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Qt(e)}function sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Nu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function qo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&jo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&jo(e,d,i[d])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return yr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var Ho=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _r=null,pi=null;function Ts(e){var i=Rn(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(da(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Le]||null;if(!h)throw Error(s(90));da(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&vs(l)}break t;case"textarea":Du(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&pr(e,!!a.multiple,i,!1)}}}var ga=!1;function vr(e,i,a){if(ga)return e(i,a);ga=!0;try{var l=e(i);return l}finally{if(ga=!1,(_r!==null||pi!==null)&&(Rc(),_r&&(i=_r,e=pi,pi=_r=null,Ts(i),e)))for(i=0;i<e.length;i++)Ts(e[i])}}function Gn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ss=!1;if(bn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Ss=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Ss=!1}var gi=null,Fo=null,As=null;function Go(){if(As)return As;var e,i=Fo,a=i.length,l,h="value"in gi?gi.value:gi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return As=h.slice(e,1<l?1-l:void 0)}function Rs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Qn(){return!1}function Be(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Qn,this.isPropagationStopped=Qn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Be(Pi),Er=S({},Pi,{view:0,detail:0}),Qo=Be(Er),Tr,ya,_i,_a=S({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(Tr=e.screenX-_i.screenX,ya=e.screenY-_i.screenY):ya=Tr=0,_i=e),Tr)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),Ko=Be(_a),ws=S({},_a,{dataTransfer:0}),Mu=Be(ws),Vu=S({},Er,{relatedTarget:0}),bs=Be(Vu),Yo=S({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=Be(Yo),va=S({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lu=Be(va),Pu=S({},Pi,{data:0}),vi=Be(Pu),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=zu[e])?!!i[e]:!1}function Sr(){return Bu}var en=S({},Er,{key:function(e){if(e.key){var i=Uu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ku[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return e.type==="keypress"?Rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ju=Be(en),qu=S({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Be(qu),c=S({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),p=Be(c),v=S({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),U=S({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(U),it=S({},Pi,{newState:0,oldState:0}),wt=Be(it),me=[9,13,27,32],qt=bn&&"CompositionEvent"in window,ae=null;bn&&"documentMode"in document&&(ae=document.documentMode);var Cn=bn&&"TextEvent"in window&&!ae,Ei=bn&&(!qt||ae&&8<ae&&11>=ae),Kn=" ",Yn=!1;function Cs(e,i){switch(e){case"keyup":return me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function hA(e,i){switch(e){case"compositionend":return Ea(i);case"keypress":return i.which!==32?null:(Yn=!0,Kn);case"textInput":return e=i.data,e===Kn&&Yn?null:e;default:return null}}function fA(e,i){if(Ta)return e==="compositionend"||!qt&&Cs(e,i)?(e=Go(),As=Fo=gi=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var dA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!dA[e.type]:i==="textarea"}function Wp(e,i,a,l){_r?pi?pi.push(l):pi=[l]:_r=l,i=Oc(i,"onChange"),0<i.length&&(a=new yi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Xo=null,$o=null;function mA(e){L_(e,0)}function Hu(e){var i=fn(e);if(vs(i))return e}function tg(e,i){if(e==="change")return i}var eg=!1;if(bn){var rf;if(bn){var sf="oninput"in document;if(!sf){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),sf=typeof ng.oninput=="function"}rf=sf}else rf=!1;eg=rf&&(!document.documentMode||9<document.documentMode)}function ig(){Xo&&(Xo.detachEvent("onpropertychange",rg),$o=Xo=null)}function rg(e){if(e.propertyName==="value"&&Hu($o)){var i=[];Wp(i,$o,e,wn(e)),vr(mA,i)}}function pA(e,i,a){e==="focusin"?(ig(),Xo=i,$o=a,Xo.attachEvent("onpropertychange",rg)):e==="focusout"&&ig()}function gA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hu($o)}function yA(e,i){if(e==="click")return Hu(i)}function _A(e,i){if(e==="input"||e==="change")return Hu(i)}function vA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var mn=typeof Object.is=="function"?Object.is:vA;function Jo(e,i){if(mn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_e.call(i,h)||!mn(e[h],i[h]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,i){var a=sg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=sg(a)}}function og(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?og(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function lg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=mi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=mi(e.document)}return i}function af(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var EA=bn&&"documentMode"in document&&11>=document.documentMode,Sa=null,of=null,Zo=null,lf=!1;function ug(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lf||Sa==null||Sa!==mi(l)||(l=Sa,"selectionStart"in l&&af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Jo(Zo,l)||(Zo=l,l=Oc(of,"onSelect"),0<l.length&&(i=new yi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Sa)))}function Is(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Aa={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},uf={},cg={};bn&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Ds(e){if(uf[e])return uf[e];if(!Aa[e])return e;var i=Aa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in cg)return uf[e]=i[a];return e}var hg=Ds("animationend"),fg=Ds("animationiteration"),dg=Ds("animationstart"),TA=Ds("transitionrun"),SA=Ds("transitionstart"),AA=Ds("transitioncancel"),mg=Ds("transitionend"),pg=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function Xn(e,i){pg.set(e,i),fi(i,[e])}var Fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],Ra=0,hf=0;function Gu(){for(var e=Ra,i=hf=Ra=0;i<e;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&gg(a,h,d)}}function Qu(e,i,a,l){In[Ra++]=e,In[Ra++]=i,In[Ra++]=a,In[Ra++]=l,hf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ff(e,i,a,l){return Qu(e,i,a,l),Ku(e)}function Ns(e,i){return Qu(e,null,null,i),Ku(e)}function gg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-de(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ku(e){if(50<El)throw El=0,Td=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var wa={};function RA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,i,a,l){return new RA(e,i,a,l)}function df(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,i){var a=e.alternate;return a===null?(a=pn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function yg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Yu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")df(e)&&(_=1);else if(typeof e=="string")_=DR(e,a,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case b:return e=pn(31,a,i,h),e.elementType=b,e.lanes=d,e;case B:return Os(a.children,h,d,i);case H:_=8,h|=24;break;case et:return e=pn(12,a,i,h|2),e.elementType=et,e.lanes=d,e;case Rt:return e=pn(13,a,i,h),e.elementType=Rt,e.lanes=d,e;case vt:return e=pn(19,a,i,h),e.elementType=vt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nt:_=10;break t;case tt:_=9;break t;case Tt:_=11;break t;case w:_=14;break t;case R:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=pn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Os(e,i,a,l){return e=pn(7,e,l,i),e.lanes=a,e}function mf(e,i,a){return e=pn(6,e,null,i),e.lanes=a,e}function _g(e){var i=pn(18,null,null,0);return i.stateNode=e,i}function pf(e,i,a){return i=pn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var vg=new WeakMap;function Dn(e,i){if(typeof e=="object"&&e!==null){var a=vg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Do(i)},vg.set(e,i),i)}return{value:e,source:i,stack:Do(i)}}var ba=[],Ca=0,Xu=null,Wo=0,Nn=[],On=0,Ar=null,Ti=1,Si="";function zi(e,i){ba[Ca++]=Wo,ba[Ca++]=Xu,Xu=e,Wo=i}function Eg(e,i,a){Nn[On++]=Ti,Nn[On++]=Si,Nn[On++]=Ar,Ar=e;var l=Ti;e=Si;var h=32-de(l)-1;l&=~(1<<h),a+=1;var d=32-de(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ti=1<<32-de(i)+h|a<<h|l,Si=d+e}else Ti=1<<d|a<<h|l,Si=e}function gf(e){e.return!==null&&(zi(e,1),Eg(e,1,0))}function yf(e){for(;e===Xu;)Xu=ba[--Ca],ba[Ca]=null,Wo=ba[--Ca],ba[Ca]=null;for(;e===Ar;)Ar=Nn[--On],Nn[On]=null,Si=Nn[--On],Nn[On]=null,Ti=Nn[--On],Nn[On]=null}function Tg(e,i){Nn[On++]=Ti,Nn[On++]=Si,Nn[On++]=Ar,Ti=i.id,Si=i.overflow,Ar=e}var je=null,ne=null,Pt=!1,Rr=null,Mn=!1,_f=Error(s(519));function wr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Dn(i,e)),_f}function Sg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ee]=e,i[Le]=l,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Nt(Sl[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),Iu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),gr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||z_(i.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),l.onScroll!=null&&Nt("scroll",i),l.onScrollEnd!=null&&Nt("scrollend",i),l.onClick!=null&&(i.onclick=Fn),i=!0):i=!1,i||wr(e,!0)}function Ag(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:je=je.return}}function Ia(e){if(e!==je)return!1;if(!Pt)return Ag(e),Pt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Pd(e.type,e.memoizedProps)),a=!a),a&&ne&&wr(e),Ag(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=Y_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=Y_(e)}else i===27?(i=ne,zr(e.type)?(e=jd,jd=null,ne=e):ne=i):ne=je?xn(e.stateNode.nextSibling):null;return!0}function Ms(){ne=je=null,Pt=!1}function vf(){var e=Rr;return e!==null&&(un===null?un=e:un.push.apply(un,e),Rr=null),e}function tl(e){Rr===null?Rr=[e]:Rr.push(e)}var Ef=V(null),Vs=null,Bi=null;function br(e,i,a){st(Ef,i._currentValue),i._currentValue=a}function ji(e){e._currentValue=Ef.current,J(Ef)}function Tf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Sf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Tf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Tf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Da(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;mn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ut.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Cl):e=[Cl])}h=h.return}e!==null&&Sf(i,e,a,l),i.flags|=262144}function $u(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xs(e){Vs=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Rg(Vs,e)}function Ju(e,i){return Vs===null&&xs(e),Rg(e,i)}function Rg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(e===null)throw Error(s(308));Bi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Bi=Bi.next=i;return a}var wA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},bA=r.unstable_scheduleCallback,CA=r.unstable_NormalPriority,Ae={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new wA,data:new Map,refCount:0}}function el(e){e.refCount--,e.refCount===0&&bA(CA,function(){e.controller.abort()})}var nl=null,Rf=0,Na=0,Oa=null;function IA(e,i){if(nl===null){var a=nl=[];Rf=0,Na=Cd(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Rf++,i.then(wg,wg),i}function wg(){if(--Rf===0&&nl!==null){Oa!==null&&(Oa.status="fulfilled");var e=nl;nl=null,Na=0,Oa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function DA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var bg=Q.S;Q.S=function(e,i){u_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&IA(e,i),bg!==null&&bg(e,i)};var Ls=V(null);function wf(){var e=Ls.current;return e!==null?e:te.pooledCache}function Zu(e,i){i===null?st(Ls,Ls.current):st(Ls,i.pool)}function Cg(){var e=wf();return e===null?null:{parent:Ae._currentValue,pool:e}}var Ma=Error(s(460)),bf=Error(s(474)),Wu=Error(s(542)),tc={then:function(){}};function Ig(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Dg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Fn,Fn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Og(e),e;default:if(typeof i.status=="string")i.then(Fn,Fn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Og(e),e}throw Us=i,Ma}}function Ps(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Us=a,Ma):a}}var Us=null;function Ng(){if(Us===null)throw Error(s(459));var e=Us;return Us=null,e}function Og(e){if(e===Ma||e===Wu)throw Error(s(483))}var Va=null,il=0;function ec(e){var i=il;return il+=1,Va===null&&(Va=[]),Dg(Va,e,i)}function rl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function nc(e,i){throw i.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Mg(e){function i(x,O){if(e){var k=x.deletions;k===null?(x.deletions=[O],x.flags|=16):k.push(O)}}function a(x,O){if(!e)return null;for(;O!==null;)i(x,O),O=O.sibling;return null}function l(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=ki(x,O),x.index=0,x.sibling=null,x}function d(x,O,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<O?(x.flags|=67108866,O):k):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function _(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,O,k,Y){return O===null||O.tag!==6?(O=mf(k,x.mode,Y),O.return=x,O):(O=h(O,k),O.return=x,O)}function D(x,O,k,Y){var ft=k.type;return ft===B?K(x,O,k.props.children,Y,k.key):O!==null&&(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===R&&Ps(ft)===O.type)?(O=h(O,k.props),rl(O,k),O.return=x,O):(O=Yu(k.type,k.key,k.props,null,x.mode,Y),rl(O,k),O.return=x,O)}function z(x,O,k,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=pf(k,x.mode,Y),O.return=x,O):(O=h(O,k.children||[]),O.return=x,O)}function K(x,O,k,Y,ft){return O===null||O.tag!==7?(O=Os(k,x.mode,Y,ft),O.return=x,O):(O=h(O,k),O.return=x,O)}function $(x,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=mf(""+O,x.mode,k),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return k=Yu(O.type,O.key,O.props,null,x.mode,k),rl(k,O),k.return=x,k;case X:return O=pf(O,x.mode,k),O.return=x,O;case R:return O=Ps(O),$(x,O,k)}if(ce(O)||L(O))return O=Os(O,x.mode,k,null),O.return=x,O;if(typeof O.then=="function")return $(x,ec(O),k);if(O.$$typeof===nt)return $(x,Ju(x,O),k);nc(x,O)}return null}function j(x,O,k,Y){var ft=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ft!==null?null:T(x,O,""+k,Y);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case P:return k.key===ft?D(x,O,k,Y):null;case X:return k.key===ft?z(x,O,k,Y):null;case R:return k=Ps(k),j(x,O,k,Y)}if(ce(k)||L(k))return ft!==null?null:K(x,O,k,Y,null);if(typeof k.then=="function")return j(x,O,ec(k),Y);if(k.$$typeof===nt)return j(x,O,Ju(x,k),Y);nc(x,k)}return null}function F(x,O,k,Y,ft){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(k)||null,T(O,x,""+Y,ft);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case P:return x=x.get(Y.key===null?k:Y.key)||null,D(O,x,Y,ft);case X:return x=x.get(Y.key===null?k:Y.key)||null,z(O,x,Y,ft);case R:return Y=Ps(Y),F(x,O,k,Y,ft)}if(ce(Y)||L(Y))return x=x.get(k)||null,K(O,x,Y,ft,null);if(typeof Y.then=="function")return F(x,O,k,ec(Y),ft);if(Y.$$typeof===nt)return F(x,O,k,Ju(O,Y),ft);nc(O,Y)}return null}function ct(x,O,k,Y){for(var ft=null,Bt=null,ht=O,It=O=0,Mt=null;ht!==null&&It<k.length;It++){ht.index>It?(Mt=ht,ht=null):Mt=ht.sibling;var jt=j(x,ht,k[It],Y);if(jt===null){ht===null&&(ht=Mt);break}e&&ht&&jt.alternate===null&&i(x,ht),O=d(jt,O,It),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt,ht=Mt}if(It===k.length)return a(x,ht),Pt&&zi(x,It),ft;if(ht===null){for(;It<k.length;It++)ht=$(x,k[It],Y),ht!==null&&(O=d(ht,O,It),Bt===null?ft=ht:Bt.sibling=ht,Bt=ht);return Pt&&zi(x,It),ft}for(ht=l(ht);It<k.length;It++)Mt=F(ht,x,It,k[It],Y),Mt!==null&&(e&&Mt.alternate!==null&&ht.delete(Mt.key===null?It:Mt.key),O=d(Mt,O,It),Bt===null?ft=Mt:Bt.sibling=Mt,Bt=Mt);return e&&ht.forEach(function(Fr){return i(x,Fr)}),Pt&&zi(x,It),ft}function pt(x,O,k,Y){if(k==null)throw Error(s(151));for(var ft=null,Bt=null,ht=O,It=O=0,Mt=null,jt=k.next();ht!==null&&!jt.done;It++,jt=k.next()){ht.index>It?(Mt=ht,ht=null):Mt=ht.sibling;var Fr=j(x,ht,jt.value,Y);if(Fr===null){ht===null&&(ht=Mt);break}e&&ht&&Fr.alternate===null&&i(x,ht),O=d(Fr,O,It),Bt===null?ft=Fr:Bt.sibling=Fr,Bt=Fr,ht=Mt}if(jt.done)return a(x,ht),Pt&&zi(x,It),ft;if(ht===null){for(;!jt.done;It++,jt=k.next())jt=$(x,jt.value,Y),jt!==null&&(O=d(jt,O,It),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt);return Pt&&zi(x,It),ft}for(ht=l(ht);!jt.done;It++,jt=k.next())jt=F(ht,x,It,jt.value,Y),jt!==null&&(e&&jt.alternate!==null&&ht.delete(jt.key===null?It:jt.key),O=d(jt,O,It),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt);return e&&ht.forEach(function(BR){return i(x,BR)}),Pt&&zi(x,It),ft}function Wt(x,O,k,Y){if(typeof k=="object"&&k!==null&&k.type===B&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case P:t:{for(var ft=k.key;O!==null;){if(O.key===ft){if(ft=k.type,ft===B){if(O.tag===7){a(x,O.sibling),Y=h(O,k.props.children),Y.return=x,x=Y;break t}}else if(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===R&&Ps(ft)===O.type){a(x,O.sibling),Y=h(O,k.props),rl(Y,k),Y.return=x,x=Y;break t}a(x,O);break}else i(x,O);O=O.sibling}k.type===B?(Y=Os(k.props.children,x.mode,Y,k.key),Y.return=x,x=Y):(Y=Yu(k.type,k.key,k.props,null,x.mode,Y),rl(Y,k),Y.return=x,x=Y)}return _(x);case X:t:{for(ft=k.key;O!==null;){if(O.key===ft)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){a(x,O.sibling),Y=h(O,k.children||[]),Y.return=x,x=Y;break t}else{a(x,O);break}else i(x,O);O=O.sibling}Y=pf(k,x.mode,Y),Y.return=x,x=Y}return _(x);case R:return k=Ps(k),Wt(x,O,k,Y)}if(ce(k))return ct(x,O,k,Y);if(L(k)){if(ft=L(k),typeof ft!="function")throw Error(s(150));return k=ft.call(k),pt(x,O,k,Y)}if(typeof k.then=="function")return Wt(x,O,ec(k),Y);if(k.$$typeof===nt)return Wt(x,O,Ju(x,k),Y);nc(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(a(x,O.sibling),Y=h(O,k),Y.return=x,x=Y):(a(x,O),Y=mf(k,x.mode,Y),Y.return=x,x=Y),_(x)):a(x,O)}return function(x,O,k,Y){try{il=0;var ft=Wt(x,O,k,Y);return Va=null,ft}catch(ht){if(ht===Ma||ht===Wu)throw ht;var Bt=pn(29,ht,null,x.mode);return Bt.lanes=Y,Bt.return=x,Bt}}}var ks=Mg(!0),Vg=Mg(!1),Cr=!1;function Cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ku(e),gg(e,null,a),i}return Qu(e,l,i,a),Ku(e)}function sl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Mo(e,a)}}function Df(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Nf=!1;function al(){if(Nf){var e=Oa;if(e!==null)throw e}}function ol(e,i,a,l){Nf=!1;var h=e.updateQueue;Cr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,z=D.next;D.next=null,_===null?d=z:_.next=z,_=D;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=z:T.next=z,K.lastBaseUpdate=D))}if(d!==null){var $=h.baseState;_=0,K=z=D=null,T=d;do{var j=T.lane&-536870913,F=j!==T.lane;if(F?(Ot&j)===j:(l&j)===j){j!==0&&j===Na&&(Nf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=e,pt=T;j=i;var Wt=a;switch(pt.tag){case 1:if(ct=pt.payload,typeof ct=="function"){$=ct.call(Wt,$,j);break t}$=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=pt.payload,j=typeof ct=="function"?ct.call(Wt,$,j):ct,j==null)break t;$=S({},$,j);break t;case 2:Cr=!0}}j=T.callback,j!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(z=K=F,D=$):K=K.next=F,_|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(D=$),h.baseState=D,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),xr|=_,e.lanes=_,e.memoizedState=$}}function xg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Lg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)xg(a[e],i)}var xa=V(null),ic=V(0);function Pg(e,i){e=$i,st(ic,e),st(xa,i),$i=e|i.baseLanes}function Of(){st(ic,$i),st(xa,xa.current)}function Mf(){$i=ic.current,J(xa),J(ic)}var gn=V(null),Vn=null;function Nr(e){var i=e.alternate;st(pe,pe.current&1),st(gn,e),Vn===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(Vn=e)}function Vf(e){st(pe,pe.current),st(gn,e),Vn===null&&(Vn=e)}function Ug(e){e.tag===22?(st(pe,pe.current),st(gn,e),Vn===null&&(Vn=e)):Or()}function Or(){st(pe,pe.current),st(gn,gn.current)}function yn(e){J(gn),Vn===e&&(Vn=null),J(pe)}var pe=V(0);function rc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||zd(a)||Bd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qi=0,bt=null,Jt=null,Re=null,sc=!1,La=!1,zs=!1,ac=0,ll=0,Pa=null,NA=0;function he(){throw Error(s(321))}function xf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!mn(e[a],i[a]))return!1;return!0}function Lf(e,i,a,l,h,d){return qi=d,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=e===null||e.memoizedState===null?Ey:$f,zs=!1,d=a(l,h),zs=!1,La&&(d=zg(i,a,l,h)),kg(e),d}function kg(e){Q.H=hl;var i=Jt!==null&&Jt.next!==null;if(qi=0,Re=Jt=bt=null,sc=!1,ll=0,Pa=null,i)throw Error(s(300));e===null||we||(e=e.dependencies,e!==null&&$u(e)&&(we=!0))}function zg(e,i,a,l){bt=e;var h=0;do{if(La&&(Pa=null),ll=0,La=!1,25<=h)throw Error(s(301));if(h+=1,Re=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Ty,d=i(a,l)}while(La);return d}function OA(){var e=Q.H,i=e.useState()[0];return i=typeof i.then=="function"?ul(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(bt.flags|=1024),i}function Pf(){var e=ac!==0;return ac=0,e}function Uf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function kf(e){if(sc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}sc=!1}qi=0,Re=Jt=bt=null,La=!1,ll=ac=0,Pa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?bt.memoizedState=Re=e:Re=Re.next=e,Re}function ge(){if(Jt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=Re===null?bt.memoizedState:Re.next;if(i!==null)Re=i,Jt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Re===null?bt.memoizedState=Re=e:Re=Re.next=e}return Re}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(e){var i=ll;return ll+=1,Pa===null&&(Pa=[]),e=Dg(Pa,e,i),i=bt,(Re===null?i.memoizedState:Re.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Ey:$f),e}function lc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ul(e);if(e.$$typeof===nt)return qe(e)}throw Error(s(438,String(e)))}function zf(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=oc(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=M;return i.index++,a}function Hi(e,i){return typeof i=="function"?i(e):i}function uc(e){var i=ge();return Bf(i,Jt,e)}function Bf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,D=null,z=i,K=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Ot&$)===$:(qi&$)===$){var j=z.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Na&&(K=!0);else if((qi&j)===j){z=z.next,j===Na&&(K=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(T=D=$,_=d):D=D.next=$,bt.lanes|=j,xr|=j;$=z.action,zs&&a(d,$),d=z.hasEagerState?z.eagerState:a(d,$)}else j={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(T=D=j,_=d):D=D.next=j,bt.lanes|=$,xr|=$;z=z.next}while(z!==null&&z!==i);if(D===null?_=d:D.next=T,!mn(d,e.memoizedState)&&(we=!0,K&&(a=Oa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function jf(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);mn(d,i.memoizedState)||(we=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Bg(e,i,a){var l=bt,h=ge(),d=Pt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!mn((Jt||h).memoizedState,a);if(_&&(h.memoizedState=a,we=!0),h=h.queue,Ff(Hg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},qg.bind(null,l,h,a,i),null),te===null)throw Error(s(349));d||(qi&127)!==0||jg(l,i,a)}return a}function jg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=oc(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function qg(e,i,a,l){i.value=a,i.getSnapshot=l,Fg(i)&&Gg(e)}function Hg(e,i,a){return a(function(){Fg(i)&&Gg(e)})}function Fg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!mn(e,a)}catch{return!0}}function Gg(e){var i=Ns(e,2);i!==null&&cn(i,e,2)}function qf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),zs){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},i}function Qg(e,i,a,l){return e.baseState=a,Bf(e,Jt,typeof l=="function"?l:Hi)}function MA(e,i,a,l,h){if(fc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Kg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Kg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var T=a(h,l),D=Q.S;D!==null&&D(_,T),Yg(e,i,T)}catch(z){Hf(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(h,l),Yg(e,i,d)}catch(z){Hf(e,i,z)}}function Yg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Xg(e,i,l)},function(l){return Hf(e,i,l)}):Xg(e,i,a)}function Xg(e,i,a){i.status="fulfilled",i.value=a,$g(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Kg(e,a)))}function Hf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,$g(i),i=i.next;while(i!==l)}e.action=null}function $g(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Jg(e,i){return i}function Zg(e,i){if(Pt){var a=te.formState;if(a!==null){t:{var l=bt;if(Pt){if(ne){e:{for(var h=ne,d=Mn;h.nodeType!==8;){if(!d){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ne=xn(h.nextSibling),l=h.data==="F!";break t}}wr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:i},a.queue=l,a=yy.bind(null,bt,l),l.dispatch=a,l=qf(!1),d=Xf.bind(null,bt,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=MA.bind(null,bt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Wg(e){var i=ge();return ty(i,Jt,e)}function ty(e,i,a){if(i=Bf(e,i,Jg)[0],e=uc(Hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ul(i)}catch(_){throw _===Ma?Wu:_}else l=i;i=ge();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,Ua(9,{destroy:void 0},VA.bind(null,h,a),null)),[l,d,e]}function VA(e,i){e.action=i}function ey(e){var i=ge(),a=Jt;if(a!==null)return ty(i,a,e);ge(),i=i.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ua(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=bt.updateQueue,i===null&&(i=oc(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function ny(){return ge().memoizedState}function cc(e,i,a,l){var h=nn();bt.flags|=e,h.memoizedState=Ua(1|i,{destroy:void 0},a,l===void 0?null:l)}function hc(e,i,a,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Jt!==null&&l!==null&&xf(l,Jt.memoizedState.deps)?h.memoizedState=Ua(i,d,a,l):(bt.flags|=e,h.memoizedState=Ua(1|i,d,a,l))}function iy(e,i){cc(8390656,8,e,i)}function Ff(e,i){hc(2048,8,e,i)}function xA(e){bt.flags|=4;var i=bt.updateQueue;if(i===null)i=oc(),bt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function ry(e){var i=ge().memoizedState;return xA({ref:i,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function sy(e,i){return hc(4,2,e,i)}function ay(e,i){return hc(4,4,e,i)}function oy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ly(e,i,a){a=a!=null?a.concat([e]):null,hc(4,4,oy.bind(null,i,e),a)}function Gf(){}function uy(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&xf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function cy(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&xf(i,l[1]))return l[0];if(l=e(),zs){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[l,i],l}function Qf(e,i,a){return a===void 0||(qi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=h_(),bt.lanes|=e,xr|=e,a)}function hy(e,i,a,l){return mn(a,i)?a:xa.current!==null?(e=Qf(e,a,l),mn(e,i)||(we=!0),e):(qi&42)===0||(qi&1073741824)!==0&&(Ot&261930)===0?(we=!0,e.memoizedState=a):(e=h_(),bt.lanes|=e,xr|=e,i)}function fy(e,i,a,l,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var _=Q.T,T={};Q.T=T,Xf(e,!1,i,a);try{var D=h(),z=Q.S;if(z!==null&&z(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=DA(D,l);cl(e,i,K,En(e))}else cl(e,i,l,En(e))}catch($){cl(e,i,{then:function(){},status:"rejected",reason:$},En())}finally{rt.p=d,_!==null&&T.types!==null&&(_.types=T.types),Q.T=_}}function LA(){}function Kf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=dy(e).queue;fy(e,h,i,mt,a===null?LA:function(){return my(e),a(l)})}function dy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:mt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function my(e){var i=dy(e);i.next===null&&(i=e.alternate.memoizedState),cl(e,i.next.queue,{},En())}function Yf(){return qe(Cl)}function py(){return ge().memoizedState}function gy(){return ge().memoizedState}function PA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();e=Ir(a);var l=Dr(i,e,a);l!==null&&(cn(l,i,a),sl(l,i,a)),i={cache:Af()},e.payload=i;return}i=i.return}}function UA(e,i,a){var l=En();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fc(e)?_y(i,a):(a=ff(e,i,a,l),a!==null&&(cn(a,e,l),vy(a,i,l)))}function yy(e,i,a){var l=En();cl(e,i,a,l)}function cl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(fc(e))_y(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,mn(T,_))return Qu(e,i,h,0),te===null&&Gu(),!1}catch{}if(a=ff(e,i,h,l),a!==null)return cn(a,e,l),vy(a,i,l),!0}return!1}function Xf(e,i,a,l){if(l={lane:2,revertLane:Cd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fc(e)){if(i)throw Error(s(479))}else i=ff(e,a,l,2),i!==null&&cn(i,e,2)}function fc(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function _y(e,i){La=sc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function vy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Mo(e,a)}}var hl={readContext:qe,use:lc,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};hl.useEffectEvent=he;var Ey={readContext:qe,use:lc,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:qe,useEffect:iy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,cc(4194308,4,oy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return cc(4194308,4,e,i)},useInsertionEffect:function(e,i){cc(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var l=e();if(zs){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=nn();if(a!==void 0){var h=a(i);if(zs){An(!0);try{a(i)}finally{An(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=UA.bind(null,bt,e),[l.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=qf(e);var i=e.queue,a=yy.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Gf,useDeferredValue:function(e,i){var a=nn();return Qf(a,e,i)},useTransition:function(){var e=qf(!1);return e=fy.bind(null,bt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=bt,h=nn();if(Pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),te===null)throw Error(s(349));(Ot&127)!==0||jg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,iy(Hg.bind(null,l,d,e),[e]),l.flags|=2048,Ua(9,{destroy:void 0},qg.bind(null,l,d,a,i),null),a},useId:function(){var e=nn(),i=te.identifierPrefix;if(Pt){var a=Si,l=Ti;a=(l&~(1<<32-de(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ac++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=NA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Yf,useFormState:Zg,useActionState:Zg,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Xf.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:zf,useCacheRefresh:function(){return nn().memoizedState=PA.bind(null,bt)},useEffectEvent:function(e){var i=nn(),a={impl:e};return i.memoizedState=a,function(){if((Ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},$f={readContext:qe,use:lc,useCallback:uy,useContext:qe,useEffect:Ff,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:ay,useMemo:cy,useReducer:uc,useRef:ny,useState:function(){return uc(Hi)},useDebugValue:Gf,useDeferredValue:function(e,i){var a=ge();return hy(a,Jt.memoizedState,e,i)},useTransition:function(){var e=uc(Hi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:ul(e),i]},useSyncExternalStore:Bg,useId:py,useHostTransitionStatus:Yf,useFormState:Wg,useActionState:Wg,useOptimistic:function(e,i){var a=ge();return Qg(a,Jt,e,i)},useMemoCache:zf,useCacheRefresh:gy};$f.useEffectEvent=ry;var Ty={readContext:qe,use:lc,useCallback:uy,useContext:qe,useEffect:Ff,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:ay,useMemo:cy,useReducer:jf,useRef:ny,useState:function(){return jf(Hi)},useDebugValue:Gf,useDeferredValue:function(e,i){var a=ge();return Jt===null?Qf(a,e,i):hy(a,Jt.memoizedState,e,i)},useTransition:function(){var e=jf(Hi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:ul(e),i]},useSyncExternalStore:Bg,useId:py,useHostTransitionStatus:Yf,useFormState:ey,useActionState:ey,useOptimistic:function(e,i){var a=ge();return Jt!==null?Qg(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:zf,useCacheRefresh:gy};Ty.useEffectEvent=ry;function Jf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Zf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=En(),h=Ir(l);h.payload=i,a!=null&&(h.callback=a),i=Dr(e,h,l),i!==null&&(cn(i,e,l),sl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=En(),h=Ir(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Dr(e,h,l),i!==null&&(cn(i,e,l),sl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=En(),l=Ir(a);l.tag=2,i!=null&&(l.callback=i),i=Dr(e,l,a),i!==null&&(cn(i,e,a),sl(i,e,a))}};function Sy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Jo(a,l)||!Jo(h,d):!0}function Ay(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Zf.enqueueReplaceState(i,i.state,null)}function Bs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Ry(e){Fu(e)}function wy(e){console.error(e)}function by(e){Fu(e)}function dc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Cy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wf(e,i,a){return a=Ir(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(e,i)},a}function Iy(e){return e=Ir(e),e.tag=3,e}function Dy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Cy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Cy(i,a,l),typeof h!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function kA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Da(i,a,h,!0),a=gn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?wc():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Rd(e,l,h)),!1;case 22:return a.flags|=65536,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Rd(e,l,h)),!1}throw Error(s(435,a.tag))}return Rd(e,l,h),wc(),!1}if(Pt)return i=gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==_f&&(e=Error(s(422),{cause:l}),tl(Dn(e,a)))):(l!==_f&&(i=Error(s(423),{cause:l}),tl(Dn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Dn(l,a),h=Wf(e.stateNode,l,h),Df(e,h),fe!==4&&(fe=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),vl===null?vl=[d]:vl.push(d),fe!==4&&(fe=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Wf(a.stateNode,l,e),Df(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Lr===null||!Lr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Iy(h),Dy(h,e,a,l),Df(a,h),!1}a=a.return}while(a!==null);return!1}var td=Error(s(461)),we=!1;function He(e,i,a,l){i.child=e===null?Vg(i,null,a,l):ks(i,e.child,a,l)}function Ny(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return xs(i),l=Lf(e,i,a,_,d,h),T=Pf(),e!==null&&!we?(Uf(e,i,h),Fi(e,i,h)):(Pt&&T&&gf(i),i.flags|=1,He(e,i,l,h),i.child)}function Oy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!df(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,My(e,i,d,l,h)):(e=Yu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!ld(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(_,l)&&e.ref===i.ref)return Fi(e,i,h)}return i.flags|=1,e=ki(d,l),e.ref=i.ref,e.return=i,i.child=e}function My(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Jo(d,l)&&e.ref===i.ref)if(we=!1,i.pendingProps=l=d,ld(e,h))(e.flags&131072)!==0&&(we=!0);else return i.lanes=e.lanes,Fi(e,i,h)}return ed(e,i,a,l,h)}function Vy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return xy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zu(i,d!==null?d.cachePool:null),d!==null?Pg(i,d):Of(),Ug(i);else return l=i.lanes=536870912,xy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Zu(i,d.cachePool),Pg(i,d),Or(),i.memoizedState=null):(e!==null&&Zu(i,null),Of(),Or());return He(e,i,h,a),i.child}function fl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function xy(e,i,a,l,h){var d=wf();return d=d===null?null:{parent:Ae._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Zu(i,null),Of(),Ug(i),e!==null&&Da(e,i,l,!0),i.childLanes=h,null}function mc(e,i){return i=gc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Ly(e,i,a){return ks(i,e.child,null,a),e=mc(i,i.pendingProps),e.flags|=2,yn(i),i.memoizedState=null,e}function zA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Pt){if(l.mode==="hidden")return e=mc(i,l),i.lanes=536870912,fl(null,e);if(Vf(i),(e=ne)?(e=K_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Ar!==null?{id:Ti,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=_g(e),a.return=i,i.child=a,je=i,ne=null)):e=null,e===null)throw wr(i);return i.lanes=536870912,null}return mc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Vf(i),h)if(i.flags&256)i.flags&=-257,i=Ly(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(we||Da(e,i,a,!1),h=(a&e.childLanes)!==0,we||h){if(l=te,l!==null&&(_=Vo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ns(e,_),cn(l,e,_),td;wc(),i=Ly(e,i,a)}else e=d.treeContext,ne=xn(_.nextSibling),je=i,Pt=!0,Rr=null,Mn=!1,e!==null&&Tg(i,e),i=mc(i,l),i.flags|=4096;return i}return e=ki(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function pc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function ed(e,i,a,l,h){return xs(i),a=Lf(e,i,a,l,void 0,h),l=Pf(),e!==null&&!we?(Uf(e,i,h),Fi(e,i,h)):(Pt&&l&&gf(i),i.flags|=1,He(e,i,a,h),i.child)}function Py(e,i,a,l,h,d){return xs(i),i.updateQueue=null,a=zg(i,l,a,h),kg(e),l=Pf(),e!==null&&!we?(Uf(e,i,d),Fi(e,i,d)):(Pt&&l&&gf(i),i.flags|=1,He(e,i,a,d),i.child)}function Uy(e,i,a,l,h){if(xs(i),i.stateNode===null){var d=wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=qe(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Zf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Cf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?qe(_):wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Jf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Zf.enqueueReplaceState(d,d.state,null),ol(i,l,d,h),al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,D=Bs(a,T);d.props=D;var z=d.context,K=a.contextType;_=wa,typeof K=="object"&&K!==null&&(_=qe(K));var $=a.getDerivedStateFromProps;K=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&Ay(i,d,l,_),Cr=!1;var j=i.memoizedState;d.state=j,ol(i,l,d,h),al(),z=i.memoizedState,T||j!==z||Cr?(typeof $=="function"&&(Jf(i,a,$,l),z=i.memoizedState),(D=Cr||Sy(i,a,D,l,j,z,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,If(e,i),_=i.memoizedProps,K=Bs(a,_),d.props=K,$=i.pendingProps,j=d.context,z=a.contextType,D=wa,typeof z=="object"&&z!==null&&(D=qe(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||j!==D)&&Ay(i,d,l,D),Cr=!1,j=i.memoizedState,d.state=j,ol(i,l,d,h),al();var F=i.memoizedState;_!==$||j!==F||Cr||e!==null&&e.dependencies!==null&&$u(e.dependencies)?(typeof T=="function"&&(Jf(i,a,T,l),F=i.memoizedState),(K=Cr||Sy(i,a,K,l,j,F,D)||e!==null&&e.dependencies!==null&&$u(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=D,l=K):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,pc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=ks(i,e.child,null,h),i.child=ks(i,null,a,h)):He(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Fi(e,i,h),e}function ky(e,i,a,l){return Ms(),i.flags|=256,He(e,i,a,l),i.child}var nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function id(e){return{baseLanes:e,cachePool:Cg()}}function rd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=vn),e}function zy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Pt){if(h?Nr(i):Or(),(e=ne)?(e=K_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Ar!==null?{id:Ti,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=_g(e),a.return=i,i.child=a,je=i,ne=null)):e=null,e===null)throw wr(i);return Bd(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Or(),h=i.mode,T=gc({mode:"hidden",children:T},h),l=Os(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=id(a),l.childLanes=rd(e,_,a),i.memoizedState=nd,fl(null,l)):(Nr(i),sd(i,T))}var D=e.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(Nr(i),i.flags&=-257,i=ad(e,i,a)):i.memoizedState!==null?(Or(),i.child=e.child,i.flags|=128,i=null):(Or(),T=l.fallback,h=i.mode,l=gc({mode:"visible",children:l.children},h),T=Os(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,ks(i,e.child,null,a),l=i.child,l.memoizedState=id(a),l.childLanes=rd(e,_,a),i.memoizedState=nd,i=fl(null,l));else if(Nr(i),Bd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,tl({value:l,source:null,stack:null}),i=ad(e,i,a)}else if(we||Da(e,i,a,!1),_=(a&e.childLanes)!==0,we||_){if(_=te,_!==null&&(l=Vo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ns(e,l),cn(_,e,l),td;zd(T)||wc(),i=ad(e,i,a)}else zd(T)?(i.flags|=192,i.child=e.child,i=null):(e=D.treeContext,ne=xn(T.nextSibling),je=i,Pt=!0,Rr=null,Mn=!1,e!==null&&Tg(i,e),i=sd(i,l.children),i.flags|=4096);return i}return h?(Or(),T=l.fallback,h=i.mode,D=e.child,z=D.sibling,l=ki(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,z!==null?T=ki(z,T):(T=Os(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,fl(null,l),l=i.child,T=e.child.memoizedState,T===null?T=id(a):(h=T.cachePool,h!==null?(D=Ae._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Cg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=rd(e,_,a),i.memoizedState=nd,fl(e.child,l)):(Nr(i),a=e.child,e=a.sibling,a=ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function sd(e,i){return i=gc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function gc(e,i){return e=pn(22,e,null,i),e.lanes=0,e}function ad(e,i,a){return ks(i,e.child,null,a),e=sd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function By(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Tf(e.return,i,a)}function od(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function jy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pe.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,st(pe,_),He(e,i,l,a),l=Pt?Wo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&By(e,a,i);else if(e.tag===19)By(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&rc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),od(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&rc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}od(i,!0,a,null,d,l);break;case"together":od(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Fi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),xr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Da(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=ki(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=ki(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function ld(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&$u(e)))}function BA(e,i,a){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),br(i,Ae,e.memoizedState.cache),Ms();break;case 27:case 5:fs(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:br(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Vf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Nr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?zy(e,i,a):(Nr(i),e=Fi(e,i,a),e!==null?e.sibling:null);Nr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Da(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return jy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(pe,pe.current),l)break;return null;case 22:return i.lanes=0,Vy(e,i,a,i.pendingProps);case 24:br(i,Ae,e.memoizedState.cache)}return Fi(e,i,a)}function qy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)we=!0;else{if(!ld(e,a)&&(i.flags&128)===0)return we=!1,BA(e,i,a);we=(e.flags&131072)!==0}else we=!1,Pt&&(i.flags&1048576)!==0&&Eg(i,Wo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Ps(i.elementType),i.type=e,typeof e=="function")df(e)?(l=Bs(e,l),i.tag=1,i=Uy(null,i,e,l,a)):(i.tag=0,i=ed(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===Tt){i.tag=11,i=Ny(null,i,e,l,a);break t}else if(h===w){i.tag=14,i=Oy(null,i,e,l,a);break t}}throw i=Xt(e)||e,Error(s(306,i,""))}}return i;case 0:return ed(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Bs(l,i.pendingProps),Uy(e,i,l,h,a);case 3:t:{if(Oe(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,If(e,i),ol(i,l,null,a);var _=i.memoizedState;if(l=_.cache,br(i,Ae,l),l!==d.cache&&Sf(i,[Ae],a,!0),al(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ky(e,i,l,a);break t}else if(l!==h){h=Dn(Error(s(424)),i),tl(h),i=ky(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=xn(e.firstChild),je=i,Pt=!0,Rr=null,Mn=!0,a=Vg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ms(),l===h){i=Fi(e,i,a);break t}He(e,i,l,a)}i=i.child}return i;case 26:return pc(e,i),e===null?(a=W_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pt||(a=i.type,e=i.pendingProps,l=Mc(Ct.current).createElement(a),l[Ee]=i,l[Le]=e,Fe(l,a,e),Te(l),i.stateNode=l):i.memoizedState=W_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return fs(i),e===null&&Pt&&(l=i.stateNode=$_(i.type,i.pendingProps,Ct.current),je=i,Mn=!0,h=ne,zr(i.type)?(jd=h,ne=xn(l.firstChild)):ne=h),He(e,i,i.pendingProps.children,a),pc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Pt&&((h=l=ne)&&(l=gR(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,je=i,ne=xn(l.firstChild),Mn=!1,h=!0):h=!1),h||wr(i)),fs(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Pd(h,d)?l=null:_!==null&&Pd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Lf(e,i,OA,null,null,a),Cl._currentValue=h),pc(e,i),He(e,i,l,a),i.child;case 6:return e===null&&Pt&&((e=a=ne)&&(a=yR(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,je=i,ne=null,e=!0):e=!1),e||wr(i)),null;case 13:return zy(e,i,a);case 4:return Oe(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ks(i,null,l,a):He(e,i,l,a),i.child;case 11:return Ny(e,i,i.type,i.pendingProps,a);case 7:return He(e,i,i.pendingProps,a),i.child;case 8:return He(e,i,i.pendingProps.children,a),i.child;case 12:return He(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,br(i,i.type,l.value),He(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,xs(i),h=qe(h),l=l(h),i.flags|=1,He(e,i,l,a),i.child;case 14:return Oy(e,i,i.type,i.pendingProps,a);case 15:return My(e,i,i.type,i.pendingProps,a);case 19:return jy(e,i,a);case 31:return zA(e,i,a);case 22:return Vy(e,i,a,i.pendingProps);case 24:return xs(i),l=qe(Ae),e===null?(h=wf(),h===null&&(h=te,d=Af(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Cf(i),br(i,Ae,h)):((e.lanes&a)!==0&&(If(e,i),ol(i,null,null,a),al()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),br(i,Ae,l)):(l=d.cache,br(i,Ae,l),l!==h.cache&&Sf(i,[Ae],a,!0))),He(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gi(e){e.flags|=4}function ud(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(p_())e.flags|=8192;else throw Us=tc,bf}else e.flags&=-16777217}function Hy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!rv(i))if(p_())e.flags|=8192;else throw Us=tc,bf}function yc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Au():536870912,e.lanes|=i,ja|=i)}function dl(e,i){if(!Pt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function jA(e,i,a){var l=i.pendingProps;switch(yf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ji(Ae),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ia(i)?Gi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vf())),ie(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Gi(i),d!==null?(ie(i),Hy(i,d)):(ie(i),ud(i,h,null,l,a))):d?d!==e.memoizedState?(Gi(i),ie(i),Hy(i,d)):(ie(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Gi(i),ie(i),ud(i,h,e,l,a)),null;case 27:if(aa(i),a=Ct.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}e=ut.current,Ia(i)?Sg(i):(e=$_(h,l,a),i.stateNode=e,Gi(i))}return ie(i),null;case 5:if(aa(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}if(d=ut.current,Ia(i))Sg(i);else{var _=Mc(Ct.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Ee]=i,d[Le]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Fe(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Gi(i)}}return ie(i),ud(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Ct.current,Ia(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||z_(e.nodeValue,a)),e||wr(i,!0)}else e=Mc(e).createTextNode(l),e[Ee]=i,i.stateNode=e}return ie(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Ia(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ee]=i}else Ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),e=!1}else a=vf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(yn(i),i):(yn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ie(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ia(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=i}else Ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=vf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(yn(i),i):(yn(i),null)}return yn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),yc(i,i.updateQueue),ie(i),null);case 4:return se(),e===null&&Od(i.stateNode.containerInfo),ie(i),null;case 10:return ji(i.type),ie(i),null;case 19:if(J(pe),l=i.memoizedState,l===null)return ie(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)dl(l,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=rc(e),d!==null){for(i.flags|=128,dl(l,!1),e=d.updateQueue,i.updateQueue=e,yc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)yg(a,e),a=a.sibling;return st(pe,pe.current&1|2),Pt&&zi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&tn()>Sc&&(i.flags|=128,h=!0,dl(l,!1),i.lanes=4194304)}else{if(!h)if(e=rc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,yc(i,e),dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pt)return ie(i),null}else 2*tn()-l.renderingStartTime>Sc&&a!==536870912&&(i.flags|=128,h=!0,dl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,a=pe.current,st(pe,h?a&1|2:a&1),Pt&&zi(i,l.treeForkCount),e):(ie(i),null);case 22:case 23:return yn(i),Mf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&yc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&J(Ls),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(Ae),ie(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function qA(e,i){switch(yf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ji(Ae),se(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return aa(i),null;case 31:if(i.memoizedState!==null){if(yn(i),i.alternate===null)throw Error(s(340));Ms()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(yn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ms()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return J(pe),null;case 4:return se(),null;case 10:return ji(i.type),null;case 22:case 23:return yn(i),Mf(),e!==null&&J(Ls),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ji(Ae),null;case 25:return null;default:return null}}function Fy(e,i){switch(yf(i),i.tag){case 3:ji(Ae),se();break;case 26:case 27:case 5:aa(i);break;case 4:se();break;case 31:i.memoizedState!==null&&yn(i);break;case 13:yn(i);break;case 19:J(pe);break;case 10:ji(i.type);break;case 22:case 23:yn(i),Mf(),e!==null&&J(Ls);break;case 24:ji(Ae)}}function ml(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(i,i.return,T)}}function Mr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var D=a,z=T;try{z()}catch(K){Yt(h,D,K)}}}l=l.next}while(l!==d)}}catch(K){Yt(i,i.return,K)}}function Gy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Lg(i,a)}catch(l){Yt(e,e.return,l)}}}function Qy(e,i,a){a.props=Bs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,i,l)}}function pl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Yt(e,i,h)}}function Ai(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function Ky(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function cd(e,i,a){try{var l=e.stateNode;cR(l,e.type,a,i),l[Le]=i}catch(h){Yt(e,e.return,h)}}function Yy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zr(e.type)||e.tag===4}function hd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Yy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fn));else if(l!==4&&(l===27&&zr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(fd(e,i,a),e=e.sibling;e!==null;)fd(e,i,a),e=e.sibling}function _c(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&zr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(_c(e,i,a),e=e.sibling;e!==null;)_c(e,i,a),e=e.sibling}function Xy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Fe(i,l,a),i[Ee]=e,i[Le]=a}catch(d){Yt(e,e.return,d)}}var Qi=!1,be=!1,dd=!1,$y=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function HA(e,i){if(e=e.containerInfo,xd=zc,e=lg(e),af(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,D=-1,z=0,K=0,$=e,j=null;e:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(T=_+h),$!==d||l!==0&&$.nodeType!==3||(D=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(F=$.firstChild)!==null;)j=$,$=F;for(;;){if($===e)break e;if(j===a&&++z===h&&(T=_),j===d&&++K===l&&(D=_),(F=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=F}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ld={focusedElem:e,selectionRange:a},zc=!1,Ue=i;Ue!==null;)if(i=Ue,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ue=e;else for(;Ue!==null;){switch(i=Ue,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=Bs(a.type,h);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Yt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)kd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ue=e;break}Ue=i.return}}function Jy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(e,a),l&4&&ml(5,a);break;case 1:if(Yi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=Bs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}l&64&&Gy(a),l&512&&pl(a,a.return);break;case 3:if(Yi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Lg(e,i)}catch(_){Yt(a,a.return,_)}}break;case 27:i===null&&l&4&&Xy(a);case 26:case 5:Yi(e,a),i===null&&l&4&&Ky(a),l&512&&pl(a,a.return);break;case 12:Yi(e,a);break;case 31:Yi(e,a),l&4&&t_(e,a);break;case 13:Yi(e,a),l&4&&e_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ZA.bind(null,a),_R(e,a))));break;case 22:if(l=a.memoizedState!==null||Qi,!l){i=i!==null&&i.memoizedState!==null||be,h=Qi;var d=be;Qi=l,(be=i)&&!d?Xi(e,a,(a.subtreeFlags&8772)!==0):Yi(e,a),Qi=h,be=d}break;case 30:break;default:Yi(e,a)}}function Zy(e){var i=e.alternate;i!==null&&(e.alternate=null,Zy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ha(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Ki(e,i,a){for(a=a.child;a!==null;)Wy(e,i,a),a=a.sibling}function Wy(e,i,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:be||Ai(a,i),Ki(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:be||Ai(a,i);var l=oe,h=an;zr(a.type)&&(oe=a.stateNode,an=!1),Ki(e,i,a),Rl(a.stateNode),oe=l,an=h;break;case 5:be||Ai(a,i);case 6:if(l=oe,h=an,oe=null,Ki(e,i,a),oe=l,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){Yt(a,i,d)}else try{oe.removeChild(a.stateNode)}catch(d){Yt(a,i,d)}break;case 18:oe!==null&&(an?(e=oe,G_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Xa(e)):G_(oe,a.stateNode));break;case 4:l=oe,h=an,oe=a.stateNode.containerInfo,an=!0,Ki(e,i,a),oe=l,an=h;break;case 0:case 11:case 14:case 15:Mr(2,a,i),be||Mr(4,a,i),Ki(e,i,a);break;case 1:be||(Ai(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Qy(a,i,l)),Ki(e,i,a);break;case 21:Ki(e,i,a);break;case 22:be=(l=be)||a.memoizedState!==null,Ki(e,i,a),be=l;break;default:Ki(e,i,a)}}function t_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(a){Yt(i,i.return,a)}}}function e_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(a){Yt(i,i.return,a)}}function FA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new $y),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new $y),i;default:throw Error(s(435,e.tag))}}function vc(e,i){var a=FA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=WA.bind(null,e,l);l.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(zr(T.type)){oe=T.stateNode,an=!1;break t}break;case 5:oe=T.stateNode,an=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(oe===null)throw Error(s(160));Wy(d,_,h),oe=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)n_(i,e),i=i.sibling}var $n=null;function n_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),l&4&&(Mr(3,e,e.return),ml(3,e),Mr(5,e,e.return));break;case 1:on(i,e),ln(e),l&512&&(be||a===null||Ai(a,a.return)),l&64&&Qi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=$n;if(on(i,e),ln(e),l&512&&(be||a===null||Ai(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ui]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Fe(d,l,a),d[Ee]=e,Te(d),l=d;break t;case"link":var _=nv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;case"meta":if(_=nv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ee]=e,Te(d),l=d}e.stateNode=l}else iv(h,e.type,e.stateNode);else e.stateNode=ev(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?iv(h,e.type,e.stateNode):ev(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&cd(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),l&512&&(be||a===null||Ai(a,a.return)),a!==null&&l&4&&cd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),l&512&&(be||a===null||Ai(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(ct){Yt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,cd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(dd=!0);break;case 6:if(on(i,e),ln(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){Yt(e,e.return,ct)}}break;case 3:if(Lc=null,h=$n,$n=Vc(i.containerInfo),on(i,e),$n=h,ln(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(i.containerInfo)}catch(ct){Yt(e,e.return,ct)}dd&&(dd=!1,i_(e));break;case 4:l=$n,$n=Vc(e.stateNode.containerInfo),on(i,e),ln(e),$n=l;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vc(e,l)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tc=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vc(e,l)));break;case 22:h=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,z=Qi,K=be;if(Qi=z||h,be=K||D,on(i,e),be=K,Qi=z,ln(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||Qi||be||js(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var $=D.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ct){Yt(D,D.return,ct)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ct){Yt(D,D.return,ct)}}}else if(i.tag===18){if(a===null){D=i;try{var F=D.stateNode;h?Q_(F,!0):Q_(D.stateNode,!1)}catch(ct){Yt(D,D.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vc(e,a))));break;case 19:on(i,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vc(e,l)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Yy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=hd(e);_c(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var T=hd(e);_c(e,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,z=hd(e);fd(e,z,D);break;default:throw Error(s(161))}}catch(K){Yt(e,e.return,K)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function i_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;i_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Yi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Jy(e,i.alternate,i),i=i.sibling}function js(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),js(i);break;case 1:Ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Qy(i,i.return,a),js(i);break;case 27:Rl(i.stateNode);case 26:case 5:Ai(i,i.return),js(i);break;case 22:i.memoizedState===null&&js(i);break;case 30:js(i);break;default:js(i)}e=e.sibling}}function Xi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Xi(h,d,a),ml(4,d);break;case 1:if(Xi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)xg(D[h],T)}catch(z){Yt(l,l.return,z)}}a&&_&64&&Gy(d),pl(d,d.return);break;case 27:Xy(d);case 26:case 5:Xi(h,d,a),a&&l===null&&_&4&&Ky(d),pl(d,d.return);break;case 12:Xi(h,d,a);break;case 31:Xi(h,d,a),a&&_&4&&t_(h,d);break;case 13:Xi(h,d,a),a&&_&4&&e_(h,d);break;case 22:d.memoizedState===null&&Xi(h,d,a),pl(d,d.return);break;case 30:break;default:Xi(h,d,a)}i=i.sibling}}function md(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&el(a))}function pd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&el(e))}function Jn(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)r_(e,i,a,l),i=i.sibling}function r_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(e,i,a,l),h&2048&&ml(9,i);break;case 1:Jn(e,i,a,l);break;case 3:Jn(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&el(e)));break;case 12:if(h&2048){Jn(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Yt(i,i.return,D)}}else Jn(e,i,a,l);break;case 31:Jn(e,i,a,l);break;case 13:Jn(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Jn(e,i,a,l):gl(e,i):d._visibility&2?Jn(e,i,a,l):(d._visibility|=2,ka(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&md(_,i);break;case 24:Jn(e,i,a,l),h&2048&&pd(i.alternate,i);break;default:Jn(e,i,a,l)}}function ka(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,D=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:ka(d,_,T,D,h),ml(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?ka(d,_,T,D,h):gl(d,_):(K._visibility|=2,ka(d,_,T,D,h)),h&&z&2048&&md(_.alternate,_);break;case 24:ka(d,_,T,D,h),h&&z&2048&&pd(_.alternate,_);break;default:ka(d,_,T,D,h)}i=i.sibling}}function gl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&md(l.alternate,l);break;case 24:gl(a,l),h&2048&&pd(l.alternate,l);break;default:gl(a,l)}i=i.sibling}}var yl=8192;function za(e,i,a){if(e.subtreeFlags&yl)for(e=e.child;e!==null;)s_(e,i,a),e=e.sibling}function s_(e,i,a){switch(e.tag){case 26:za(e,i,a),e.flags&yl&&e.memoizedState!==null&&NR(a,$n,e.memoizedState,e.memoizedProps);break;case 5:za(e,i,a);break;case 3:case 4:var l=$n;$n=Vc(e.stateNode.containerInfo),za(e,i,a),$n=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=yl,yl=16777216,za(e,i,a),yl=l):za(e,i,a));break;default:za(e,i,a)}}function a_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function _l(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,l_(l,e)}a_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)o_(e),e=e.sibling}function o_(e){switch(e.tag){case 0:case 11:case 15:_l(e),e.flags&2048&&Mr(9,e,e.return);break;case 3:_l(e);break;case 12:_l(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ec(e)):_l(e);break;default:_l(e)}}function Ec(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,l_(l,e)}a_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),Ec(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(i));break;default:Ec(i)}e=e.sibling}}function l_(e,i){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=e;Ue!==null;){l=Ue;var h=l.sibling,d=l.return;if(Zy(l),l===a){Ue=null;break t}if(h!==null){h.return=d,Ue=h;break t}Ue=d}}}var GA={getCacheForType:function(e){var i=qe(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},QA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Dt=null,Ot=0,Kt=0,_n=null,Vr=!1,Ba=!1,gd=!1,$i=0,fe=0,xr=0,qs=0,yd=0,vn=0,ja=0,vl=null,un=null,_d=!1,Tc=0,u_=0,Sc=1/0,Ac=null,Lr=null,Ve=0,Pr=null,qa=null,Ji=0,vd=0,Ed=null,c_=null,El=0,Td=null;function En(){return(Ht&2)!==0&&Ot!==0?Ot&-Ot:Q.T!==null?Cd():Ru()}function h_(){if(vn===0)if((Ot&536870912)===0||Pt){var e=ps;ps<<=1,(ps&3932160)===0&&(ps=262144),vn=e}else vn=536870912;return e=gn.current,e!==null&&(e.flags|=32),vn}function cn(e,i,a){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),Ur(e,Ot,vn,!1)),gs(e,a),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(qs|=a),fe===4&&Ur(e,Ot,vn,!1)),Ri(e))}function f_(e,i,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||jn(e,i),h=l?XA(e,i):Ad(e,i,!0),d=l;do{if(h===0){Ba&&!l&&Ur(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!KA(a)){h=Ad(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=vl;var D=T.current.memoizedState.isDehydrated;if(D&&(Ha(T,_).flags|=256),_=Ad(T,_,!1),_!==2){if(gd&&!D){T.errorRecoveryDisabledLanes|=d,qs|=d,h=4;break t}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ha(e,0),Ur(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ur(l,i,vn,!Vr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Tc+300-tn(),10<h)){if(Ur(l,i,vn,!Vr),ai(l,0,!0)!==0)break t;Ji=i,l.timeoutHandle=H_(d_.bind(null,l,a,un,Ac,_d,i,vn,qs,ja,Vr,d,"Throttled",-0,0),h);break t}d_(l,a,un,Ac,_d,i,vn,qs,ja,Vr,d,null,-0,0)}}break}while(!0);Ri(e)}function d_(e,i,a,l,h,d,_,T,D,z,K,$,j,F){if(e.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},s_(i,d,$);var ct=(d&62914560)===d?Tc-tn():(d&4194048)===d?u_-tn():0;if(ct=OR($,ct),ct!==null){Ji=d,e.cancelPendingCommit=ct(T_.bind(null,e,i,d,a,l,h,_,T,D,K,$,null,j,F)),Ur(e,d,_,!z);return}}T_(e,i,d,a,l,h,_,T,D)}function KA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ur(e,i,a,l){i&=~yd,i&=~qs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-de(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ys(e,a,i)}function Rc(){return(Ht&6)===0?(Tl(0),!1):!0}function Sd(){if(Dt!==null){if(Kt===0)var e=Dt.return;else e=Dt,Bi=Vs=null,kf(e),Va=null,il=0,e=Dt;for(;e!==null;)Fy(e.alternate,e),e=e.return;Dt=null}}function Ha(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,dR(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ji=0,Sd(),te=e,Dt=a=ki(e.current,null),Ot=i,Kt=0,_n=null,Vr=!1,Ba=jn(e,i),gd=!1,ja=vn=yd=qs=xr=fe=0,un=vl=null,_d=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-de(l),d=1<<h;i|=e[h],l&=~d}return $i=i,Gu(),a}function m_(e,i){bt=null,Q.H=hl,i===Ma||i===Wu?(i=Ng(),Kt=3):i===bf?(i=Ng(),Kt=4):Kt=i===td?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,Dt===null&&(fe=1,dc(e,Dn(i,e.current)))}function p_(){var e=gn.current;return e===null?!0:(Ot&4194048)===Ot?Vn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Vn:!1}function g_(){var e=Q.H;return Q.H=hl,e===null?hl:e}function y_(){var e=Q.A;return Q.A=GA,e}function wc(){fe=4,Vr||(Ot&4194048)!==Ot&&gn.current!==null||(Ba=!0),(xr&134217727)===0&&(qs&134217727)===0||te===null||Ur(te,Ot,vn,!1)}function Ad(e,i,a){var l=Ht;Ht|=2;var h=g_(),d=y_();(te!==e||Ot!==i)&&(Ac=null,Ha(e,i)),i=!1;var _=fe;t:do try{if(Kt!==0&&Dt!==null){var T=Dt,D=_n;switch(Kt){case 8:Sd(),_=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(i=!0);var z=Kt;if(Kt=0,_n=null,Fa(e,T,D,z),a&&Ba){_=0;break t}break;default:z=Kt,Kt=0,_n=null,Fa(e,T,D,z)}}YA(),_=fe;break}catch(K){m_(e,K)}while(!0);return i&&e.shellSuspendCounter++,Bi=Vs=null,Ht=l,Q.H=h,Q.A=d,Dt===null&&(te=null,Ot=0,Gu()),_}function YA(){for(;Dt!==null;)__(Dt)}function XA(e,i){var a=Ht;Ht|=2;var l=g_(),h=y_();te!==e||Ot!==i?(Ac=null,Sc=tn()+500,Ha(e,i)):Ba=jn(e,i);t:do try{if(Kt!==0&&Dt!==null){i=Dt;var d=_n;e:switch(Kt){case 1:Kt=0,_n=null,Fa(e,i,d,1);break;case 2:case 9:if(Ig(d)){Kt=0,_n=null,v_(i);break}i=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),Ri(e)},d.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Ig(d)?(Kt=0,_n=null,v_(i)):(Kt=0,_n=null,Fa(e,i,d,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var T=Dt;if(_?rv(_):T.stateNode.complete){Kt=0,_n=null;var D=T.sibling;if(D!==null)Dt=D;else{var z=T.return;z!==null?(Dt=z,bc(z)):Dt=null}break e}}Kt=0,_n=null,Fa(e,i,d,5);break;case 6:Kt=0,_n=null,Fa(e,i,d,6);break;case 8:Sd(),fe=6;break t;default:throw Error(s(462))}}$A();break}catch(K){m_(e,K)}while(!0);return Bi=Vs=null,Q.H=l,Q.A=h,Ht=a,Dt!==null?0:(te=null,Ot=0,Gu(),fe)}function $A(){for(;Dt!==null&&!Zh();)__(Dt)}function __(e){var i=qy(e.alternate,e,$i);e.memoizedProps=e.pendingProps,i===null?bc(e):Dt=i}function v_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Py(a,i,i.pendingProps,i.type,void 0,Ot);break;case 11:i=Py(a,i,i.pendingProps,i.type.render,i.ref,Ot);break;case 5:kf(i);default:Fy(a,i),i=Dt=yg(i,$i),i=qy(a,i,$i)}e.memoizedProps=e.pendingProps,i===null?bc(e):Dt=i}function Fa(e,i,a,l){Bi=Vs=null,kf(i),Va=null,il=0;var h=i.return;try{if(kA(e,h,i,a,Ot)){fe=1,dc(e,Dn(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;fe=1,dc(e,Dn(a,e.current)),Dt=null;return}i.flags&32768?(Pt||l===1?e=!0:Ba||(Ot&536870912)!==0?e=!1:(Vr=e=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),E_(i,e)):bc(i)}function bc(e){var i=e;do{if((i.flags&32768)!==0){E_(i,Vr);return}e=i.return;var a=jA(i.alternate,i,$i);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);fe===0&&(fe=5)}function E_(e,i){do{var a=qA(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);fe=6,Dt=null}function T_(e,i,a,l,h,d,_,T,D){e.cancelPendingCommit=null;do Cc();while(Ve!==0);if((Ht&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=hf,ef(e,a,d,_,T,D),e===te&&(Dt=te=null,Ot=0),qa=i,Pr=e,Ji=a,vd=d,Ed=h,c_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tR(dr,function(){return b_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=rt.p,rt.p=2,_=Ht,Ht|=4;try{HA(e,i,a)}finally{Ht=_,rt.p=h,Q.T=l}}Ve=1,S_(),A_(),R_()}}function S_(){if(Ve===1){Ve=0;var e=Pr,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=rt.p;rt.p=2;var h=Ht;Ht|=4;try{n_(i,e);var d=Ld,_=lg(e.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&og(T.ownerDocument.documentElement,T)){if(D!==null&&af(T)){var z=D.start,K=D.end;if(K===void 0&&(K=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(K,T.value.length);else{var $=T.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var F=j.getSelection(),ct=T.textContent.length,pt=Math.min(D.start,ct),Wt=D.end===void 0?pt:Math.min(D.end,ct);!F.extend&&pt>Wt&&(_=Wt,Wt=pt,pt=_);var x=ag(T,pt),O=ag(T,Wt);if(x&&O&&(F.rangeCount!==1||F.anchorNode!==x.node||F.anchorOffset!==x.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var k=$.createRange();k.setStart(x.node,x.offset),F.removeAllRanges(),pt>Wt?(F.addRange(k),F.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),F.addRange(k))}}}}for($=[],F=T;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Y=$[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}zc=!!xd,Ld=xd=null}finally{Ht=h,rt.p=l,Q.T=a}}e.current=i,Ve=2}}function A_(){if(Ve===2){Ve=0;var e=Pr,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=rt.p;rt.p=2;var h=Ht;Ht|=4;try{Jy(e,i.alternate,i)}finally{Ht=h,rt.p=l,Q.T=a}}Ve=3}}function R_(){if(Ve===4||Ve===3){Ve=0,yu();var e=Pr,i=qa,a=Ji,l=c_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ve=5:(Ve=0,qa=Pr=null,w_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Lr=null),xi(a),i=i.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=rt.p,rt.p=2,Q.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,rt.p=h}}(Ji&3)!==0&&Cc(),Ri(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Td?El++:(El=0,Td=e):El=0,Tl(0)}}function w_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,el(i)))}function Cc(){return S_(),A_(),R_(),b_()}function b_(){if(Ve!==5)return!1;var e=Pr,i=vd;vd=0;var a=xi(Ji),l=Q.T,h=rt.p;try{rt.p=32>a?32:a,Q.T=null,a=Ed,Ed=null;var d=Pr,_=Ji;if(Ve=0,qa=Pr=null,Ji=0,(Ht&6)!==0)throw Error(s(331));var T=Ht;if(Ht|=4,o_(d.current),r_(d,d.current,_,a),Ht=T,Tl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{rt.p=h,Q.T=l,w_(e,i)}}function C_(e,i,a){i=Dn(a,i),i=Wf(e.stateNode,i,2),e=Dr(e,i,2),e!==null&&(gs(e,2),Ri(e))}function Yt(e,i,a){if(e.tag===3)C_(e,e,a);else for(;i!==null;){if(i.tag===3){C_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Lr===null||!Lr.has(l))){e=Dn(a,e),a=Iy(2),l=Dr(i,a,2),l!==null&&(Dy(a,l,i,e),gs(l,2),Ri(l));break}}i=i.return}}function Rd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new QA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(gd=!0,h.add(a),e=JA.bind(null,e,i,a),i.then(e,e))}function JA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Ot&a)===a&&(fe===4||fe===3&&(Ot&62914560)===Ot&&300>tn()-Tc?(Ht&2)===0&&Ha(e,0):yd|=a,ja===Ot&&(ja=0)),Ri(e)}function I_(e,i){i===0&&(i=Au()),e=Ns(e,i),e!==null&&(gs(e,i),Ri(e))}function ZA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),I_(e,a)}function WA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),I_(e,a)}function tR(e,i){return Me(e,i)}var Ic=null,Ga=null,wd=!1,Dc=!1,bd=!1,kr=0;function Ri(e){e!==Ga&&e.next===null&&(Ga===null?Ic=Ga=e:Ga=Ga.next=e),Dc=!0,wd||(wd=!0,nR())}function Tl(e,i){if(!bd&&Dc){bd=!0;do for(var a=!1,l=Ic;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-de(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,M_(l,d))}else d=Ot,d=ai(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||jn(l,d)||(a=!0,M_(l,d));l=l.next}while(a);bd=!1}}function eR(){D_()}function D_(){Dc=wd=!1;var e=0;kr!==0&&fR()&&(e=kr);for(var i=tn(),a=null,l=Ic;l!==null;){var h=l.next,d=N_(l,i);d===0?(l.next=null,a===null?Ic=h:a.next=h,h===null&&(Ga=a)):(a=l,(e!==0||(d&3)!==0)&&(Dc=!0)),l=h}Ve!==0&&Ve!==5||Tl(e),kr!==0&&(kr=0)}function N_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-de(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=tf(T,i)):D<=i&&(e.expiredLanes|=T),d&=~T}if(i=te,a=Ot,a=ai(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&fr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&fr(l),xi(a)){case 2:case 8:a=Oo;break;case 32:a=dr;break;case 268435456:a=_u;break;default:a=dr}return l=O_.bind(null,e),a=Me(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&fr(l),e.callbackPriority=2,e.callbackNode=null,2}function O_(e,i){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Cc()&&e.callbackNode!==a)return null;var l=Ot;return l=ai(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(f_(e,l,i),N_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?O_.bind(null,e):null)}function M_(e,i){if(Cc())return null;f_(e,i,!0)}function nR(){mR(function(){(Ht&6)!==0?Me(No,eR):D_()})}function Cd(){if(kr===0){var e=Na;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),kr=e}return kr}function V_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function x_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function iR(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=V_((h[Le]||null).action),_=l.submitter;_&&(i=(i=_[Le]||null)?V_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new yi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(kr!==0){var D=_?x_(h,_):new FormData(h);Kf(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?x_(h,_):new FormData(h),Kf(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Id=0;Id<cf.length;Id++){var Dd=cf[Id],rR=Dd.toLowerCase(),sR=Dd[0].toUpperCase()+Dd.slice(1);Xn(rR,"on"+sR)}Xn(hg,"onAnimationEnd"),Xn(fg,"onAnimationIteration"),Xn(dg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(TA,"onTransitionRun"),Xn(SA,"onTransitionStart"),Xn(AA,"onTransitionCancel"),Xn(mg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function L_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,z=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(K){Fu(K)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,z=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(K){Fu(K)}h.currentTarget=null,d=D}}}}function Nt(e,i){var a=i[ca];a===void 0&&(a=i[ca]=new Set);var l=e+"__bubble";a.has(l)||(P_(i,e,2,!1),a.add(l))}function Nd(e,i,a){var l=0;i&&(l|=4),P_(a,e,l,i)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Od(e){if(!e[Nc]){e[Nc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(aR.has(a)||Nd(a,!1,e),Nd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Nc]||(i[Nc]=!0,Nd("selectionchange",!1,i))}}function P_(e,i,a,l){switch(hv(i)){case 2:var h=xR;break;case 8:h=LR;break;default:h=Qd}a=h.bind(null,i,a,e),h=void 0,!Ss||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Md(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=ci(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue t}T=T.parentNode}}l=l.return}vr(function(){var z=d,K=wn(a),$=[];t:{var j=pg.get(e);if(j!==void 0){var F=yi,ct=e;switch(e){case"keypress":if(Rs(a)===0)break t;case"keydown":case"keyup":F=ju;break;case"focusin":ct="focus",F=bs;break;case"focusout":ct="blur",F=bs;break;case"beforeblur":case"afterblur":F=bs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case hg:case fg:case dg:F=xu;break;case mg:F=A;break;case"scroll":case"scrollend":F=Qo;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ui;break;case"toggle":case"beforetoggle":F=wt}var pt=(i&4)!==0,Wt=!pt&&(e==="scroll"||e==="scrollend"),x=pt?j!==null?j+"Capture":null:j;pt=[];for(var O=z,k;O!==null;){var Y=O;if(k=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||k===null||x===null||(Y=Gn(O,x),Y!=null&&pt.push(Al(O,Y,k))),Wt)break;O=O.return}0<pt.length&&(j=new F(j,ct,null,a,K),$.push({event:j,listeners:pt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",j&&a!==Ho&&(ct=a.relatedTarget||a.fromElement)&&(ci(ct)||ct[li]))break t;if((F||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,F?(ct=a.relatedTarget||a.toElement,F=z,ct=ct?ci(ct):null,ct!==null&&(Wt=u(ct),pt=ct.tag,ct!==Wt||pt!==5&&pt!==27&&pt!==6)&&(ct=null)):(F=null,ct=z),F!==ct)){if(pt=Ko,Y="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Ui,Y="onPointerLeave",x="onPointerEnter",O="pointer"),Wt=F==null?j:fn(F),k=ct==null?j:fn(ct),j=new pt(Y,O+"leave",F,a,K),j.target=Wt,j.relatedTarget=k,Y=null,ci(K)===z&&(pt=new pt(x,O+"enter",ct,a,K),pt.target=k,pt.relatedTarget=Wt,Y=pt),Wt=Y,F&&ct)e:{for(pt=oR,x=F,O=ct,k=0,Y=x;Y;Y=pt(Y))k++;Y=0;for(var ft=O;ft;ft=pt(ft))Y++;for(;0<k-Y;)x=pt(x),k--;for(;0<Y-k;)O=pt(O),Y--;for(;k--;){if(x===O||O!==null&&x===O.alternate){pt=x;break e}x=pt(x),O=pt(O)}pt=null}else pt=null;F!==null&&U_($,j,F,pt,!1),ct!==null&&Wt!==null&&U_($,Wt,ct,pt,!0)}}t:{if(j=z?fn(z):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var Bt=tg;else if(Zp(j))if(eg)Bt=_A;else{Bt=gA;var ht=pA}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ma(z.elementType)&&(Bt=tg):Bt=yA;if(Bt&&(Bt=Bt(e,z))){Wp($,Bt,a,K);break t}ht&&ht(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Bo(j,"number",j.value)}switch(ht=z?fn(z):window,e){case"focusin":(Zp(ht)||ht.contentEditable==="true")&&(Sa=ht,of=z,Zo=null);break;case"focusout":Zo=of=Sa=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,ug($,a,K);break;case"selectionchange":if(EA)break;case"keydown":case"keyup":ug($,a,K)}var It;if(qt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Ta?Cs(e,a)&&(Mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(Ei&&a.locale!=="ko"&&(Ta||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Ta&&(It=Go()):(gi=K,Fo="value"in gi?gi.value:gi.textContent,Ta=!0)),ht=Oc(z,Mt),0<ht.length&&(Mt=new vi(Mt,e,null,a,K),$.push({event:Mt,listeners:ht}),It?Mt.data=It:(It=Ea(a),It!==null&&(Mt.data=It)))),(It=Cn?hA(e,a):fA(e,a))&&(Mt=Oc(z,"onBeforeInput"),0<Mt.length&&(ht=new vi("onBeforeInput","beforeinput",null,a,K),$.push({event:ht,listeners:Mt}),ht.data=It)),iR($,e,z,a,K)}L_($,i)})}function Al(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Oc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Gn(e,a),h!=null&&l.unshift(Al(e,h,d)),h=Gn(e,i),h!=null&&l.push(Al(e,h,d))),e.tag===3)return l;e=e.return}return[]}function oR(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function U_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,z=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||z===null||(D=z,h?(z=Gn(a,d),z!=null&&_.unshift(Al(a,z,D))):h||(z=Gn(a,d),z!=null&&_.push(Al(a,z,D)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var lR=/\r\n?/g,uR=/\u0000|\uFFFD/g;function k_(e){return(typeof e=="string"?e:""+e).replace(lR,`
`).replace(uR,"")}function z_(e,i){return i=k_(i),k_(e)===i}function Zt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(e,""+l);break;case"className":dn(e,"class",l);break;case"tabIndex":dn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,a,l);break;case"style":qo(e,l,d);break;case"data":if(i!=="object"){dn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Fn);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=pa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),fa(e,"popover",l);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ou.get(a)||a,fa(e,a,l))}}function Vd(e,i,a,l,h,d){switch(a){case"style":qo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?sn(e,l):(typeof l=="number"||typeof l=="bigint")&&sn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Le]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):fa(e,a,l)}}}function Fe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,d,_,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),l&&Zt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var T=d=_=h=null,D=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":D=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Zt(e,i,l,K,a,null)}}Iu(e,d,T,D,z,_,h,!1);return;case"select":Nt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Zt(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?pr(e,!!l,i,!1):a!=null&&pr(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Zt(e,i,_,T,a,null)}gr(e,l,h,d);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Zt(e,i,D,l,a,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Nt(Sl[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,z,l,a,null)}return;default:if(ma(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Vd(e,i,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Zt(e,i,T,l,a,null))}function cR(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,z=null,K=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":D=$;default:l.hasOwnProperty(F)||Zt(e,i,F,null,l,$)}}for(var j in l){var F=l[j];if($=a[j],l.hasOwnProperty(j)&&(F!=null||$!=null))switch(j){case"type":d=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":K=F;break;case"value":_=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==$&&Zt(e,i,j,F,l,$)}}da(e,_,T,D,z,K,d,h);return;case"select":F=_=T=j=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":F=D;default:l.hasOwnProperty(d)||Zt(e,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&Zt(e,i,h,d,l,D)}i=T,a=_,l=F,j!=null?pr(e,!!a,j,!1):!!l!=!!a&&(i!=null?pr(e,!!a,i,!0):pr(e,!!a,a?[]:"",!1));return;case"textarea":F=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Zt(e,i,_,h,l,d)}Du(e,j,F);return;case"option":for(var ct in a)j=a[ct],a.hasOwnProperty(ct)&&j!=null&&!l.hasOwnProperty(ct)&&(ct==="selected"?e.selected=!1:Zt(e,i,ct,null,l,j));for(D in l)j=l[D],F=a[D],l.hasOwnProperty(D)&&j!==F&&(j!=null||F!=null)&&(D==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Zt(e,i,D,j,l,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)j=a[pt],a.hasOwnProperty(pt)&&j!=null&&!l.hasOwnProperty(pt)&&Zt(e,i,pt,null,l,j);for(z in l)if(j=l[z],F=a[z],l.hasOwnProperty(z)&&j!==F&&(j!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Zt(e,i,z,j,l,F)}return;default:if(ma(i)){for(var Wt in a)j=a[Wt],a.hasOwnProperty(Wt)&&j!==void 0&&!l.hasOwnProperty(Wt)&&Vd(e,i,Wt,void 0,l,j);for(K in l)j=l[K],F=a[K],!l.hasOwnProperty(K)||j===F||j===void 0&&F===void 0||Vd(e,i,K,j,l,F);return}}for(var x in a)j=a[x],a.hasOwnProperty(x)&&j!=null&&!l.hasOwnProperty(x)&&Zt(e,i,x,null,l,j);for($ in l)j=l[$],F=a[$],!l.hasOwnProperty($)||j===F||j==null&&F==null||Zt(e,i,$,j,l,F)}function B_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hR(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&B_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],z=D.startTime;if(z>T)break;var K=D.transferSize,$=D.initiatorType;K&&B_($)&&(D=D.responseEnd,_+=K*(D<T?1:(T-z)/(D-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xd=null,Ld=null;function Mc(e){return e.nodeType===9?e:e.ownerDocument}function j_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Pd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ud=null;function fR(){var e=window.event;return e&&e.type==="popstate"?e===Ud?!1:(Ud=e,!0):(Ud=null,!1)}var H_=typeof setTimeout=="function"?setTimeout:void 0,dR=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,mR=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(e){return F_.resolve(null).then(e).catch(pR)}:H_;function pR(e){setTimeout(function(){throw e})}function zr(e){return e==="head"}function G_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Xa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Rl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ui]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Rl(e.ownerDocument.body);a=h}while(a);Xa(i)}function Q_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function kd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kd(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function gR(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ui])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function yR(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=xn(e.nextSibling),e===null))return null;return e}function K_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=xn(e.nextSibling),e===null))return null;return e}function zd(e){return e.data==="$?"||e.data==="$~"}function Bd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _R(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function xn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var jd=null;function Y_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return xn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function X_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function $_(e,i,a){switch(i=Mc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Rl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ha(e)}var Ln=new Map,J_=new Set;function Vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=rt.d;rt.d={f:vR,r:ER,D:TR,C:SR,L:AR,m:RR,X:bR,S:wR,M:CR};function vR(){var e=Zi.f(),i=Rc();return e||i}function ER(e){var i=Rn(e);i!==null&&i.tag===5&&i.type==="form"?my(i):Zi.r(e)}var Qa=typeof document>"u"?null:document;function Z_(e,i,a){var l=Qa;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),J_.has(h)||(J_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Fe(i,"link",e),Te(i),l.head.appendChild(i)))}}function TR(e){Zi.D(e),Z_("dns-prefetch",e,null)}function SR(e,i){Zi.C(e,i),Z_("preconnect",e,i)}function AR(e,i,a){Zi.L(e,i,a);var l=Qa;if(l&&e&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var d=h;switch(i){case"style":d=Ka(e);break;case"script":d=Ya(e)}Ln.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(wl(d))||i==="script"&&l.querySelector(bl(d))||(i=l.createElement("link"),Fe(i,"link",e),Te(i),l.head.appendChild(i)))}}function RR(e,i){Zi.m(e,i);var a=Qa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(e)}if(!Ln.has(d)&&(e=S({rel:"modulepreload",href:e},i),Ln.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),Fe(l,"link",e),Te(l),a.head.appendChild(l)}}}function wR(e,i,a){Zi.S(e,i,a);var l=Qa;if(l&&e){var h=hi(l).hoistableStyles,d=Ka(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(wl(d)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(d))&&qd(e,a);var D=_=l.createElement("link");Te(D),Fe(D,"link",e),D._p=new Promise(function(z,K){D.onload=z,D.onerror=K}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function bR(e,i){Zi.X(e,i);var a=Qa;if(a&&e){var l=hi(a).hoistableScripts,h=Ya(e),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(e=S({src:e,async:!0},i),(i=Ln.get(h))&&Hd(e,i),d=a.createElement("script"),Te(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function CR(e,i){Zi.M(e,i);var a=Qa;if(a&&e){var l=hi(a).hoistableScripts,h=Ya(e),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&Hd(e,i),d=a.createElement("script"),Te(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function W_(e,i,a,l){var h=(h=Ct.current)?Vc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ka(a.href),a=hi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ka(a.href);var d=hi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(wl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),d||IR(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=hi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ka(e){return'href="'+rn(e)+'"'}function wl(e){return'link[rel="stylesheet"]['+e+"]"}function tv(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function IR(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Fe(i,"link",a),Te(i),e.head.appendChild(i))}function Ya(e){return'[src="'+rn(e)+'"]'}function bl(e){return"script[async]"+e}function ev(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,Te(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Te(l),Fe(l,"style",h),xc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ka(a.href);var d=e.querySelector(wl(h));if(d)return i.state.loading|=4,i.instance=d,Te(d),d;l=tv(a),(h=Ln.get(h))&&qd(l,h),d=(e.ownerDocument||e).createElement("link"),Te(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Fe(d,"link",l),i.state.loading|=4,xc(d,a.precedence,e),i.instance=d;case"script":return d=Ya(a.src),(h=e.querySelector(bl(d)))?(i.instance=h,Te(h),h):(l=a,(h=Ln.get(d))&&(l=S({},a),Hd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Fe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,xc(l,a.precedence,e));return i.instance}function xc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function qd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Hd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Lc=null;function nv(e,i,a){if(Lc===null){var l=new Map,h=Lc=new Map;h.set(a,l)}else h=Lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ui]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function iv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function DR(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function rv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function NR(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ka(l.href),d=i.querySelector(wl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Pc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Te(d);return}d=i.ownerDocument||i,l=tv(l),(h=Ln.get(h))&&qd(l,h),d=d.createElement("link"),Te(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Fe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Pc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Fd=0;function OR(e,i){return e.stylesheets&&e.count===0&&kc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&kc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Fd===0&&(Fd=62500*hR());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&kc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Fd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Uc=null;function kc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Uc=new Map,i.forEach(MR,e),Uc=null,Pc.call(e))}function MR(e,i){if(!(i.state.loading&4)){var a=Uc.get(e);if(a)var l=a.get(null);else{a=new Map,Uc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Cl={$$typeof:nt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function VR(e,i,a,l,h,d,_,T,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function sv(e,i,a,l,h,d,_,T,D,z,K,$){return e=new VR(e,i,a,_,D,z,K,$,T),i=1,d===!0&&(i|=24),d=pn(3,null,null,i),e.current=d,d.stateNode=e,i=Af(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Cf(d),e}function av(e){return e?(e=wa,e):wa}function ov(e,i,a,l,h,d){h=av(h),l.context===null?l.context=h:l.pendingContext=h,l=Ir(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Dr(e,l,i),a!==null&&(cn(a,e,i),sl(a,e,i))}function lv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Gd(e,i){lv(e,i),(e=e.alternate)&&lv(e,i)}function uv(e){if(e.tag===13||e.tag===31){var i=Ns(e,67108864);i!==null&&cn(i,e,67108864),Gd(e,67108864)}}function cv(e){if(e.tag===13||e.tag===31){var i=En();i=_s(i);var a=Ns(e,i);a!==null&&cn(a,e,i),Gd(e,i)}}var zc=!0;function xR(e,i,a,l){var h=Q.T;Q.T=null;var d=rt.p;try{rt.p=2,Qd(e,i,a,l)}finally{rt.p=d,Q.T=h}}function LR(e,i,a,l){var h=Q.T;Q.T=null;var d=rt.p;try{rt.p=8,Qd(e,i,a,l)}finally{rt.p=d,Q.T=h}}function Qd(e,i,a,l){if(zc){var h=Kd(l);if(h===null)Md(e,i,l,Bc,a),fv(e,l);else if(UR(h,e,i,a,l))l.stopPropagation();else if(fv(e,l),i&4&&-1<PR.indexOf(e)){for(;h!==null;){var d=Rn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=si(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-de(_);T.entanglements[1]|=D,_&=~D}Ri(d),(Ht&6)===0&&(Sc=tn()+500,Tl(0))}}break;case 31:case 13:T=Ns(d,2),T!==null&&cn(T,d,2),Rc(),Gd(d,2)}if(d=Kd(l),d===null&&Md(e,i,l,Bc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Md(e,i,l,null,a)}}function Kd(e){return e=wn(e),Yd(e)}var Bc=null;function Yd(e){if(Bc=null,e=ci(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Bc=e,null}function hv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ms()){case No:return 2;case Oo:return 8;case dr:case Wh:return 32;case _u:return 268435456;default:return 32}default:return 32}}var Xd=!1,Br=null,jr=null,qr=null,Il=new Map,Dl=new Map,Hr=[],PR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fv(e,i){switch(e){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Nl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&uv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function UR(e,i,a,l,h){switch(i){case"focusin":return Br=Nl(Br,e,i,a,l,h),!0;case"dragenter":return jr=Nl(jr,e,i,a,l,h),!0;case"mouseover":return qr=Nl(qr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Nl(Il.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Nl(Dl.get(d)||null,e,i,a,l,h)),!0}return!1}function dv(e){var i=ci(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,qn(e.priority,function(){cv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,qn(e.priority,function(){cv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Kd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ho=l,a.target.dispatchEvent(l),Ho=null}else return i=Rn(a),i!==null&&uv(i),e.blockedOn=a,!1;i.shift()}return!0}function mv(e,i,a){jc(e)&&a.delete(i)}function kR(){Xd=!1,Br!==null&&jc(Br)&&(Br=null),jr!==null&&jc(jr)&&(jr=null),qr!==null&&jc(qr)&&(qr=null),Il.forEach(mv),Dl.forEach(mv)}function qc(e,i){e.blockedOn===i&&(e.blockedOn=null,Xd||(Xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kR)))}var Hc=null;function pv(e){Hc!==e&&(Hc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hc===e&&(Hc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Yd(l||a)===null)continue;break}var d=Rn(a);d!==null&&(e.splice(i,3),i-=3,Kf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xa(e){function i(D){return qc(D,e)}Br!==null&&qc(Br,e),jr!==null&&qc(jr,e),qr!==null&&qc(qr,e),Il.forEach(i),Dl.forEach(i);for(var a=0;a<Hr.length;a++){var l=Hr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)dv(a),a.blockedOn===null&&Hr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Le]||null;if(typeof d=="function")_||pv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Le]||null)T=_.formAction;else if(Yd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),pv(a)}}}function gv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function $d(e){this._internalRoot=e}Fc.prototype.render=$d.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=En();ov(a,l,e,i,null,null)},Fc.prototype.unmount=$d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;ov(e.current,2,null,e,null,null),Rc(),i[li]=null}};function Fc(e){this._internalRoot=e}Fc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ru();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Hr.length&&i!==0&&i<Hr[a].priority;a++);Hr.splice(a,0,e),a===0&&dv(e)}};var yv=t.version;if(yv!=="19.2.3")throw Error(s(527,yv,"19.2.3"));rt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var zR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{Bn=Gc.inject(zR),ze=Gc}catch{}}return Ml.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Ry,d=wy,_=by;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=sv(e,1,!1,null,null,a,l,null,h,d,_,gv),e[li]=i.current,Od(e),new $d(i)},Ml.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Ry,_=wy,T=by,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=sv(e,1,!0,i,a??null,l,h,D,d,_,T,gv),i.context=av(null),a=i.current,l=En(),l=_s(l),h=Ir(l),h.callback=null,Dr(a,h,l),a=l,i.current.lanes=a,gs(i,a),Ri(i),e[li]=i.current,Od(e),new Fc(i)},Ml.version="19.2.3",Ml}var Cv;function XR(){if(Cv)return Wd.exports;Cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Wd.exports=YR(),Wd.exports}var $R=XR();var Iv="popstate";function JR(r={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Em("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Kl(o)}return WR(t,n,null,r)}function le(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function kn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZR(){return Math.random().toString(36).substring(2,10)}function Dv(r,t){return{usr:r.state,key:r.key,idx:t}}function Em(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?go(t):t,state:n,key:t&&t.key||s||ZR()}}function Kl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function go(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function WR(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let H=E(),et=H==null?null:H-y;y=H,g&&g({action:m,location:B.location,delta:et})}function C(H,et){m="PUSH";let tt=Em(B.location,H,et);y=E()+1;let nt=Dv(tt,y),Tt=B.createHref(tt);try{f.pushState(nt,"",Tt)}catch(Rt){if(Rt instanceof DOMException&&Rt.name==="DataCloneError")throw Rt;o.location.assign(Tt)}u&&g&&g({action:m,location:B.location,delta:1})}function P(H,et){m="REPLACE";let tt=Em(B.location,H,et);y=E();let nt=Dv(tt,y),Tt=B.createHref(tt);f.replaceState(nt,"",Tt),u&&g&&g({action:m,location:B.location,delta:0})}function X(H){return tw(H)}let B={get action(){return m},get location(){return r(o,f)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Iv,S),g=H,()=>{o.removeEventListener(Iv,S),g=null}},createHref(H){return t(o,H)},createURL:X,encodeLocation(H){let et=X(H);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:C,replace:P,go(H){return f.go(H)}};return B}function tw(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),le(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Kl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function pT(r,t,n="/"){return ew(r,t,n,!1)}function ew(r,t,n,s){let o=typeof t=="string"?go(t):t,u=sr(o.pathname||"/",n);if(u==null)return null;let f=gT(r);nw(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=dw(u);m=hw(f[g],y,s)}return m}function gT(r,t=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;le(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=nr([s,E.relativePath]),C=n.concat(E);f.children&&f.children.length>0&&(le(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),gT(f.children,t,C,S,g)),!(f.path==null&&!f.index)&&t.push({path:S,score:uw(S,f.index),routesMeta:C})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of yT(f.path))u(f,m,!0,g)}),t}function yT(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=yT(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function nw(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:cw(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var iw=/^:[\w-]+$/,rw=3,sw=2,aw=1,ow=10,lw=-2,Nv=r=>r==="*";function uw(r,t){let n=r.split("/"),s=n.length;return n.some(Nv)&&(s+=lw),t&&(s+=sw),n.filter(o=>!Nv(o)).reduce((o,u)=>o+(iw.test(u)?rw:u===""?aw:ow),s)}function cw(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function hw(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=hh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),C=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=hh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:nr([u,S.pathname]),pathnameBase:yw(nr([u,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(u=nr([u,S.pathnameBase]))}return f}function hh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=fw(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},C)=>{if(E==="*"){let X=m[C]||"";f=u.slice(0,u.length-X.length).replace(/(.)\/+$/,"$1")}const P=m[C];return S&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function fw(r,t=!1,n=!0){kn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function dw(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function sr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var _T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mw=r=>_T.test(r);function pw(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?go(r):r,u;if(n)if(mw(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),kn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Ov(n.substring(1),"/"):u=Ov(n,t)}else u=t;return{pathname:u,search:_w(s),hash:vw(o)}}function Ov(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function im(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gw(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $m(r){let t=gw(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Jm(r,t,n,s=!1){let o;typeof r=="string"?o=go(r):(o={...r},le(!o.pathname||!o.pathname.includes("?"),im("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),im("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),im("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=t.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),S-=1;o.pathname=C.join("/")}m=S>=0?t[S]:"/"}let g=pw(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var nr=r=>r.join("/").replace(/\/\/+/g,"/"),yw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),_w=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,vw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Ew=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Tw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Sw(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var vT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ET(r,t){let n=r;if(typeof n!="string"||!_T.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(vT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=sr(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{kn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var TT=["POST","PUT","PATCH","DELETE"];new Set(TT);var Aw=["GET",...TT];new Set(Aw);var yo=G.createContext(null);yo.displayName="DataRouter";var Nh=G.createContext(null);Nh.displayName="DataRouterState";var Rw=G.createContext(!1),ST=G.createContext({isTransitioning:!1});ST.displayName="ViewTransition";var ww=G.createContext(new Map);ww.displayName="Fetchers";var bw=G.createContext(null);bw.displayName="Await";var Sn=G.createContext(null);Sn.displayName="Navigation";var ru=G.createContext(null);ru.displayName="Location";var Vi=G.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var Zm=G.createContext(null);Zm.displayName="RouteError";var AT="REACT_ROUTER_ERROR",Cw="REDIRECT",Iw="ROUTE_ERROR_RESPONSE";function Dw(r){if(r.startsWith(`${AT}:${Cw}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Nw(r){if(r.startsWith(`${AT}:${Iw}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Ew(t.status,t.statusText,t.data)}catch{}}function Ow(r,{relative:t}={}){le(_o(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Sn),{hash:o,pathname:u,search:f}=su(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:nr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function _o(){return G.useContext(ru)!=null}function ls(){return le(_o(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(ru).location}var RT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wT(r){G.useContext(Sn).static||G.useLayoutEffect(r)}function Oh(){let{isDataRoute:r}=G.useContext(Vi);return r?Fw():Mw()}function Mw(){le(_o(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(yo),{basename:t,navigator:n}=G.useContext(Sn),{matches:s}=G.useContext(Vi),{pathname:o}=ls(),u=JSON.stringify($m(s)),f=G.useRef(!1);return wT(()=>{f.current=!0}),G.useCallback((g,y={})=>{if(kn(f.current,RT),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Jm(g,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:nr([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}G.createContext(null);function su(r,{relative:t}={}){let{matches:n}=G.useContext(Vi),{pathname:s}=ls(),o=JSON.stringify($m(n));return G.useMemo(()=>Jm(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function Vw(r,t){return bT(r,t)}function bT(r,t,n,s,o){le(_o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=G.useContext(Sn),{matches:f}=G.useContext(Vi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let tt=S&&S.path||"";IT(y,!S||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let C=ls(),P;if(t){let tt=typeof t=="string"?go(t):t;le(E==="/"||tt.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),P=tt}else P=C;let X=P.pathname||"/",B=X;if(E!=="/"){let tt=E.replace(/^\//,"").split("/");B="/"+X.replace(/^\//,"").split("/").slice(tt.length).join("/")}let H=pT(r,{pathname:B});kn(S||H!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),kn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=kw(H&&H.map(tt=>Object.assign({},tt,{params:Object.assign({},g,tt.params),pathname:nr([E,u.encodeLocation?u.encodeLocation(tt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?E:nr([E,u.encodeLocation?u.encodeLocation(tt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathnameBase])})),f,n,s,o);return t&&et?G.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},et):et}function xw(){let r=Hw(),t=Tw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:o},n):null,f)}var Lw=G.createElement(xw,null),CT=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Nw(r.digest);n&&(r=n)}let t=r!==void 0?G.createElement(Vi.Provider,{value:this.props.routeContext},G.createElement(Zm.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?G.createElement(Pw,{error:r},t):t}};CT.contextType=Rw;var rm=new WeakMap;function Pw({children:r,error:t}){let{basename:n}=G.useContext(Sn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=Dw(t.digest);if(s){let o=rm.get(t);if(o)throw o;let u=ET(s.location,n);if(vT&&!rm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw rm.set(t,f),f}return G.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Uw({routeContext:r,match:t,children:n}){let s=G.useContext(yo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(Vi.Provider,{value:r},n)}function kw(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);le(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:C,errors:P}=n,X=S.route.loader&&!C.hasOwnProperty(S.route.id)&&(!P||P[S.route.id]===void 0);if(S.route.lazy||X){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,S)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Sw(n.matches),errorInfo:S})}:void 0;return u.reduceRight((E,S,C)=>{let P,X=!1,B=null,H=null;n&&(P=f&&S.route.id?f[S.route.id]:void 0,B=S.route.errorElement||Lw,m&&(g<0&&C===0?(IT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),X=!0,H=null):g===C&&(X=!0,H=S.route.hydrateFallbackElement||null)));let et=t.concat(u.slice(0,C+1)),tt=()=>{let nt;return P?nt=B:X?nt=H:S.route.Component?nt=G.createElement(S.route.Component,null):S.route.element?nt=S.route.element:nt=E,G.createElement(Uw,{match:S,routeContext:{outlet:E,matches:et,isDataRoute:n!=null},children:nt})};return n&&(S.route.ErrorBoundary||S.route.errorElement||C===0)?G.createElement(CT,{location:n.location,revalidation:n.revalidation,component:B,error:P,children:tt(),routeContext:{outlet:null,matches:et,isDataRoute:!0},onError:y}):tt()},null)}function Wm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zw(r){let t=G.useContext(yo);return le(t,Wm(r)),t}function Bw(r){let t=G.useContext(Nh);return le(t,Wm(r)),t}function jw(r){let t=G.useContext(Vi);return le(t,Wm(r)),t}function tp(r){let t=jw(r),n=t.matches[t.matches.length-1];return le(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function qw(){return tp("useRouteId")}function Hw(){let r=G.useContext(Zm),t=Bw("useRouteError"),n=tp("useRouteError");return r!==void 0?r:t.errors?.[n]}function Fw(){let{router:r}=zw("useNavigate"),t=tp("useNavigate"),n=G.useRef(!1);return wT(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{kn(n.current,RT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var Mv={};function IT(r,t,n){!t&&!Mv[r]&&(Mv[r]=!0,kn(!1,n))}G.memo(Gw);function Gw({routes:r,future:t,state:n,onError:s}){return bT(r,void 0,n,s,t)}function Qw({to:r,replace:t,state:n,relative:s}){le(_o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(Sn);kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(Vi),{pathname:f}=ls(),m=Oh(),g=Jm(r,$m(u),f,s==="path"),y=JSON.stringify(g);return G.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:s})},[m,y,s,t,n]),null}function $a(r){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kw({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){le(!_o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=G.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=go(n));let{pathname:y="/",search:E="",hash:S="",state:C=null,key:P="default"}=n,X=G.useMemo(()=>{let B=sr(y,m);return B==null?null:{location:{pathname:B,search:E,hash:S,state:C,key:P},navigationType:s}},[m,y,E,S,C,P,s]);return kn(X!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),X==null?null:G.createElement(Sn.Provider,{value:g},G.createElement(ru.Provider,{children:t,value:X}))}function Yw({children:r,location:t}){return Vw(Tm(r),t)}function Tm(r,t=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...t,o];if(s.type===G.Fragment){n.push.apply(n,Tm(s.props.children,u));return}le(s.type===$a,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Tm(s.props.children,u)),n.push(f)}),n}var Wc="get",th="application/x-www-form-urlencoded";function Mh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Xw(r){return Mh(r)&&r.tagName.toLowerCase()==="button"}function $w(r){return Mh(r)&&r.tagName.toLowerCase()==="form"}function Jw(r){return Mh(r)&&r.tagName.toLowerCase()==="input"}function Zw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ww(r,t){return r.button===0&&(!t||t==="_self")&&!Zw(r)}var Qc=null;function tb(){if(Qc===null)try{new FormData(document.createElement("form"),0),Qc=!1}catch{Qc=!0}return Qc}var eb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sm(r){return r!=null&&!eb.has(r)?(kn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):r}function nb(r,t){let n,s,o,u,f;if($w(r)){let m=r.getAttribute("action");s=m?sr(m,t):null,n=r.getAttribute("method")||Wc,o=sm(r.getAttribute("enctype"))||th,u=new FormData(r)}else if(Xw(r)||Jw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?sr(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Wc,o=sm(r.getAttribute("formenctype"))||sm(m.getAttribute("enctype"))||th,u=new FormData(m,r),!tb()){let{name:y,type:E,value:S}=r;if(E==="image"){let C=y?`${y}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else y&&u.append(y,S)}}else{if(Mh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wc,s=null,o=th,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ep(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ib(r,t,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&sr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function rb(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ab(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await rb(u,n);return f.links?f.links():[]}return[]}));return cb(s.flat(1).filter(sb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Vv(r,t,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function ob(r,t,{includeHydrateFallback:n}={}){return lb(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function lb(r){return[...new Set(r)]}function ub(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function cb(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(ub(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function DT(){let r=G.useContext(yo);return ep(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function hb(){let r=G.useContext(Nh);return ep(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var np=G.createContext(void 0);np.displayName="FrameworkContext";function NT(){let r=G.useContext(np);return ep(r,"You must render this element inside a <HydratedRouter> element"),r}function fb(r,t){let n=G.useContext(np),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,C=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let B=et=>{et.forEach(tt=>{f(tt.isIntersecting)})},H=new IntersectionObserver(B,{threshold:.5});return C.current&&H.observe(C.current),()=>{H.disconnect()}}},[r]),G.useEffect(()=>{if(s){let B=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(B)}}},[s]);let P=()=>{o(!0)},X=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,C,{}]:[u,C,{onFocus:Vl(m,P),onBlur:Vl(g,X),onMouseEnter:Vl(y,P),onMouseLeave:Vl(E,X),onTouchStart:Vl(S,P)}]:[!1,C,{}]}function Vl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function db({page:r,...t}){let{router:n}=DT(),s=G.useMemo(()=>pT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(pb,{page:r,matches:s,...t}):null}function mb(r){let{manifest:t,routeModules:n}=NT(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return ab(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function pb({page:r,matches:t,...n}){let s=ls(),{future:o,manifest:u,routeModules:f}=NT(),{basename:m}=DT(),{loaderData:g,matches:y}=hb(),E=G.useMemo(()=>Vv(r,t,y,u,s,"data"),[r,t,y,u,s]),S=G.useMemo(()=>Vv(r,t,y,u,s,"assets"),[r,t,y,u,s]),C=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let B=new Set,H=!1;if(t.forEach(tt=>{let nt=u.routes[tt.route.id];!nt||!nt.hasLoader||(!E.some(Tt=>Tt.route.id===tt.route.id)&&tt.route.id in g&&f[tt.route.id]?.shouldRevalidate||nt.hasClientLoader?H=!0:B.add(tt.route.id))}),B.size===0)return[];let et=ib(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return H&&B.size>0&&et.searchParams.set("_routes",t.filter(tt=>B.has(tt.route.id)).map(tt=>tt.route.id).join(",")),[et.pathname+et.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,t,r,f]),P=G.useMemo(()=>ob(S,u),[S,u]),X=mb(S);return G.createElement(G.Fragment,null,C.map(B=>G.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),P.map(B=>G.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),X.map(({key:B,link:H})=>G.createElement("link",{key:B,nonce:n.nonce,...H})))}function gb(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var yb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yb&&(window.__reactRouterVersion="7.12.0")}catch{}function _b({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=G.useRef();o.current==null&&(o.current=JR({window:s,v5Compat:!0}));let u=o.current,[f,m]=G.useState({action:u.action,location:u.location}),g=G.useCallback(y=>{n===!1?m(y):G.startTransition(()=>m(y))},[n]);return G.useLayoutEffect(()=>u.listen(g),[u,g]),G.createElement(Kw,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var OT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MT=G.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:C,...P},X){let{basename:B,unstable_useTransitions:H}=G.useContext(Sn),et=typeof y=="string"&&OT.test(y),tt=ET(y,B);y=tt.to;let nt=Ow(y,{relative:o}),[Tt,Rt,vt]=fb(s,P),w=Sb(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:C,unstable_useTransitions:H});function R(M){t&&t(M),M.defaultPrevented||w(M)}let b=G.createElement("a",{...P,...vt,href:tt.absoluteURL||nt,onClick:tt.isExternal||u?t:R,ref:gb(X,Rt),target:g,"data-discover":!et&&n==="render"?"true":void 0});return Tt&&!et?G.createElement(G.Fragment,null,b,G.createElement(db,{page:nt})):b});MT.displayName="Link";var vb=G.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=su(f,{relative:y.relative}),C=ls(),P=G.useContext(Nh),{navigator:X,basename:B}=G.useContext(Sn),H=P!=null&&Cb(S)&&m===!0,et=X.encodeLocation?X.encodeLocation(S).pathname:S.pathname,tt=C.pathname,nt=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(tt=tt.toLowerCase(),nt=nt?nt.toLowerCase():null,et=et.toLowerCase()),nt&&B&&(nt=sr(nt,B)||nt);const Tt=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let Rt=tt===et||!o&&tt.startsWith(et)&&tt.charAt(Tt)==="/",vt=nt!=null&&(nt===et||!o&&nt.startsWith(et)&&nt.charAt(et.length)==="/"),w={isActive:Rt,isPending:vt,isTransitioning:H},R=Rt?t:void 0,b;typeof s=="function"?b=s(w):b=[s,Rt?"active":null,vt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(w):u;return G.createElement(MT,{...y,"aria-current":R,className:b,ref:E,style:M,to:f,viewTransition:m},typeof g=="function"?g(w):g)});vb.displayName="NavLink";var Eb=G.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Wc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:C,...P},X)=>{let{unstable_useTransitions:B}=G.useContext(Sn),H=wb(),et=bb(m,{relative:y}),tt=f.toLowerCase()==="get"?"get":"post",nt=typeof m=="string"&&OT.test(m),Tt=Rt=>{if(g&&g(Rt),Rt.defaultPrevented)return;Rt.preventDefault();let vt=Rt.nativeEvent.submitter,w=vt?.getAttribute("formmethod")||f,R=()=>H(vt||Rt.currentTarget,{fetcherKey:t,method:w,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:C});B&&n!==!1?G.startTransition(()=>R()):R()};return G.createElement("form",{ref:X,method:tt,action:et,onSubmit:s?g:Tt,...P,"data-discover":!nt&&r==="render"?"true":void 0})});Eb.displayName="Form";function Tb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VT(r){let t=G.useContext(yo);return le(t,Tb(r)),t}function Sb(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=Oh(),E=ls(),S=su(r,{relative:u});return G.useCallback(C=>{if(Ww(C,t)){C.preventDefault();let P=n!==void 0?n:Kl(E)===Kl(S),X=()=>y(r,{replace:P,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?G.startTransition(()=>X()):X()}},[E,y,S,n,s,t,r,o,u,f,m,g])}var Ab=0,Rb=()=>`__${String(++Ab)}__`;function wb(){let{router:r}=VT("useSubmit"),{basename:t}=G.useContext(Sn),n=qw(),s=r.fetch,o=r.navigate;return G.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:S}=nb(u,t);if(f.navigate===!1){let C=f.fetcherKey||Rb();await s(C,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function bb(r,{relative:t}={}){let{basename:n}=G.useContext(Sn),s=G.useContext(Vi);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...su(r||".",{relative:t})},f=ls();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:nr([n,u.pathname])),Kl(u)}function Cb(r,{relative:t}={}){let n=G.useContext(ST);le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=VT("useViewTransitionState"),o=su(r,{relative:t});if(!n.isTransitioning)return!1;let u=sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return hh(o.pathname,f)!=null||hh(o.pathname,u)!=null}const Ib=()=>{};var xv={};const xT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Db=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},LT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,P=y&63;g||(P=64,f||(C=64)),s.push(n[E],n[S],n[C],n[P])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(xT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Db(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new Nb;const C=u<<2|m>>4;if(s.push(C),y!==64){const P=m<<4&240|y>>2;if(s.push(P),S!==64){const X=y<<6&192|S;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Nb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ob=function(r){const t=xT(r);return LT.encodeByteArray(t,!0)},fh=function(r){return Ob(r).replace(/\./g,"")},PT=function(r){try{return LT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Mb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Vb=()=>Mb().__FIREBASE_DEFAULTS__,xb=()=>{if(typeof process>"u"||typeof xv>"u")return;const r=xv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Lb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&PT(r[1]);return t&&JSON.parse(t)},Vh=()=>{try{return Ib()||Vb()||xb()||Lb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},UT=r=>Vh()?.emulatorHosts?.[r],Pb=r=>{const t=UT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},kT=()=>Vh()?.config,zT=r=>Vh()?.[`_${r}`];class Ub{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function vo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BT(r){return(await fetch(r,{credentials:"include"})).ok}function kb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[fh(JSON.stringify(n)),fh(JSON.stringify(f)),""].join(".")}const jl={};function zb(){const r={prod:[],emulator:[]};for(const t of Object.keys(jl))jl[t]?r.emulator.push(t):r.prod.push(t);return r}function Bb(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Lv=!1;function jT(r,t){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||jl[r]===t||jl[r]||Lv)return;jl[r]=t;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",u=zb().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function g(C,P){C.setAttribute("width","24"),C.setAttribute("id",P),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Lv=!0,f()},C}function E(C,P){C.setAttribute("id",P),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=Bb(s),P=n("text"),X=document.getElementById(P)||document.createElement("span"),B=n("learnmore"),H=document.getElementById(B)||document.createElement("a"),et=n("preprendIcon"),tt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const nt=C.element;m(nt),E(H,B);const Tt=y();g(tt,et),nt.append(tt,X,H,Tt),document.body.appendChild(nt)}u?(X.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function qb(){const r=Vh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Gb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qb(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Kb(){return!qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yb(){try{return typeof indexedDB=="object"}catch{return!1}}function Xb(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const $b="FirebaseError";class cr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=$b,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Jb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new cr(o,m,s)}}function Jb(r,t){return r.replace(Zb,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Zb=/\{\$([^}]+)}/g;function Wb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function $s(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Pv(u)&&Pv(f)){if(!$s(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Pv(r){return r!==null&&typeof r=="object"}function ou(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Ll(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Pl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function t1(r,t){const n=new e1(r,t);return n.subscribe.bind(n)}class e1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");n1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=am),o.error===void 0&&(o.error=am),o.complete===void 0&&(o.complete=am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function am(){}function Ke(r){return r&&r._delegate?r._delegate:r}class Js{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Hs="[DEFAULT]";class i1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Ub;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(s1(t))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Hs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hs){return this.instances.has(t)}getOptions(t=Hs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:r1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Hs){return this.component?this.component.multipleInstances?t:Hs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r1(r){return r===Hs?void 0:r}function s1(r){return r.instantiationMode==="EAGER"}class a1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new i1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const o1={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},l1=Vt.INFO,u1={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},c1=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=u1[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ip{constructor(t){this.name=t,this._logLevel=l1,this._logHandler=c1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?o1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const h1=(r,t)=>t.some(n=>r instanceof n);let Uv,kv;function f1(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d1(){return kv||(kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qT=new WeakMap,Sm=new WeakMap,HT=new WeakMap,om=new WeakMap,rp=new WeakMap;function m1(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n($r(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&qT.set(n,r)}).catch(()=>{}),rp.set(t,r),t}function p1(r){if(Sm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Sm.set(r,t)}let Am={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Sm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||HT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function g1(r){Am=r(Am)}function y1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(lm(this),t,...n);return HT.set(s,t.sort?t.sort():[t]),$r(s)}:d1().includes(r)?function(...t){return r.apply(lm(this),t),$r(qT.get(this))}:function(...t){return $r(r.apply(lm(this),t))}}function _1(r){return typeof r=="function"?y1(r):(r instanceof IDBTransaction&&p1(r),h1(r,f1())?new Proxy(r,Am):r)}function $r(r){if(r instanceof IDBRequest)return m1(r);if(om.has(r))return om.get(r);const t=_1(r);return t!==r&&(om.set(r,t),rp.set(t,r)),t}const lm=r=>rp.get(r);function v1(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=$r(f);return s&&f.addEventListener("upgradeneeded",g=>{s($r(f.result),g.oldVersion,g.newVersion,$r(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const E1=["get","getKey","getAll","getAllKeys","count"],T1=["put","add","delete","clear"],um=new Map;function zv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(um.get(t))return um.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=T1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||E1.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return um.set(t,u),u}g1(r=>({...r,get:(t,n,s)=>zv(t,n)||r.get(t,n,s),has:(t,n)=>!!zv(t,n)||r.has(t,n)}));class S1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function A1(r){return r.getComponent()?.type==="VERSION"}const Rm="@firebase/app",Bv="0.14.6";const ar=new ip("@firebase/app"),R1="@firebase/app-compat",w1="@firebase/analytics-compat",b1="@firebase/analytics",C1="@firebase/app-check-compat",I1="@firebase/app-check",D1="@firebase/auth",N1="@firebase/auth-compat",O1="@firebase/database",M1="@firebase/data-connect",V1="@firebase/database-compat",x1="@firebase/functions",L1="@firebase/functions-compat",P1="@firebase/installations",U1="@firebase/installations-compat",k1="@firebase/messaging",z1="@firebase/messaging-compat",B1="@firebase/performance",j1="@firebase/performance-compat",q1="@firebase/remote-config",H1="@firebase/remote-config-compat",F1="@firebase/storage",G1="@firebase/storage-compat",Q1="@firebase/firestore",K1="@firebase/ai",Y1="@firebase/firestore-compat",X1="firebase",$1="12.6.0";const wm="[DEFAULT]",J1={[Rm]:"fire-core",[R1]:"fire-core-compat",[b1]:"fire-analytics",[w1]:"fire-analytics-compat",[I1]:"fire-app-check",[C1]:"fire-app-check-compat",[D1]:"fire-auth",[N1]:"fire-auth-compat",[O1]:"fire-rtdb",[M1]:"fire-data-connect",[V1]:"fire-rtdb-compat",[x1]:"fire-fn",[L1]:"fire-fn-compat",[P1]:"fire-iid",[U1]:"fire-iid-compat",[k1]:"fire-fcm",[z1]:"fire-fcm-compat",[B1]:"fire-perf",[j1]:"fire-perf-compat",[q1]:"fire-rc",[H1]:"fire-rc-compat",[F1]:"fire-gcs",[G1]:"fire-gcs-compat",[Q1]:"fire-fst",[Y1]:"fire-fst-compat",[K1]:"fire-vertex","fire-js":"fire-js",[X1]:"fire-js-all"};const dh=new Map,Z1=new Map,bm=new Map;function jv(r,t){try{r.container.addComponent(t)}catch(n){ar.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function ao(r){const t=r.name;if(bm.has(t))return ar.debug(`There were multiple attempts to register component ${t}.`),!1;bm.set(t,r);for(const n of dh.values())jv(n,r);for(const n of Z1.values())jv(n,r);return!0}function sp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Tn(r){return r==null?!1:r.settings!==void 0}const W1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new au("app","Firebase",W1);class tC{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const Eo=$1;function FT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:wm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Jr.create("bad-app-name",{appName:String(o)});if(n||(n=kT()),!n)throw Jr.create("no-options");const u=dh.get(o);if(u){if($s(n,u.options)&&$s(s,u.config))return u;throw Jr.create("duplicate-app",{appName:o})}const f=new a1(o);for(const g of bm.values())f.addComponent(g);const m=new tC(n,s,f);return dh.set(o,m),m}function GT(r=wm){const t=dh.get(r);if(!t&&r===wm&&kT())return FT();if(!t)throw Jr.create("no-app",{appName:r});return t}function Zr(r,t,n){let s=J1[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ar.warn(f.join(" "));return}ao(new Js(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const eC="firebase-heartbeat-database",nC=1,Yl="firebase-heartbeat-store";let cm=null;function QT(){return cm||(cm=v1(eC,nC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Jr.create("idb-open",{originalErrorMessage:r.message})})),cm}async function iC(r){try{const n=(await QT()).transaction(Yl),s=await n.objectStore(Yl).get(KT(r));return await n.done,s}catch(t){if(t instanceof cr)ar.warn(t.message);else{const n=Jr.create("idb-get",{originalErrorMessage:t?.message});ar.warn(n.message)}}}async function qv(r,t){try{const s=(await QT()).transaction(Yl,"readwrite");await s.objectStore(Yl).put(t,KT(r)),await s.done}catch(n){if(n instanceof cr)ar.warn(n.message);else{const s=Jr.create("idb-set",{originalErrorMessage:n?.message});ar.warn(s.message)}}}function KT(r){return`${r.name}!${r.options.appId}`}const rC=1024,sC=30;class aC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>sC){const o=uC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ar.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Hv(),{heartbeatsToSend:n,unsentEntries:s}=oC(this._heartbeatsCache.heartbeats),o=fh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ar.warn(t),""}}}function Hv(){return new Date().toISOString().substring(0,10)}function oC(r,t=rC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Fv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Fv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yb()?Xb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return qv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return qv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Fv(r){return fh(JSON.stringify({version:2,heartbeats:r})).length}function uC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function cC(r){ao(new Js("platform-logger",t=>new S1(t),"PRIVATE")),ao(new Js("heartbeat",t=>new aC(t),"PRIVATE")),Zr(Rm,Bv,r),Zr(Rm,Bv,"esm2020"),Zr("fire-js","")}cC("");function YT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hC=YT,XT=new au("auth","Firebase",YT());const mh=new ip("@firebase/auth");function fC(r,...t){mh.logLevel<=Vt.WARN&&mh.warn(`Auth (${Eo}): ${r}`,...t)}function eh(r,...t){mh.logLevel<=Vt.ERROR&&mh.error(`Auth (${Eo}): ${r}`,...t)}function zn(r,...t){throw op(r,...t)}function ei(r,...t){return op(r,...t)}function ap(r,t,n){const s={...hC(),[t]:n};return new au("auth","Firebase",s).create(t,{appName:r.name})}function ir(r){return ap(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dC(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&zn(r,"argument-error"),ap(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function op(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return XT.create(r,...t)}function gt(r,t,...n){if(!r)throw op(t,...n)}function tr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw eh(t),new Error(t)}function or(r,t){r||tr(t)}function Cm(){return typeof self<"u"&&self.location?.href||""}function mC(){return Gv()==="http:"||Gv()==="https:"}function Gv(){return typeof self<"u"&&self.location?.protocol||null}function pC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mC()||Fb()||"connection"in navigator)?navigator.onLine:!0}function gC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class lu{constructor(t,n){this.shortDelay=t,this.longDelay=n,or(n>t,"Short delay should be less than long delay!"),this.isMobile=jb()||Gb()}get(){return pC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lp(r,t){or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class $T{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _C=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vC=new lu(3e4,6e4);function us(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function hr(r,t,n,s,o={}){return JT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=ou({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return Hb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&vo(r.emulatorConfig.host)&&(y.credentials="include"),$T.fetch()(await ZT(r,r.config.apiHost,n,m),y)})}async function JT(r,t,n){r._canInitEmulator=!1;const s={...yC,...t};try{const o=new TC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Kc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Kc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Kc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ap(r,E,y);zn(r,E)}}catch(o){if(o instanceof cr)throw o;zn(r,"network-request-failed",{message:String(o)})}}async function uu(r,t,n,s,o={}){const u=await hr(r,t,n,s,o);return"mfaPendingCredential"in u&&zn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function ZT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?lp(r.config,o):`${r.config.apiScheme}://${o}`;return _C.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function EC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ei(this.auth,"network-request-failed")),vC.get())})}}function Kc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ei(r,t,s);return o.customData._tokenResponse=n,o}function Qv(r){return r!==void 0&&r.enterprise!==void 0}class SC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return EC(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AC(r,t){return hr(r,"GET","/v2/recaptchaConfig",us(r,t))}async function RC(r,t){return hr(r,"POST","/v1/accounts:delete",t)}async function ph(r,t){return hr(r,"POST","/v1/accounts:lookup",t)}function ql(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wC(r,t=!1){const n=Ke(r),s=await n.getIdToken(t),o=up(s);gt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:ql(hm(o.auth_time)),issuedAtTime:ql(hm(o.iat)),expirationTime:ql(hm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function hm(r){return Number(r)*1e3}function up(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=PT(n);return o?JSON.parse(o):(eh("Failed to decode base64 JWT payload"),null)}catch(o){return eh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Kv(r){const t=up(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function oo(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof cr&&bC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function bC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class CC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Im{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gh(r){const t=r.auth,n=await r.getIdToken(),s=await oo(r,ph(t,{idToken:n}));gt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?WT(o.providerUserInfo):[],f=DC(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Im(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function IC(r){const t=Ke(r);await gh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function DC(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function WT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function NC(r,t){const n=await JT(r,{},async()=>{const s=ou({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await ZT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&vo(r.emulatorConfig.host)&&(g.credentials="include"),$T.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OC(r,t){return hr(r,"POST","/v2/accounts:revokeToken",us(r,t))}class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Kv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=Kv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await NC(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new no;return s&&(gt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(gt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(gt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return tr("not implemented")}}function Gr(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new CC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Im(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await oo(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return wC(this,t)}reload(){return IC(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(ir(this.auth));const t=await this.getIdToken();return await oo(this,RC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:C,isAnonymous:P,providerData:X,stsTokenManager:B}=n;gt(S&&B,t,"internal-error");const H=no.fromJSON(this.name,B);gt(typeof S=="string",t,"internal-error"),Gr(s,t.name),Gr(o,t.name),gt(typeof C=="boolean",t,"internal-error"),gt(typeof P=="boolean",t,"internal-error"),Gr(u,t.name),Gr(f,t.name),Gr(m,t.name),Gr(g,t.name),Gr(y,t.name),Gr(E,t.name);const et=new Wn({uid:S,auth:t,email:o,emailVerified:C,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:y,lastLoginAt:E});return X&&Array.isArray(X)&&(et.providerData=X.map(tt=>({...tt}))),g&&(et._redirectEventId=g),et}static async _fromIdTokenResponse(t,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await gh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];gt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?WT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new no;m.updateFromIdToken(s);const g=new Wn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Im(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Yv=new Map;function er(r){or(r instanceof Function,"Expected a class definition");let t=Yv.get(r);return t?(or(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Yv.set(r,t),t)}class t0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}t0.type="NONE";const Xv=t0;function nh(r,t,n){return`firebase:${r}:${t}:${n}`}class io{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=nh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ph(this.auth,{idToken:t}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new io(er(Xv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||er(Xv);const f=nh(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const C=await ph(t,{idToken:E}).catch(()=>{});if(!C)break;S=await Wn._fromGetAccountInfoResponse(t,C,E)}else S=Wn._fromJSON(t,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new io(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new io(u,t,s))}}function $v(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(r0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(e0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(a0(t))return"Blackberry";if(o0(t))return"Webos";if(n0(t))return"Safari";if((t.includes("chrome/")||i0(t))&&!t.includes("edge/"))return"Chrome";if(s0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function e0(r=We()){return/firefox\//i.test(r)}function n0(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function i0(r=We()){return/crios\//i.test(r)}function r0(r=We()){return/iemobile/i.test(r)}function s0(r=We()){return/android/i.test(r)}function a0(r=We()){return/blackberry/i.test(r)}function o0(r=We()){return/webos/i.test(r)}function cp(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function MC(r=We()){return cp(r)&&!!window.navigator?.standalone}function VC(){return Qb()&&document.documentMode===10}function l0(r=We()){return cp(r)||s0(r)||o0(r)||a0(r)||/windows phone/i.test(r)||r0(r)}function u0(r,t=[]){let n;switch(r){case"Browser":n=$v(We());break;case"Worker":n=`${$v(We())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${s}`}class xC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function LC(r,t={}){return hr(r,"GET","/v2/passwordPolicy",us(r,t))}const PC=6;class UC{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??PC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class kC{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new xC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await io.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ph(this,{idToken:t}),s=await Wn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Tn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await gh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=gC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Tn(this.app))return Promise.reject(ir(this));const n=t?Ke(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Tn(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await LC(this),n=new UC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new au("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await OC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&er(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=u0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&fC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function cs(r){return Ke(r)}class Jv{constructor(t){this.auth=t,this.observer=null,this.addObserver=t1(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zC(r){xh=r}function c0(r){return xh.loadJS(r)}function BC(){return xh.recaptchaEnterpriseScript}function jC(){return xh.gapiScript}function qC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class HC{constructor(){this.enterprise=new FC}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class FC{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const GC="recaptcha-enterprise",h0="NO_RECAPTCHA";class QC{constructor(t){this.type=GC,this.auth=cs(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{AC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new SC(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;Qv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(h0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Qv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=BC();g.length!==0&&(g+=m),c0(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Zv(r,t,n,s=!1,o=!1){const u=new QC(r);let f;if(o)f=h0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Dm(r,t,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Zv(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Zv(r,t,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function KC(r,t){const n=sp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if($s(u,t??{}))return o;zn(o,"already-initialized")}return n.initialize({options:t})}function YC(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(er);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function XC(r,t,n){const s=cs(r);gt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=f0(t),{host:f,port:m}=$C(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){gt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),gt($s(y,s.config.emulator)&&$s(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,vo(f)?(BT(`${u}//${f}${g}`),jT("Auth",!0)):JC()}function f0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function $C(r){const t=f0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Wv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Wv(f)}}}function Wv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function JC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class hp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(t){return tr("not implemented")}_linkToIdToken(t,n){return tr("not implemented")}_getReauthenticationResolver(t){return tr("not implemented")}}async function ZC(r,t){return hr(r,"POST","/v1/accounts:signUp",t)}async function WC(r,t){return uu(r,"POST","/v1/accounts:signInWithPassword",us(r,t))}async function tI(r,t){return uu(r,"POST","/v1/accounts:signInWithEmailLink",us(r,t))}async function eI(r,t){return uu(r,"POST","/v1/accounts:signInWithEmailLink",us(r,t))}class Xl extends hp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Xl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Xl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dm(t,n,"signInWithPassword",WC);case"emailLink":return tI(t,{email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dm(t,s,"signUpPassword",ZC);case"emailLink":return eI(t,{idToken:n,email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ro(r,t){return uu(r,"POST","/v1/accounts:signInWithIdp",us(r,t))}const nI="http://localhost";class Zs extends hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Zs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ro(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ro(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ro(t,n)}buildRequest(){const t={requestUri:nI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ou(n)}return t}}function iI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rI(r){const t=Ll(Pl(r)).link,n=t?Ll(Pl(t)).deep_link_id:null,s=Ll(Pl(r)).deep_link_id;return(s?Ll(Pl(s)).link:null)||s||n||t||r}class fp{constructor(t){const n=Ll(Pl(t)),s=n.apiKey??null,o=n.oobCode??null,u=iI(n.mode??null);gt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=rI(t);try{return new fp(n)}catch{return null}}}class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(t,n){return Xl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=fp.parseLink(n);return gt(s,"argument-error"),Xl._fromEmailAndCode(t,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class cu extends dp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qr extends cu{constructor(){super("facebook.com")}static credential(t){return Zs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qr.credential(t.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";class Wi extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Zs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Wi.credentialFromTaggedObject(t)}static credentialFromError(t){return Wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Wi.credential(n,s)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";class Kr extends cu{constructor(){super("github.com")}static credential(t){return Zs._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kr.credential(t.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";class Yr extends cu{constructor(){super("twitter.com")}static credential(t,n){return Zs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";async function sI(r,t){return uu(r,"POST","/v1/accounts:signUp",us(r,t))}class Ws{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Wn._fromIdTokenResponse(t,s,o),f=tE(s);return new Ws({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=tE(s);return new Ws({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function tE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class yh extends cr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new yh(t,n,s,o)}}function d0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(r,u,t,s):u})}async function aI(r,t,n=!1){const s=await oo(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ws._forOperation(r,"link",s)}async function oI(r,t,n=!1){const{auth:s}=r;if(Tn(s.app))return Promise.reject(ir(s));const o="reauthenticate";try{const u=await oo(r,d0(s,o,t,r),n);gt(u.idToken,s,"internal-error");const f=up(u.idToken);gt(f,s,"internal-error");const{sub:m}=f;return gt(r.uid===m,s,"user-mismatch"),Ws._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&zn(s,"user-mismatch"),u}}async function m0(r,t,n=!1){if(Tn(r.app))return Promise.reject(ir(r));const s="signIn",o=await d0(r,s,t),u=await Ws._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function lI(r,t){return m0(cs(r),t)}async function p0(r){const t=cs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function uI(r,t,n){if(Tn(r.app))return Promise.reject(ir(r));const s=cs(r),f=await Dm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&p0(r),g}),m=await Ws._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function cI(r,t,n){return Tn(r.app)?Promise.reject(ir(r)):lI(Ke(r),To.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&p0(r),s})}async function hI(r,t){return hr(r,"POST","/v1/accounts:update",t)}async function fI(r,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const s=Ke(r),u={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},f=await oo(s,hI(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function dI(r,t,n,s){return Ke(r).onIdTokenChanged(t,n,s)}function mI(r,t,n){return Ke(r).beforeAuthStateChanged(t,n)}function g0(r,t,n,s){return Ke(r).onAuthStateChanged(t,n,s)}function y0(r){return Ke(r).signOut()}const _h="__sak";class _0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const pI=1e3,gI=10;class v0 extends _0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);VC()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,gI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},pI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}v0.type="LOCAL";const yI=v0;class E0 extends _0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}E0.type="SESSION";const T0=E0;function _I(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Lh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Lh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await _I(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];function mp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class vI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=mp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const C=S;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function bi(){return window}function EI(r){bi().location.href=r}function S0(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function TI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SI(){return navigator?.serviceWorker?.controller||null}function AI(){return S0()?self:null}const A0="firebaseLocalStorageDb",RI=1,vh="firebaseLocalStorage",R0="fbase_key";class hu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(r,t){return r.transaction([vh],t?"readwrite":"readonly").objectStore(vh)}function wI(){const r=indexedDB.deleteDatabase(A0);return new hu(r).toPromise()}function Nm(){const r=indexedDB.open(A0,RI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(vh,{keyPath:R0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(vh)?t(s):(s.close(),await wI(),t(await Nm()))})})}async function eE(r,t,n){const s=Ph(r,!0).put({[R0]:t,value:n});return new hu(s).toPromise()}async function bI(r,t){const n=Ph(r,!1).get(t),s=await new hu(n).toPromise();return s===void 0?null:s.value}function nE(r,t){const n=Ph(r,!0).delete(t);return new hu(n).toPromise()}const CI=800,II=3;class w0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>II)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(AI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TI(),!this.activeServiceWorker)return;this.sender=new vI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||SI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Nm();return await eE(t,_h,"1"),await nE(t,_h),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>eE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>bI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>nE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Ph(o,!1).getAll();return new hu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w0.type="LOCAL";const DI=w0;new lu(3e4,6e4);function b0(r,t){return t?er(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class pp extends hp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ro(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ro(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function NI(r){return m0(r.auth,new pp(r),r.bypassAuthState)}function OI(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),oI(n,new pp(r),r.bypassAuthState)}async function MI(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),aI(n,new pp(r),r.bypassAuthState)}class C0{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return NI;case"linkViaPopup":case"linkViaRedirect":return MI;case"reauthViaPopup":case"reauthViaRedirect":return OI;default:zn(this.auth,"internal-error")}}resolve(t){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const VI=new lu(2e3,1e4);async function xI(r,t,n){if(Tn(r.app))return Promise.reject(ei(r,"operation-not-supported-in-this-environment"));const s=cs(r);dC(r,t,dp);const o=b0(s,n);return new Gs(s,"signInViaPopup",t,o).executeNotNull()}class Gs extends C0{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const t=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,VI.get())};t()}}Gs.currentPopupAction=null;const LI="pendingRedirect",ih=new Map;class PI extends C0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=ih.get(this.auth._key());if(!t){try{const s=await UI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}ih.set(this.auth._key(),t)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UI(r,t){const n=BI(t),s=zI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function kI(r,t){ih.set(r._key(),t)}function zI(r){return er(r._redirectPersistence)}function BI(r){return nh(LI,r.config.apiKey,r.name)}async function jI(r,t,n=!1){if(Tn(r.app))return Promise.reject(ir(r));const s=cs(r),o=b0(s,t),f=await new PI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const qI=600*1e3;class HI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!FI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!I0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ei(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=qI&&this.cachedEventUids.clear(),this.cachedEventUids.has(iE(t))}saveEventToCache(t){this.cachedEventUids.add(iE(t)),this.lastProcessedEventTime=Date.now()}}function iE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function I0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function FI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I0(r);default:return!1}}async function GI(r,t={}){return hr(r,"GET","/v1/projects",t)}const QI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KI=/^https?/;async function YI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await GI(r);for(const n of t)try{if(XI(n))return}catch{}zn(r,"unauthorized-domain")}function XI(r){const t=Cm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!KI.test(n))return!1;if(QI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const $I=new lu(3e4,6e4);function rE(){const r=bi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function JI(r){return new Promise((t,n)=>{function s(){rE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{rE(),n(ei(r,"network-request-failed"))},timeout:$I.get()})}if(bi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(bi().gapi?.load)s();else{const o=qC("iframefcb");return bi()[o]=()=>{gapi.load?s():n(ei(r,"network-request-failed"))},c0(`${jC()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw rh=null,t})}let rh=null;function ZI(r){return rh=rh||JI(r),rh}const WI=new lu(5e3,15e3),t2="__/auth/iframe",e2="emulator/auth/iframe",n2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r2(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?lp(t,e2):`https://${r.config.authDomain}/${t2}`,s={apiKey:t.apiKey,appName:r.name,v:Eo},o=i2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ou(s).slice(1)}`}async function s2(r){const t=await ZI(r),n=bi().gapi;return gt(n,r,"internal-error"),t.open({where:document.body,url:r2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ei(r,"network-request-failed"),m=bi().setTimeout(()=>{u(f)},WI.get());function g(){bi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const a2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o2=500,l2=600,u2="_blank",c2="http://localhost";class sE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h2(r,t,n,s=o2,o=l2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...a2,width:s.toString(),height:o.toString(),top:u,left:f},y=We().toLowerCase();n&&(m=i0(y)?u2:n),e0(y)&&(t=t||c2,g.scrollbars="yes");const E=Object.entries(g).reduce((C,[P,X])=>`${C}${P}=${X},`,"");if(MC(y)&&m!=="_self")return f2(t||"",m),new sE(null);const S=window.open(t||"",m,E);gt(S,r,"popup-blocked");try{S.focus()}catch{}return new sE(S)}function f2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const d2="__/auth/handler",m2="emulator/auth/handler",p2=encodeURIComponent("fac");async function aE(r,t,n,s,o,u){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Eo,eventId:o};if(t instanceof dp){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",Wb(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof cu){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${p2}=${encodeURIComponent(g)}`:"";return`${g2(r)}?${ou(m).slice(1)}${y}`}function g2({config:r}){return r.emulator?lp(r,m2):`https://${r.authDomain}/${d2}`}const fm="webStorageSupport";class y2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T0,this._completeRedirectFn=jI,this._overrideRedirectResult=kI}async _openPopup(t,n,s,o){or(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await aE(t,n,s,Cm(),o);return h2(t,u,mp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await aE(t,n,s,Cm(),o);return EI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await s2(t),s=new HI(t);return n.register("authEvent",o=>(gt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(fm,{type:fm},o=>{const u=o?.[0]?.[fm];u!==void 0&&n(!!u),zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return l0()||n0()||cp()}}const _2=y2;var oE="@firebase/auth",lE="1.12.0";class v2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function E2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T2(r){ao(new Js("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;gt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u0(r)},y=new kC(s,o,u,g);return YC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ao(new Js("auth-internal",t=>{const n=cs(t.getProvider("auth").getImmediate());return(s=>new v2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(oE,lE,E2(r)),Zr(oE,lE,"esm2020")}const S2=300,A2=zT("authIdTokenMaxAge")||S2;let uE=null;const R2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>A2)return;const o=n?.token;uE!==o&&(uE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function w2(r=GT()){const t=sp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=KC(r,{popupRedirectResolver:_2,persistence:[DI,yI,T0]}),s=zT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=R2(u.toString());mI(n,f,()=>f(n.currentUser)),dI(n,m=>f(m))}}const o=UT("auth");return o&&XC(n,`http://${o}`),n}function b2(){return document.getElementsByTagName("head")?.[0]??document}zC({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=ei("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",b2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T2("Browser");var C2="firebase",I2="12.7.0";Zr(C2,I2,"app");var cE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wr,D0;(function(){var r;function t(w,R){function b(){}b.prototype=R.prototype,w.F=R.prototype,w.prototype=new b,w.prototype.constructor=w,w.D=function(M,N,L){for(var I=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)I[Xt-2]=arguments[Xt];return R.prototype[N].apply(M,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,R,b){b||(b=0);const M=Array(16);if(typeof R=="string")for(var N=0;N<16;++N)M[N]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(N=0;N<16;++N)M[N]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=w.g[0],b=w.g[1],N=w.g[2];let L=w.g[3],I;I=R+(L^b&(N^L))+M[0]+3614090360&4294967295,R=b+(I<<7&4294967295|I>>>25),I=L+(N^R&(b^N))+M[1]+3905402710&4294967295,L=R+(I<<12&4294967295|I>>>20),I=N+(b^L&(R^b))+M[2]+606105819&4294967295,N=L+(I<<17&4294967295|I>>>15),I=b+(R^N&(L^R))+M[3]+3250441966&4294967295,b=N+(I<<22&4294967295|I>>>10),I=R+(L^b&(N^L))+M[4]+4118548399&4294967295,R=b+(I<<7&4294967295|I>>>25),I=L+(N^R&(b^N))+M[5]+1200080426&4294967295,L=R+(I<<12&4294967295|I>>>20),I=N+(b^L&(R^b))+M[6]+2821735955&4294967295,N=L+(I<<17&4294967295|I>>>15),I=b+(R^N&(L^R))+M[7]+4249261313&4294967295,b=N+(I<<22&4294967295|I>>>10),I=R+(L^b&(N^L))+M[8]+1770035416&4294967295,R=b+(I<<7&4294967295|I>>>25),I=L+(N^R&(b^N))+M[9]+2336552879&4294967295,L=R+(I<<12&4294967295|I>>>20),I=N+(b^L&(R^b))+M[10]+4294925233&4294967295,N=L+(I<<17&4294967295|I>>>15),I=b+(R^N&(L^R))+M[11]+2304563134&4294967295,b=N+(I<<22&4294967295|I>>>10),I=R+(L^b&(N^L))+M[12]+1804603682&4294967295,R=b+(I<<7&4294967295|I>>>25),I=L+(N^R&(b^N))+M[13]+4254626195&4294967295,L=R+(I<<12&4294967295|I>>>20),I=N+(b^L&(R^b))+M[14]+2792965006&4294967295,N=L+(I<<17&4294967295|I>>>15),I=b+(R^N&(L^R))+M[15]+1236535329&4294967295,b=N+(I<<22&4294967295|I>>>10),I=R+(N^L&(b^N))+M[1]+4129170786&4294967295,R=b+(I<<5&4294967295|I>>>27),I=L+(b^N&(R^b))+M[6]+3225465664&4294967295,L=R+(I<<9&4294967295|I>>>23),I=N+(R^b&(L^R))+M[11]+643717713&4294967295,N=L+(I<<14&4294967295|I>>>18),I=b+(L^R&(N^L))+M[0]+3921069994&4294967295,b=N+(I<<20&4294967295|I>>>12),I=R+(N^L&(b^N))+M[5]+3593408605&4294967295,R=b+(I<<5&4294967295|I>>>27),I=L+(b^N&(R^b))+M[10]+38016083&4294967295,L=R+(I<<9&4294967295|I>>>23),I=N+(R^b&(L^R))+M[15]+3634488961&4294967295,N=L+(I<<14&4294967295|I>>>18),I=b+(L^R&(N^L))+M[4]+3889429448&4294967295,b=N+(I<<20&4294967295|I>>>12),I=R+(N^L&(b^N))+M[9]+568446438&4294967295,R=b+(I<<5&4294967295|I>>>27),I=L+(b^N&(R^b))+M[14]+3275163606&4294967295,L=R+(I<<9&4294967295|I>>>23),I=N+(R^b&(L^R))+M[3]+4107603335&4294967295,N=L+(I<<14&4294967295|I>>>18),I=b+(L^R&(N^L))+M[8]+1163531501&4294967295,b=N+(I<<20&4294967295|I>>>12),I=R+(N^L&(b^N))+M[13]+2850285829&4294967295,R=b+(I<<5&4294967295|I>>>27),I=L+(b^N&(R^b))+M[2]+4243563512&4294967295,L=R+(I<<9&4294967295|I>>>23),I=N+(R^b&(L^R))+M[7]+1735328473&4294967295,N=L+(I<<14&4294967295|I>>>18),I=b+(L^R&(N^L))+M[12]+2368359562&4294967295,b=N+(I<<20&4294967295|I>>>12),I=R+(b^N^L)+M[5]+4294588738&4294967295,R=b+(I<<4&4294967295|I>>>28),I=L+(R^b^N)+M[8]+2272392833&4294967295,L=R+(I<<11&4294967295|I>>>21),I=N+(L^R^b)+M[11]+1839030562&4294967295,N=L+(I<<16&4294967295|I>>>16),I=b+(N^L^R)+M[14]+4259657740&4294967295,b=N+(I<<23&4294967295|I>>>9),I=R+(b^N^L)+M[1]+2763975236&4294967295,R=b+(I<<4&4294967295|I>>>28),I=L+(R^b^N)+M[4]+1272893353&4294967295,L=R+(I<<11&4294967295|I>>>21),I=N+(L^R^b)+M[7]+4139469664&4294967295,N=L+(I<<16&4294967295|I>>>16),I=b+(N^L^R)+M[10]+3200236656&4294967295,b=N+(I<<23&4294967295|I>>>9),I=R+(b^N^L)+M[13]+681279174&4294967295,R=b+(I<<4&4294967295|I>>>28),I=L+(R^b^N)+M[0]+3936430074&4294967295,L=R+(I<<11&4294967295|I>>>21),I=N+(L^R^b)+M[3]+3572445317&4294967295,N=L+(I<<16&4294967295|I>>>16),I=b+(N^L^R)+M[6]+76029189&4294967295,b=N+(I<<23&4294967295|I>>>9),I=R+(b^N^L)+M[9]+3654602809&4294967295,R=b+(I<<4&4294967295|I>>>28),I=L+(R^b^N)+M[12]+3873151461&4294967295,L=R+(I<<11&4294967295|I>>>21),I=N+(L^R^b)+M[15]+530742520&4294967295,N=L+(I<<16&4294967295|I>>>16),I=b+(N^L^R)+M[2]+3299628645&4294967295,b=N+(I<<23&4294967295|I>>>9),I=R+(N^(b|~L))+M[0]+4096336452&4294967295,R=b+(I<<6&4294967295|I>>>26),I=L+(b^(R|~N))+M[7]+1126891415&4294967295,L=R+(I<<10&4294967295|I>>>22),I=N+(R^(L|~b))+M[14]+2878612391&4294967295,N=L+(I<<15&4294967295|I>>>17),I=b+(L^(N|~R))+M[5]+4237533241&4294967295,b=N+(I<<21&4294967295|I>>>11),I=R+(N^(b|~L))+M[12]+1700485571&4294967295,R=b+(I<<6&4294967295|I>>>26),I=L+(b^(R|~N))+M[3]+2399980690&4294967295,L=R+(I<<10&4294967295|I>>>22),I=N+(R^(L|~b))+M[10]+4293915773&4294967295,N=L+(I<<15&4294967295|I>>>17),I=b+(L^(N|~R))+M[1]+2240044497&4294967295,b=N+(I<<21&4294967295|I>>>11),I=R+(N^(b|~L))+M[8]+1873313359&4294967295,R=b+(I<<6&4294967295|I>>>26),I=L+(b^(R|~N))+M[15]+4264355552&4294967295,L=R+(I<<10&4294967295|I>>>22),I=N+(R^(L|~b))+M[6]+2734768916&4294967295,N=L+(I<<15&4294967295|I>>>17),I=b+(L^(N|~R))+M[13]+1309151649&4294967295,b=N+(I<<21&4294967295|I>>>11),I=R+(N^(b|~L))+M[4]+4149444226&4294967295,R=b+(I<<6&4294967295|I>>>26),I=L+(b^(R|~N))+M[11]+3174756917&4294967295,L=R+(I<<10&4294967295|I>>>22),I=N+(R^(L|~b))+M[2]+718787259&4294967295,N=L+(I<<15&4294967295|I>>>17),I=b+(L^(N|~R))+M[9]+3951481745&4294967295,w.g[0]=w.g[0]+R&4294967295,w.g[1]=w.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,w.g[2]=w.g[2]+N&4294967295,w.g[3]=w.g[3]+L&4294967295}s.prototype.v=function(w,R){R===void 0&&(R=w.length);const b=R-this.blockSize,M=this.C;let N=this.h,L=0;for(;L<R;){if(N==0)for(;L<=b;)o(this,w,L),L+=this.blockSize;if(typeof w=="string"){for(;L<R;)if(M[N++]=w.charCodeAt(L++),N==this.blockSize){o(this,M),N=0;break}}else for(;L<R;)if(M[N++]=w[L++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=R},s.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var R=1;R<w.length-8;++R)w[R]=0;R=this.o*8;for(var b=w.length-8;b<w.length;++b)w[b]=R&255,R/=256;for(this.v(w),w=Array(16),R=0,b=0;b<4;++b)for(let M=0;M<32;M+=8)w[R++]=this.g[b]>>>M&255;return w};function u(w,R){var b=m;return Object.prototype.hasOwnProperty.call(b,w)?b[w]:b[w]=R(w)}function f(w,R){this.h=R;const b=[];let M=!0;for(let N=w.length-1;N>=0;N--){const L=w[N]|0;M&&L==R||(b[N]=L,M=!1)}this.g=b}var m={};function g(w){return-128<=w&&w<128?u(w,function(R){return new f([R|0],R<0?-1:0)}):new f([w|0],w<0?-1:0)}function y(w){if(isNaN(w)||!isFinite(w))return S;if(w<0)return H(y(-w));const R=[];let b=1;for(let M=0;w>=b;M++)R[M]=w/b|0,b*=4294967296;return new f(R,0)}function E(w,R){if(w.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(w.charAt(0)=="-")return H(E(w.substring(1),R));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=y(Math.pow(R,8));let M=S;for(let L=0;L<w.length;L+=8){var N=Math.min(8,w.length-L);const I=parseInt(w.substring(L,L+N),R);N<8?(N=y(Math.pow(R,N)),M=M.j(N).add(y(I))):(M=M.j(b),M=M.add(y(I)))}return M}var S=g(0),C=g(1),P=g(16777216);r=f.prototype,r.m=function(){if(B(this))return-H(this).m();let w=0,R=1;for(let b=0;b<this.g.length;b++){const M=this.i(b);w+=(M>=0?M:4294967296+M)*R,R*=4294967296}return w},r.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(X(this))return"0";if(B(this))return"-"+H(this).toString(w);const R=y(Math.pow(w,6));var b=this;let M="";for(;;){const N=Tt(b,R).g;b=et(b,N.j(R));let L=((b.g.length>0?b.g[0]:b.h)>>>0).toString(w);if(b=N,X(b))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function X(w){if(w.h!=0)return!1;for(let R=0;R<w.g.length;R++)if(w.g[R]!=0)return!1;return!0}function B(w){return w.h==-1}r.l=function(w){return w=et(this,w),B(w)?-1:X(w)?0:1};function H(w){const R=w.g.length,b=[];for(let M=0;M<R;M++)b[M]=~w.g[M];return new f(b,~w.h).add(C)}r.abs=function(){return B(this)?H(this):this},r.add=function(w){const R=Math.max(this.g.length,w.g.length),b=[];let M=0;for(let N=0;N<=R;N++){let L=M+(this.i(N)&65535)+(w.i(N)&65535),I=(L>>>16)+(this.i(N)>>>16)+(w.i(N)>>>16);M=I>>>16,L&=65535,I&=65535,b[N]=I<<16|L}return new f(b,b[b.length-1]&-2147483648?-1:0)};function et(w,R){return w.add(H(R))}r.j=function(w){if(X(this)||X(w))return S;if(B(this))return B(w)?H(this).j(H(w)):H(H(this).j(w));if(B(w))return H(this.j(H(w)));if(this.l(P)<0&&w.l(P)<0)return y(this.m()*w.m());const R=this.g.length+w.g.length,b=[];for(var M=0;M<2*R;M++)b[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<w.g.length;N++){const L=this.i(M)>>>16,I=this.i(M)&65535,Xt=w.i(N)>>>16,ce=w.i(N)&65535;b[2*M+2*N]+=I*ce,tt(b,2*M+2*N),b[2*M+2*N+1]+=L*ce,tt(b,2*M+2*N+1),b[2*M+2*N+1]+=I*Xt,tt(b,2*M+2*N+1),b[2*M+2*N+2]+=L*Xt,tt(b,2*M+2*N+2)}for(w=0;w<R;w++)b[w]=b[2*w+1]<<16|b[2*w];for(w=R;w<2*R;w++)b[w]=0;return new f(b,0)};function tt(w,R){for(;(w[R]&65535)!=w[R];)w[R+1]+=w[R]>>>16,w[R]&=65535,R++}function nt(w,R){this.g=w,this.h=R}function Tt(w,R){if(X(R))throw Error("division by zero");if(X(w))return new nt(S,S);if(B(w))return R=Tt(H(w),R),new nt(H(R.g),H(R.h));if(B(R))return R=Tt(w,H(R)),new nt(H(R.g),R.h);if(w.g.length>30){if(B(w)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var b=C,M=R;M.l(w)<=0;)b=Rt(b),M=Rt(M);var N=vt(b,1),L=vt(M,1);for(M=vt(M,2),b=vt(b,2);!X(M);){var I=L.add(M);I.l(w)<=0&&(N=N.add(b),L=I),M=vt(M,1),b=vt(b,1)}return R=et(w,N.j(R)),new nt(N,R)}for(N=S;w.l(R)>=0;){for(b=Math.max(1,Math.floor(w.m()/R.m())),M=Math.ceil(Math.log(b)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(b),I=L.j(R);B(I)||I.l(w)>0;)b-=M,L=y(b),I=L.j(R);X(L)&&(L=C),N=N.add(L),w=et(w,I)}return new nt(N,w)}r.B=function(w){return Tt(this,w).h},r.and=function(w){const R=Math.max(this.g.length,w.g.length),b=[];for(let M=0;M<R;M++)b[M]=this.i(M)&w.i(M);return new f(b,this.h&w.h)},r.or=function(w){const R=Math.max(this.g.length,w.g.length),b=[];for(let M=0;M<R;M++)b[M]=this.i(M)|w.i(M);return new f(b,this.h|w.h)},r.xor=function(w){const R=Math.max(this.g.length,w.g.length),b=[];for(let M=0;M<R;M++)b[M]=this.i(M)^w.i(M);return new f(b,this.h^w.h)};function Rt(w){const R=w.g.length+1,b=[];for(let M=0;M<R;M++)b[M]=w.i(M)<<1|w.i(M-1)>>>31;return new f(b,w.h)}function vt(w,R){const b=R>>5;R%=32;const M=w.g.length-b,N=[];for(let L=0;L<M;L++)N[L]=R>0?w.i(L+b)>>>R|w.i(L+b+1)<<32-R:w.i(L+b);return new f(N,w.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,D0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Wr=f}).apply(typeof cE<"u"?cE:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var N0,Ul,O0,sh,Om,M0,V0,x0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break t;v=v[U]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,U,q){for(var it=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)it[wt-2]=arguments[wt];return p.prototype[U].apply(A,it)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function X(c,p){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const q=U.length||0;c.length=v+q;for(let it=0;it<q;it++)c[v+it]=U[it]}else c.push(U)}}class B{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function H(c){f.setTimeout(()=>{throw c},0)}function et(){var c=w;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class tt{constructor(){this.h=this.g=null}add(p,v){const A=nt.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var nt=new B(()=>new Tt,c=>c.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Rt,vt=!1,w=new tt,R=()=>{const c=Promise.resolve(void 0);Rt=()=>{c.then(b)}};function b(){for(var c;c=et();){try{c.h.call(c.g)}catch(v){H(v)}var p=nt;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}vt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Xt(c,p){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(Xt,N),Xt.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Xt.Z.h.call(this)},Xt.prototype.h=function(){Xt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),Q=0;function rt(c,p,v,A,U){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=U,this.key=++Q,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function Gt(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function V(c){const p={};for(const v in c)p[v]=c[v];return p}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(c,p){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let q=0;q<J.length;q++)v=J[q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ut(c){this.src=c,this.g={},this.h=0}ut.prototype.add=function(c,p,v,A,U){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const it=Ct(c,p,A,U);return it>-1?(p=c[it],v||(p.fa=!1)):(p=new rt(p,this.src,q,!!A,U),p.fa=v,c.push(p)),p};function _t(c,p){const v=p.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,p,void 0),q;(q=U>=0)&&Array.prototype.splice.call(A,U,1),q&&(mt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ct(c,p,v,A){for(let U=0;U<c.length;++U){const q=c[U];if(!q.da&&q.listener==p&&q.capture==!!v&&q.ha==A)return U}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Oe={};function se(c,p,v,A,U){if(Array.isArray(p)){for(let q=0;q<p.length;q++)se(c,p[q],v,A,U);return null}return v=Do(v),c&&c[ce]?c.J(p,v,m(A)?!!A.capture:!1,U):fs(c,p,v,!1,A,U)}function fs(c,p,v,A,U,q){if(!p)throw Error("Invalid event type");const it=m(U)?!!U.capture:!!U;let wt=ds(c);if(wt||(c[Ut]=wt=new ut(c)),v=wt.add(p,v,A,it,q),v.proxy)return v;if(A=aa(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(U=it),U===void 0&&(U=!1),c.addEventListener(p.toString(),A,U);else if(c.attachEvent)c.attachEvent(ii(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function aa(){function c(v){return p.call(c.src,c.listener,v)}const p=Co;return c}function oa(c,p,v,A,U){if(Array.isArray(p))for(var q=0;q<p.length;q++)oa(c,p[q],v,A,U);else A=m(A)?!!A.capture:!!A,v=Do(v),c&&c[ce]?(c=c.i,q=String(p).toString(),q in c.g&&(p=c.g[q],v=Ct(p,v,A,U),v>-1&&(mt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[q],c.h--)))):c&&(c=ds(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ct(p,v,A,U)),(v=c>-1?p[c]:null)&&la(v))}function la(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ce])_t(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(ii(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=ds(p))?(_t(v,c),v.h==0&&(v.src=null,p[Ut]=null)):mt(c)}}}function ii(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function Co(c,p){if(c.da)c=!0;else{p=new Xt(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&la(c),c=v.call(A,p)}return c}function ds(c){return c=c[Ut],c instanceof ut?c:null}var Io="__closure_events_fn_"+(Math.random()*1e9>>>0);function Do(c){return typeof c=="function"?c:(c[Io]||(c[Io]=function(p){return c.handleEvent(p)}),c[Io])}function _e(){M.call(this),this.i=new ut(this),this.M=this,this.G=null}S(_e,M),_e.prototype[ce]=!0,_e.prototype.removeEventListener=function(c,p,v,A){oa(this,c,p,v,A)};function Me(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new N(p,c);else if(p instanceof N)p.target=p.target||c;else{var U=p;p=new N(A,c),st(p,U)}U=!0;let q,it;if(v)for(it=v.length-1;it>=0;it--)q=p.g=v[it],U=fr(q,A,!0,p)&&U;if(q=p.g=c,U=fr(q,A,!0,p)&&U,U=fr(q,A,!1,p)&&U,v)for(it=0;it<v.length;it++)q=p.g=v[it],U=fr(q,A,!1,p)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)mt(v[A]);delete c.g[p],c.h--}}this.G=null},_e.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},_e.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function fr(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let q=0;q<p.length;++q){const it=p[q];if(it&&!it.da&&it.capture==v){const wt=it.listener,me=it.ha||it.src;it.fa&&_t(c.i,it),U=wt.call(me,A)!==!1&&U}}return U&&!A.defaultPrevented}function Zh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function yu(c){c.g=Zh(()=>{c.g=null,c.i&&(c.i=!1,yu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class tn extends M{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:yu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){M.call(this),this.h=c,this.g={}}S(ms,M);var No=[];function Oo(c){zt(c.g,function(p,v){this.g.hasOwnProperty(v)&&la(p)},c),c.g={}}ms.prototype.N=function(){ms.Z.N.call(this),Oo(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=f.JSON.stringify,Wh=f.JSON.parse,_u=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function vu(){}function Eu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){N.call(this,"d")}S(ze,N);function An(){N.call(this,"c")}S(An,N);var de={},Tu=null;function ua(){return Tu=Tu||new _e}de.Ia="serverreachability";function Su(c){N.call(this,de.Ia,c)}S(Su,N);function ri(c){const p=ua();Me(p,new Su(p))}de.STAT_EVENT="statevent";function ps(c,p){N.call(this,de.STAT_EVENT,c),this.stat=p}S(ps,N);function ve(c){const p=ua();Me(p,new ps(p,c))}de.Ja="timingevent";function si(c,p){N.call(this,de.Ja,c),this.size=p}S(si,N);function ai(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function tf(c,p,v,A,U,q){c.info(function(){if(c.g)if(q){var it="",wt=q.split("&");for(let qt=0;qt<wt.length;qt++){var me=wt[qt].split("=");if(me.length>1){const ae=me[0];me=me[1];const Cn=ae.split("_");it=Cn.length>=2&&Cn[1]=="type"?it+(ae+"="+me+"&"):it+(ae+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+p+`
`+v+`
`+it})}function Au(c,p,v,A,U,q,it){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+p+`
`+v+`
`+q+" "+it})}function oi(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+ef(c,v)+(A?" "+A:"")})}function gs(c,p){c.info(function(){return"TIMEOUT: "+p})}jn.prototype.info=function(){};function ef(c,p){if(!c.g)return p;if(!p)return null;try{const q=JSON.parse(p);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let it=1;it<A.length;it++)A[it]=""}}}}return dr(q)}catch{return p}}var ys={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function _s(){}S(_s,vu),_s.prototype.g=function(){return new XMLHttpRequest},Vo=new _s;function xi(c){return encodeURIComponent(String(c))}function Ru(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function qn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new ms(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Ee={},Le={};function li(c,p,v){c.M=1,c.A=vs(Se(p)),c.u=v,c.R=!0,ca(c,null)}function ca(c,p){c.F=Date.now(),ui(c),c.B=Se(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ma(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Hn,c.g=zu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(No[0]=U.toString()),U=No);for(let q=0;q<U.length;q++){const it=se(v,U[q],A||p.handleEvent,!1,p.h||p);if(!it)break;p.g[it.key]=it}p=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ri(),tf(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Qn(c)==3?p.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)t:{const wt=Qn(this.g),me=this.g.ya(),qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||wt!=4||me==7||(me==8||qt<=0?ri(3):ri(2)),ci(this);var p=this.g.ca();this.X=p;var v=nf(this);if(this.o=p==200,Au(this.i,this.v,this.B,this.l,this.S,wt,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var q=A;break e}}q=null}if(c=q)oi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,c);else{this.o=!1,this.m=3,ve(12),fn(this),Rn(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=bu(this,v),ae==Le){wt==4&&(this.m=4,ve(14),c=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Ee){this.m=4,ve(15),oi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else oi(this.i,this.l,ae,null),hi(this,ae);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),c=!1),this.o=this.o&&c,!c)oi(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(it),it.P=!0,ve(11))}}else oi(this.i,this.l,v,null),hi(this,v);wt==4&&fn(this),this.o&&!this.K&&(wt==4?Lu(this.j,this):(this.o=!1,ui(this)))}else Pi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),fn(this),Rn(this)}}}catch{}};function nf(c){if(!wu(c))return c.g.la();const p=Be(c.g);if(p==="")return"";let v="";const A=p.length,U=Qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fn(c),Rn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,v+=c.h.i.decode(p[q],{stream:!(U&&q==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function wu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function bu(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?Le:(v=Number(p.substring(v,A)),isNaN(v)?Ee:(A+=1,A+v>p.length?Le:(p=p.slice(A,A+v),c.C=A+v,p)))}qn.prototype.cancel=function(){this.K=!0,fn(this)};function ui(c){c.T=Date.now()+c.H,ha(c,c.H)}function ha(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ai(y(c.aa,c),p)}function ci(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gs(this.i,this.B),this.M!=2&&(ri(),ve(17)),fn(this),this.m=2,Rn(this)):ha(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Lu(c.j,c)}function fn(c){ci(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Oo(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function hi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||di(v.h,c))){if(!c.L&&di(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)va(v),Tr(v);else break t;bs(v),ve(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(y(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((c.L||v.g==c)&&va(v),!I(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let qt=U[p];const ae=qt[0];if(!(ae<=v.K))if(v.K=ae,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Cn=qt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const Ei=qt[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Kn=qt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(A=1.5*Kn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Yn=c.g;if(Yn){const Cs=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cs){var q=A.h;q.g||Cs.indexOf("spdy")==-1&&Cs.indexOf("quic")==-1&&Cs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Po(q,q.h),q.h=null))}if(A.G){const Ea=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(A.wa=Ea,Qt(A.J,A.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var it=c;if(A.na=ku(A,A.L?A.ba:null,A.W),it.L){Uo(A.h,it);var wt=it,me=A.O;me&&(wt.H=me),wt.D&&(ci(wt),ui(wt)),A.g=it}else Vu(A);v.i.length>0&&_i(v)}else qt[0]!="stop"&&qt[0]!="close"||vi(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?vi(v,7):Qo(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ri(4)}catch{}}var Te=class{constructor(c,p){this.g=c,this.map=p}};function xo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fi(c){return c.h?1:c.g?c.g.size:0}function di(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Po(c,p){c.g?c.g.add(p):c.h=p}function Uo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}xo.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return P(c.i)}var Cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let U,q=null;A>=0?(U=c[v].substring(0,A),q=c[v].substring(A+1)):U=c[v],p(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function dn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof dn?(this.l=c.l,Pe(this,c.j),this.o=c.o,this.g=c.g,mr(this,c.u),this.h=c.h,zo(this,Ou(c.i)),this.m=c.m):c&&(p=String(c).match(Cu))?(this.l=!1,Pe(this,p[1]||"",!0),this.o=mi(p[2]||""),this.g=mi(p[3]||"",!0),mr(this,p[4]),this.h=mi(p[5]||"",!0),zo(this,p[6]||"",!0),this.m=mi(p[7]||"")):(this.l=!1,this.i=new gr(null,this.l))}dn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Es(p,da,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Es(p,da,!0),"@"),c.push(xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Es(v,v.charAt(0)=="/"?Bo:Iu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Es(v,Du)),c.join("")},dn.prototype.resolve=function(c){const p=Se(this);let v=!!c.j;v?Pe(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)mr(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=p.h.lastIndexOf("/");U!=-1&&(A=p.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let it=0;it<U.length;){const wt=U[it++];wt=="."?A&&it==U.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&it==U.length&&q.push("")):(q.push(wt),A=!0)}A=q.join("/")}else A=U}return v?p.h=A:v=c.i.toString()!=="",v?zo(p,Ou(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Se(c){return new dn(c)}function Pe(c,p,v){c.j=v?mi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function mr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function zo(c,p,v){p instanceof gr?(c.i=p,pa(c.i,c.l)):(v||(p=Es(p,pr)),c.i=new gr(p,c.l))}function Qt(c,p,v){c.i.set(p,v)}function vs(c){return Qt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function mi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var da=/[#\/\?@]/g,Iu=/[#\?:]/g,Bo=/[#\?]/g,pr=/[#\?@]/g,Du=/#/g;function gr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=gr.prototype,r.add=function(c,p){sn(this),this.i=null,c=yr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Nu(c,p){sn(c),p=yr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function jo(c,p){return sn(c),p=yr(c,p),c.g.has(p)}r.forEach=function(c,p){sn(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(p,U,A,this)},this)},this)};function qo(c,p){sn(c);let v=[];if(typeof p=="string")jo(c,p)&&(v=v.concat(c.g.get(yr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return sn(this),this.i=null,c=yr(this,c),jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=qo(this,c),c.length>0?String(c[0]):p):p};function ma(c,p,v){Nu(c,p),v.length>0&&(c.i=null,c.g.set(yr(c,p),P(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const U=xi(v);v=qo(this,v);for(let q=0;q<v.length;q++){let it=U;v[q]!==""&&(it+="="+xi(v[q])),c.push(it)}}return this.i=c.join("&")};function Ou(c){const p=new gr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function yr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function pa(c,p){p&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(Nu(this,A),ma(this,U,v))},c)),c.j=p}function Fn(c,p){const v=new jn;if(f.Image){const A=new Image;A.onload=E(wn,v,"TestLoadImage: loaded",!0,p,A),A.onerror=E(wn,v,"TestLoadImage: error",!1,p,A),A.onabort=E(wn,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(wn,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Ho(c,p){const v=new jn,A=new AbortController,U=setTimeout(()=>{A.abort(),wn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(U),q.ok?wn(v,"TestPingServer: ok",!0,p):wn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),wn(v,"TestPingServer: error",!1,p)})}function wn(c,p,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function _r(){this.g=new _u}function pi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(pi,vu),pi.prototype.g=function(){return new Ts(this.i,this.h)};function Ts(c,p){_e.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ts,_e),r=Ts.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Gn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?vr(this):Gn(this),this.readyState==3&&ga(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,vr(this))},r.Na=function(c){this.g&&(this.response=c,vr(this))},r.ga=function(){this.g&&vr(this)};function vr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Gn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bn(c){let p="";return zt(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function Ss(c,p,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=bn(v),typeof c=="string"?v!=null&&xi(v):Qt(c,p,v))}function $t(c){_e.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($t,_e);var gi=/^https?$/i,Fo=["POST","PUT"];r=$t.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=C(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){As(this,q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Fo,p,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of v)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){As(this,q)}};function As(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Go(c),Li(c)}function Go(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Me(this,"complete"),Me(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Rs(this):this.Xa())},r.Xa=function(){Rs(this)};function Rs(c){if(c.h&&typeof u<"u"){if(c.v&&Qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Me(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var A;if(A=q===0){let it=String(c.D).match(Cu)[1]||null;!it&&f.self&&f.self.location&&(it=f.self.location.protocol.slice(0,-1)),A=!gi.test(it?it.toLowerCase():"")}v=A}if(v)Me(c,"complete"),Me(c,"success");else{c.o=6;try{var U=Qn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Go(c)}}finally{Li(c)}}}}function Li(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Me(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Wh(p)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const p={};c=(c.g&&Qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=Ru(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=p[U]||[];p[U]=q,q.push(v)}Gt(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Er(c){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,c),this.Za=yi("retryDelaySeedMs",1e4,c),this.Ta=yi("forwardChannelMaxRetries",2,c),this.va=yi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(c&&c.concurrentRequestLimit),this.Ba=new _r,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Er.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,A){ve(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=ku(this,null,this.W),_i(this)};function Qo(c){if(ya(c),c.I==3){var p=c.V++,v=Se(c.J);if(Qt(v,"SID",c.M),Qt(v,"RID",p),Qt(v,"TYPE","terminate"),ws(c,v),p=new qn(c,c.j,p),p.M=2,p.A=vs(Se(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=zu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ui(p)}Uu(c)}function Tr(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function ya(c){Tr(c),c.v&&(f.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function _i(c){if(!Lo(c.h)&&!c.m){c.m=!0;var p=c.Ea;Rt||R(),vt||(Rt(),vt=!0),w.add(p,c),c.D=0}}function _a(c,p){return fi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ai(y(c.Ea,c,p),Pu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new qn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=V(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Mu(this,U,p),v=Se(this.J),Qt(v,"RID",c),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),ws(this,v),q&&(this.R?p="headers="+xi(bn(q))+"&"+p:this.u&&Ss(v,this.u,q)),Po(this.h,U),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",p),Qt(v,"SID","null"),U.U=!0,li(U,v,null)):li(U,v,p),this.I=2}}else this.I==3&&(c?Ko(this,c):this.i.length==0||Lo(this.h)||Ko(this))};function Ko(c,p){var v;p?v=p.l:v=c.V++;const A=Se(c.J);Qt(A,"SID",c.M),Qt(A,"RID",v),Qt(A,"AID",c.K),ws(c,A),c.u&&c.o&&Ss(A,c.u,c.o),v=new qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Mu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,v),li(v,A,p)}function ws(c,p){c.H&&zt(c.H,function(v,A){Qt(p,A,v)}),c.l&&zt({},function(v,A){Qt(p,A,v)})}function Mu(c,p,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var U=c.i;let wt=-1;for(;;){const me=["count="+v];wt==-1?v>0?(wt=U[0].g,me.push("ofs="+wt)):wt=0:me.push("ofs="+wt);let qt=!0;for(let ae=0;ae<v;ae++){var q=U[ae].g;const Cn=U[ae].map;if(q-=wt,q<0)wt=Math.max(0,U[ae].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var it=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Ei,Kn]of it){let Yn=Kn;m(Kn)&&(Yn=dr(Kn)),me.push(q+Ei+"="+encodeURIComponent(Yn))}}catch(Ei){throw me.push(q+"type="+encodeURIComponent("_badmap")),Ei}}catch{A&&A(Cn)}}if(qt){it=me.join("&");break t}}it=void 0}return c=c.i.splice(0,v),p.G=c,it}function Vu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Rt||R(),vt||(Rt(),vt=!0),w.add(p,c),c.A=0}}function bs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ai(y(c.Da,c),Pu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ai(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),Tr(this),xu(this))};function Yo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function xu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Se(c.na);Qt(p,"RID","rpc"),Qt(p,"SID",c.M),Qt(p,"AID",c.K),Qt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qt(p,"TO",c.ia),Qt(p,"TYPE","xmlhttp"),ws(c,p),c.u&&c.o&&Ss(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=vs(Se(p)),v.u=null,v.R=!0,ca(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Tr(this),bs(this),ve(19))};function va(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Lu(c,p){var v=null;if(c.g==p){va(c),Yo(c),c.g=null;var A=2}else if(di(c.h,p))v=p.G,Uo(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=c.D;A=ua(),Me(A,new si(A,v)),_i(c)}else Vu(c);else if(U=p.m,U==3||U==0&&p.X>0||!(A==1&&_a(c,p)||A==2&&bs(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),U){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function Pu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function vi(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),A=c.Ua;const U=!A;A=new dn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pe(A,"https"),vs(A),U?Fn(A.toString(),v):Ho(A.toString(),v)}else ve(2);c.I=0,c.l&&c.l.pa(p),Uu(c),ya(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Uu(c){if(c.I=0,c.ja=[],c.l){const p=ko(c.h);(p.length!=0||c.i.length!=0)&&(X(c.ja,p),X(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function ku(c,p,v){var A=v instanceof dn?Se(v):new dn(v);if(A.g!="")p&&(A.g=p+"."+A.g),mr(A,A.u);else{var U=f.location;A=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const q=new dn(null);A&&Pe(q,A),p&&(q.g=p),U&&mr(q,U),v&&(q.h=v),A=q}return v=c.G,p=c.wa,v&&p&&Qt(A,v,p),Qt(A,"VER",c.ka),ws(c,A),A}function zu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new $t(new pi({ab:v})):new $t(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Sr(){}Sr.prototype.g=function(c,p){return new en(c,p)};function en(c,p){_e.call(this),this.g=new Er(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!I(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Ui(this)}S(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Qo(this.g)},en.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=dr(c),c=v);p.i.push(new Te(p.Ya++,c)),p.I==3&&_i(p)},en.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,en.Z.N.call(this)};function ju(c){ze.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(ju,ze);function qu(){An.call(this),this.status=1}S(qu,An);function Ui(c){this.g=c}S(Ui,Bu),Ui.prototype.ra=function(){Me(this.g,"a")},Ui.prototype.qa=function(c){Me(this.g,new ju(c))},Ui.prototype.pa=function(c){Me(this.g,new qu)},Ui.prototype.oa=function(){Me(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,x0=function(){return new Sr},V0=function(){return ua()},M0=de,Om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,sh=ys,Mo.COMPLETE="complete",O0=Mo,Eu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Ul=Eu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,N0=$t}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});const hE="@firebase/firestore",fE="4.9.3";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let So="12.7.0";const ta=new ip("@firebase/firestore");function Ja(){return ta.logLevel}function lt(r,...t){if(ta.logLevel<=Vt.DEBUG){const n=t.map(gp);ta.debug(`Firestore (${So}): ${r}`,...n)}}function lr(r,...t){if(ta.logLevel<=Vt.ERROR){const n=t.map(gp);ta.error(`Firestore (${So}): ${r}`,...n)}}function lo(r,...t){if(ta.logLevel<=Vt.WARN){const n=t.map(gp);ta.warn(`Firestore (${So}): ${r}`,...n)}}function gp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function yt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,L0(r,s,n)}function L0(r,t,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw lr(s),new Error(s)}function Ft(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||L0(t,o,s)}function At(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends cr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ts{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class P0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class D2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class N2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class O2{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ts,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ts)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new P0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class M2{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V2{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new M2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function L2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class yp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=L2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function Mm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return dm(o)===dm(u)?xt(o,u):dm(o)?1:-1}return xt(r.length,t.length)}const P2=55296,U2=57343;function dm(r){const t=r.charCodeAt(0);return t>=P2&&t<=U2}function uo(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const mE="__name__";class wi{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&yt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=wi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return xt(t.length,n.length)}static compareSegments(t,n){const s=wi.isNumericId(t),o=wi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?wi.extractNumericId(t).compare(wi.extractNumericId(n)):Mm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wr.fromString(t.substring(4,t.length-2))}}class ee extends wi{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const k2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends wi{construct(t,n,s){return new Qe(t,n,s)}static isValidIdentifier(t){return k2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mE}static keyField(){return new Qe([mE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ot(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ot(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ot(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ee.fromString(t))}static fromName(t){return new dt(ee.fromString(t).popFirst(5))}static empty(){return new dt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ee(t.slice()))}}function U0(r,t,n){if(!n)throw new ot(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function z2(r,t,n,s){if(t===!0&&s===!0)throw new ot(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function pE(r){if(!dt.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function gE(r){if(dt.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function k0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Uh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function rr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uh(r);throw new ot(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function De(r,t){const n={typeString:r};return t&&(n.value=t),n}function fu(r,t){if(!k0(r))throw new ot(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ot(Z.INVALID_ARGUMENT,n);return!0}const yE=-62135596800,_E=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*_E);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<yE)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_E}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(fu(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-yE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:De("string",re._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new re(0,0))}static max(){return new Et(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $l=-1;function B2(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new ns(o,dt.empty(),t)}function j2(r){return new ns(r.readTime,r.key,$l)}class ns{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ns(Et.min(),dt.empty(),$l)}static max(){return new ns(Et.max(),dt.empty(),$l)}}function q2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:xt(r.largestBatchId,t.largestBatchId))}const H2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ao(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==H2)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):W.reject(n)}static resolve(t){return new W(((n,s)=>{n(t)}))}static reject(t){return new W(((n,s)=>{s(t)}))}static waitFor(t){return new W(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=W.resolve(!1);for(const s of t)n=n.next((o=>o?W.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new W(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new W(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function G2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(r){return r.name==="IndexedDbTransactionError"}class kh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}kh.ce=-1;const _p=-1;function zh(r){return r==null}function Eh(r){return r===0&&1/r==-1/0}function Q2(r){return typeof r=="number"&&Number.isInteger(r)&&!Eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const z0="";function K2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=vE(t)),t=Y2(r.get(n),t);return vE(t)}function Y2(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case z0:n+="";break;default:n+=u}}return n}function vE(r){return r+z0+""}function EE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function na(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function B0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xc(this.root,t,this.comparator,!0)}}class Xc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ge(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new TE(this.data.getIterator())}getIteratorFrom(t){return new TE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class TE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new ti([])}unionWith(t){let n=new xe(Qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new ti(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return uo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class j0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new j0("Invalid base64 string: "+u):u}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const X2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=X2.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function rs(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const q0="server_timestamp",H0="__type__",F0="__previous_value__",G0="__local_write_time__";function vp(r){return(r?.mapValue?.fields||{})[H0]?.stringValue===q0}function Bh(r){const t=r.mapValue.fields[F0];return vp(t)?Bh(t):t}function Jl(r){const t=is(r.mapValue.fields[G0].timestampValue);return new re(t.seconds,t.nanos)}class $2{constructor(t,n,s,o,u,f,m,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Th="(default)";class Zl{constructor(t,n){this.projectId=t,this.database=n||Th}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Th}isEqual(t){return t instanceof Zl&&t.projectId===this.projectId&&t.database===this.database}}const Q0="__type__",J2="__max__",$c={mapValue:{}},K0="__vector__",Sh="value";function ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vp(r)?4:W2(r)?9007199254740991:Z2(r)?10:11:yt(28295,{value:r})}function Mi(r,t){if(r===t)return!0;const n=ss(r);if(n!==ss(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Jl(r).isEqual(Jl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=is(o.timestampValue),m=is(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return rs(o.bytesValue).isEqual(rs(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ye(o.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ye(o.integerValue)===ye(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ye(o.doubleValue),m=ye(u.doubleValue);return f===m?Eh(f)===Eh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return uo(r.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(EE(f)!==EE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Mi(f[g],m[g])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Wl(r,t){return(r.values||[]).find((n=>Mi(n,t)))!==void 0}function co(r,t){if(r===t)return 0;const n=ss(r),s=ss(t);if(n!==s)return xt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ye(u.integerValue||u.doubleValue),g=ye(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return SE(r.timestampValue,t.timestampValue);case 4:return SE(Jl(r),Jl(t));case 5:return Mm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=rs(u),g=rs(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=xt(m[y],g[y]);if(E!==0)return E}return xt(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=xt(ye(u.latitude),ye(f.latitude));return m!==0?m:xt(ye(u.longitude),ye(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return AE(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[Sh]?.arrayValue,E=g[Sh]?.arrayValue,S=xt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:AE(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===$c.mapValue&&f===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(f===$c.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const C=Mm(g[S],E[S]);if(C!==0)return C;const P=co(m[g[S]],y[E[S]]);if(P!==0)return P}return xt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function SE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const n=is(r),s=is(t),o=xt(n.seconds,s.seconds);return o!==0?o:xt(n.nanos,s.nanos)}function AE(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=co(n[o],s[o]);if(u)return u}return xt(n.length,s.length)}function ho(r){return Vm(r)}function Vm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=is(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return rs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return dt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Vm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Vm(n.fields[f])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function ah(r){switch(ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bh(r);return t?16+ah(t):16;case 5:return 2*r.stringValue.length;case 6:return rs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ah(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return na(s.fields,((u,f)=>{o+=u.length+ah(f)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function RE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function xm(r){return!!r&&"integerValue"in r}function Ep(r){return!!r&&"arrayValue"in r}function wE(r){return!!r&&"nullValue"in r}function bE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function oh(r){return!!r&&"mapValue"in r}function Z2(r){return(r?.mapValue?.fields||{})[Q0]?.stringValue===K0}function Hl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return na(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Hl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Hl(r.arrayValue.values[n]);return t}return{...r}}function W2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===J2}class Pn{constructor(t){this.value=t}static empty(){return new Pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!oh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hl(n)}setAll(t){let n=Qe.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Hl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){na(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Pn(Hl(this.value))}}function Y0(r){const t=[];return na(r.fields,((n,s)=>{const o=new Qe([n]);if(oh(s)){const u=Y0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new ti(t)}class Ze{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ze(t,0,Et.min(),Et.min(),Et.min(),Pn.empty(),0)}static newFoundDocument(t,n,s,o){return new Ze(t,1,n,Et.min(),s,o,0)}static newNoDocument(t,n){return new Ze(t,2,n,Et.min(),Et.min(),Pn.empty(),0)}static newUnknownDocument(t,n){return new Ze(t,3,n,Et.min(),Et.min(),Pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ah{constructor(t,n){this.position=t,this.inclusive=n}}function CE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=dt.comparator(dt.fromName(f.referenceValue),n.key):s=co(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function IE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Mi(r.position[n],t.position[n]))return!1;return!0}class tu{constructor(t,n="asc"){this.field=t,this.dir=n}}function tD(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class X0{}class Ie extends X0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new nD(t,n,s):n==="array-contains"?new sD(t,s):n==="in"?new aD(t,s):n==="not-in"?new oD(t,s):n==="array-contains-any"?new lD(t,s):new Ie(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new iD(t,s):new rD(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(co(n,this.value)):n!==null&&ss(this.value)===ss(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends X0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ni(t,n)}matches(t){return $0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $0(r){return r.op==="and"}function J0(r){return eD(r)&&$0(r)}function eD(r){for(const t of r.filters)if(t instanceof ni)return!1;return!0}function Lm(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+ho(r.value);if(J0(r))return r.filters.map((t=>Lm(t))).join(",");{const t=r.filters.map((n=>Lm(n))).join(",");return`${r.op}(${t})`}}function Z0(r,t){return r instanceof Ie?(function(s,o){return o instanceof Ie&&s.op===o.op&&s.field.isEqual(o.field)&&Mi(s.value,o.value)})(r,t):r instanceof ni?(function(s,o){return o instanceof ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&Z0(f,o.filters[m])),!0):!1})(r,t):void yt(19439)}function W0(r){return r instanceof Ie?(function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`})(r):r instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(W0).join(" ,")+"}"})(r):"Filter"}class nD extends Ie{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class iD extends Ie{constructor(t,n){super(t,"in",n),this.keys=tS("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class rD extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=tS("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function tS(r,t){return(t.arrayValue?.values||[]).map((n=>dt.fromName(n.referenceValue)))}class sD extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ep(n)&&Wl(n.arrayValue,this.value)}}class aD extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class oD extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class lD extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Wl(this.value.arrayValue,s)))}}class uD{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function DE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new uD(r,t,n,s,o,u,f)}function Tp(r){const t=At(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Lm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),zh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>ho(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>ho(s))).join(",")),t.Te=n}return t.Te}function Sp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!tD(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Z0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!IE(r.startAt,t.startAt)&&IE(r.endAt,t.endAt)}function Pm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class wo{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cD(r,t,n,s,o,u,f,m){return new wo(r,t,n,s,o,u,f,m)}function Ap(r){return new wo(r)}function NE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function eS(r){return r.collectionGroup!==null}function Fl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xe(Qe.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new tu(u,s))})),n.has(Qe.keyField().canonicalString())||t.Ie.push(new tu(Qe.keyField(),s))}return t.Ie}function Ci(r){const t=At(r);return t.Ee||(t.Ee=hD(t,Fl(r))),t.Ee}function hD(r,t){if(r.limitType==="F")return DE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new tu(o.field,u)}));const n=r.endAt?new Ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ah(r.startAt.position,r.startAt.inclusive):null;return DE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Um(r,t){const n=r.filters.concat([t]);return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function km(r,t,n){return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function jh(r,t){return Sp(Ci(r),Ci(t))&&r.limitType===t.limitType}function nS(r){return`${Tp(Ci(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>W0(o))).join(", ")}]`),zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>ho(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>ho(o))).join(",")),`Target(${s})`})(Ci(r))}; limitType=${r.limitType})`}function qh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):dt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Fl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=CE(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Fl(s),o)||s.endAt&&!(function(f,m,g){const y=CE(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Fl(s),o))})(r,t)}function fD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iS(r){return(t,n)=>{let s=!1;for(const o of Fl(r)){const u=dD(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function dD(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?co(g,y):yt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}class ia{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){na(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return B0(this.inner)}size(){return this.innerSize}}const mD=new ue(dt.comparator);function ur(){return mD}const rS=new ue(dt.comparator);function kl(...r){let t=rS;for(const n of r)t=t.insert(n.key,n);return t}function sS(r){let t=rS;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Qs(){return Gl()}function aS(){return Gl()}function Gl(){return new ia((r=>r.toString()),((r,t)=>r.isEqual(t)))}const pD=new ue(dt.comparator),gD=new xe(dt.comparator);function Lt(...r){let t=gD;for(const n of r)t=t.add(n);return t}const yD=new xe(xt);function _D(){return yD}function Rp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(t)?"-0":t}}function oS(r){return{integerValue:""+r}}function vD(r,t){return Q2(t)?oS(t):Rp(r,t)}class Hh{constructor(){this._=void 0}}function ED(r,t,n){return r instanceof eu?(function(o,u){const f={fields:{[H0]:{stringValue:q0},[G0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&vp(u)&&(u=Bh(u)),u&&(f.fields[F0]=u),{mapValue:f}})(n,t):r instanceof nu?uS(r,t):r instanceof iu?cS(r,t):(function(o,u){const f=lS(o,u),m=OE(f)+OE(o.Ae);return xm(f)&&xm(o.Ae)?oS(m):Rp(o.serializer,m)})(r,t)}function TD(r,t,n){return r instanceof nu?uS(r,t):r instanceof iu?cS(r,t):n}function lS(r,t){return r instanceof Rh?(function(s){return xm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class eu extends Hh{}class nu extends Hh{constructor(t){super(),this.elements=t}}function uS(r,t){const n=hS(t);for(const s of r.elements)n.some((o=>Mi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class iu extends Hh{constructor(t){super(),this.elements=t}}function cS(r,t){let n=hS(t);for(const s of r.elements)n=n.filter((o=>!Mi(o,s)));return{arrayValue:{values:n}}}class Rh extends Hh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function OE(r){return ye(r.integerValue||r.doubleValue)}function hS(r){return Ep(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class SD{constructor(t,n){this.field=t,this.transform=n}}function AD(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof nu&&o instanceof nu||s instanceof iu&&o instanceof iu?uo(s.elements,o.elements,Mi):s instanceof Rh&&o instanceof Rh?Mi(s.Ae,o.Ae):s instanceof eu&&o instanceof eu})(r.transform,t.transform)}class RD{constructor(t,n){this.version=t,this.transformResults=n}}class Ii{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ii}static exists(t){return new Ii(void 0,t)}static updateTime(t){return new Ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Fh{}function fS(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new mS(r.key,Ii.none()):new du(r.key,r.data,Ii.none());{const n=r.data,s=Pn.empty();let o=new xe(Qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ra(r.key,s,new ti(o.toArray()),Ii.none())}}function wD(r,t,n){r instanceof du?(function(o,u,f){const m=o.value.clone(),g=VE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof ra?(function(o,u,f){if(!lh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=VE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(dS(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Ql(r,t,n,s){return r instanceof du?(function(u,f,m,g){if(!lh(u.precondition,f))return m;const y=u.value.clone(),E=xE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof ra?(function(u,f,m,g){if(!lh(u.precondition,f))return m;const y=xE(u.fieldTransforms,g,f),E=f.data;return E.setAll(dS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,f,m){return lh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function bD(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=lS(s.transform,o||null);u!=null&&(n===null&&(n=Pn.empty()),n.set(s.field,u))}return n||null}function ME(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&uo(s,o,((u,f)=>AD(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class du extends Fh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ra extends Fh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dS(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function VE(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,TD(f,m,n[o]))}return s}function xE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,ED(u,f,t))}return s}class mS extends Fh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CD extends Fh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ID{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&wD(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ql(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ql(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=aS();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=fS(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&uo(this.mutations,t.mutations,((n,s)=>ME(n,s)))&&uo(this.baseMutations,t.baseMutations,((n,s)=>ME(n,s)))}}class wp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return pD})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new wp(t,n,s,o)}}class DD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ND{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ce,kt;function OD(r){switch(r){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function pS(r){if(r===void 0)return lr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ce.OK:return Z.OK;case Ce.CANCELLED:return Z.CANCELLED;case Ce.UNKNOWN:return Z.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return Z.INTERNAL;case Ce.UNAVAILABLE:return Z.UNAVAILABLE;case Ce.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ce.NOT_FOUND:return Z.NOT_FOUND;case Ce.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ce.ABORTED:return Z.ABORTED;case Ce.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ce.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:r})}}(kt=Ce||(Ce={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function MD(){return new TextEncoder}const VD=new Wr([4294967295,4294967295],0);function LE(r){const t=MD().encode(r),n=new D0;return n.update(t),new Uint8Array(n.digest())}function PE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Wr([n,s],0),new Wr([o,u],0)]}class bp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Wr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Wr.fromNumber(s)));return o.compare(VD)===1&&(o=new Wr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=LE(t),[s,o]=PE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new bp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=LE(t),[s,o]=PE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,mu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Gh(Et.min(),o,new ue(xt),ur(),Lt())}}class mu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new mu(s,n,Lt(),Lt(),Lt())}}class uh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class gS{constructor(t,n){this.targetId=t,this.Ce=n}}class yS{constructor(t,n,s=Ye.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class UE{constructor(){this.ve=0,this.Fe=kE(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:u})}})),new mu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=kE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xD{constructor(t){this.Ge=t,this.ze=new Map,this.je=ur(),this.Je=Jc(),this.He=Jc(),this.Ye=new ue(xt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Pm(u))if(s===0){const f=new dt(u.path);this.et(n,f,Ze.newNoDocument(f,Et.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=rs(s).toUint8Array()}catch(g){if(g instanceof j0)return lo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new bp(f,o,u)}catch(g){return lo(g instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Pm(m.target)){const g=new dt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Ze.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Lt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Gh(t,n,this.Ye,this.je,s);return this.je=ur(),this.Je=Jc(),this.He=Jc(),this.Ye=new ue(xt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new UE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new xe(xt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new xe(xt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new UE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Jc(){return new ue(dt.comparator)}function kE(){return new ue(dt.comparator)}const LD={asc:"ASCENDING",desc:"DESCENDING"},PD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UD={and:"AND",or:"OR"};class kD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function zm(r,t){return r.useProto3Json||zh(t)?t:{value:t}}function wh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _S(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function zD(r,t){return wh(r,t.toTimestamp())}function Di(r){return Ft(!!r,49232),Et.fromTimestamp((function(n){const s=is(n);return new re(s.seconds,s.nanos)})(r))}function Cp(r,t){return Bm(r,t).canonicalString()}function Bm(r,t){const n=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function vS(r){const t=ee.fromString(r);return Ft(RS(t),10190,{key:t.toString()}),t}function jm(r,t){return Cp(r.databaseId,t.path)}function mm(r,t){const n=vS(t);if(n.get(1)!==r.databaseId.projectId)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(TS(n))}function ES(r,t){return Cp(r.databaseId,t)}function BD(r){const t=vS(r);return t.length===4?ee.emptyPath():TS(t)}function qm(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function TS(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function zE(r,t,n){return{name:jm(r,t),fields:n.value.mapValue.fields}}function jD(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Ye.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ye.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?Z.UNKNOWN:pS(y.code);return new ot(E,y.message||"")})(f);n=new yS(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=mm(r,s.document.name),u=Di(s.document.updateTime),f=s.document.createTime?Di(s.document.createTime):Et.min(),m=new Pn({mapValue:{fields:s.document.fields}}),g=Ze.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new uh(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=mm(r,s.document),u=s.readTime?Di(s.readTime):Et.min(),f=Ze.newNoDocument(o,u),m=s.removedTargetIds||[];n=new uh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=mm(r,s.document),u=s.removedTargetIds||[];n=new uh([],u,o,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new ND(o,u),m=s.targetId;n=new gS(m,f)}}return n}function qD(r,t){let n;if(t instanceof du)n={update:zE(r,t.key,t.value)};else if(t instanceof mS)n={delete:jm(r,t.key)};else if(t instanceof ra)n={update:zE(r,t.key,t.data),updateMask:JD(t.fieldMask)};else{if(!(t instanceof CD))return yt(16599,{Vt:t.type});n={verify:jm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof eu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw yt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:zD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)})(r,t.precondition)),n}function HD(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Di(o.updateTime):Di(u);return f.isEqual(Et.min())&&(f=Di(u)),new RD(f,o.transformResults||[])})(n,t)))):[]}function FD(r,t){return{documents:[ES(r,t.path)]}}function GD(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ES(r,o);const u=(function(y){if(y.length!==0)return AS(ni.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(C){return{field:Wa(C.field),direction:YD(C.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=zm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function QD(r){let t=BD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const C=SS(S);return C instanceof ni&&J0(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((C=>(function(X){return new tu(to(X.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(C)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let C;return C=typeof S=="object"?S.value:S,zh(C)?null:C})(n.limit));let g=null;n.startAt&&(g=(function(S){const C=!!S.before,P=S.values||[];return new Ah(P,C)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const C=!S.before,P=S.values||[];return new Ah(P,C)})(n.endAt)),cD(t,o,f,u,m,"F",g,y)}function KD(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function SS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=to(n.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return Ie.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ie.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((s=>SS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(r):yt(30097,{filter:r})}function YD(r){return LD[r]}function XD(r){return PD[r]}function $D(r){return UD[r]}function Wa(r){return{fieldPath:r.canonicalString()}}function to(r){return Qe.fromServerFormat(r.fieldPath)}function AS(r){return r instanceof Ie?(function(n){if(n.op==="=="){if(bE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(wE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(wE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:XD(n.op),value:n.value}}})(r):r instanceof ni?(function(n){const s=n.getFilters().map((o=>AS(o)));return s.length===1?s[0]:{compositeFilter:{op:$D(n.op),filters:s}}})(r):yt(54877,{filter:r})}function JD(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function RS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Xr{constructor(t,n,s,o,u=Et.min(),f=Et.min(),m=Ye.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ZD{constructor(t){this.yt=t}}function WD(r){const t=QD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?km(t,t.limit,"L"):t}class tN{constructor(){this.Cn=new eN}addToCollectionParentIndex(t,n){return this.Cn.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(ns.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(ns.min())}updateCollectionGroup(t,n,s){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class eN{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new xe(ee.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new xe(ee.comparator)).toArray()}}const BE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wS=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(wS,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class fo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}const jE="LruGarbageCollector",nN=1048576;function qE([r,t],[n,s]){const o=xt(r,n);return o===0?xt(t,s):o}class iN{constructor(t){this.Ir=t,this.buffer=new xe(qE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();qE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rN{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(jE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?lt(jE,"Ignoring IndexedDB error during garbage collection: ",n):await Ao(n)}await this.Vr(3e5)}))}}class sN{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return W.resolve(kh.ce);const s=new iN(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(BE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),Ja()<=Vt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function aN(r,t){return new sN(r,t)}class oN{constructor(){this.changes=new ia((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class uN{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Ql(s.mutation,o,ti.empty(),re.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Lt()){const o=Qs();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=kl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Qs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Lt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=ur();const f=Gl(),m=(function(){return Gl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ra)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ql(E.mutation,y,E.mutation.getFieldMask(),re.now())):f.set(y.key,ti.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new lN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Gl();let o=new ue(((f,m)=>f-m)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||ti.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||Lt()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=aS();E.forEach((C=>{if(!u.has(C)){const P=fS(n.get(C),s.get(C));P!==null&&S.set(C,P),u=u.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return W.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return dt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):eS(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):W.resolve(Qs());let m=$l,g=u;return f.next((y=>W.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next((C=>{g=g.insert(E,C)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Lt()))).next((E=>({batchId:m,changes:sS(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next((s=>{let o=kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(t,u).next((m=>W.forEach(m,(g=>{const y=(function(S,C){return new wo(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((S,C)=>{f=f.insert(S,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Ze.newInvalidDocument(E)))}));let m=kl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Ql(E.mutation,y,ti.empty(),re.now()),qh(n,y)&&(m=m.insert(g,y))})),m}))}}class cN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}})(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:WD(o.bundledQuery),readTime:Di(o.readTime)}})(n)),W.resolve()}}class hN{constructor(){this.overlays=new ue(dt.comparator),this.qr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Qs();return W.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),W.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(t,n,s){const o=Qs(),u=n.length+1,f=new dt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ue(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Qs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Qs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return W.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new DD(n,s));let u=this.qr.get(n);u===void 0&&(u=Lt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class fN{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}class Ip{constructor(){this.Qr=new xe(ke.$r),this.Ur=new xe(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new ke(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new ke(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new dt(new ee([])),s=new ke(n,t),o=new ke(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new dt(new ee([])),s=new ke(n,t),o=new ke(n,t+1);let u=Lt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new ke(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ke{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return dt.comparator(t.key,n.key)||xt(t.Yr,n.Yr)}static Kr(t,n){return xt(t.Yr,n.Yr)||dt.comparator(t.key,n.key)}}class dN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xe(ke.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new ID(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new ke(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(t,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?_p:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ke(n,0),o=new ke(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new xe(xt);return n.forEach((o=>{const u=new ke(o,0),f=new ke(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;dt.isDocumentKey(u)||(u=u.child(""));const f=new ke(new dt(u),0);let m=new xe(xt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),W.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(n.mutations,(o=>{const u=new ke(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new ke(n,0),o=this.Zr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class mN{constructor(t){this.ri=t,this.docs=(function(){return new ue(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(t,n){let s=ur();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ze.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ur();const f=n.path,m=new dt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||q2(j2(E),s)<=0||(o.has(E.key)||qh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,n,s,o){yt(9500)}ii(t,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new pN(this)}getSize(t){return W.resolve(this.size)}}class pN extends oN{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),W.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class gN{constructor(t){this.persistence=t,this.si=new ia((n=>Tp(n)),Sp),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Ip,this.targetCount=0,this.ai=fo.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),W.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new fo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Pr(n),W.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return W.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),W.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return W.resolve(s)}containsKey(t,n){return W.resolve(this._i.containsKey(n))}}class bS{constructor(t,n){this.ui={},this.overlays={},this.ci=new kh(0),this.li=!1,this.li=!0,this.hi=new fN,this.referenceDelegate=t(this),this.Pi=new gN(this),this.indexManager=new tN,this.remoteDocumentCache=(function(o){return new mN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ZD(n),this.Ii=new cN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new hN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new dN(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){lt("MemoryPersistence","Starting transaction:",t);const o=new yN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return W.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class yN extends F2{constructor(t){super(),this.currentSequenceNumber=t}}class Dp{constructor(t){this.persistence=t,this.Ri=new Ip,this.Vi=null}static mi(t){return new Dp(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),W.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(s=>{const o=dt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Et.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class bh{constructor(t,n){this.persistence=t,this.pi=new ia((s=>K2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=aN(this,n)}static mi(t,n){return new bh(t,n)}Ei(){}di(t){return W.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return W.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?W.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,Et.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ah(t.data.value)),n}br(t,n,s){return W.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Np{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Lt(),o=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Np(t,n.fromCache,s,o)}}class _N{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class vN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Kb()?8:G2(We())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new _N;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Ja()<=Vt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Ja()<=Vt.DEBUG&&lt("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ja()<=Vt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(n))):W.resolve())}ys(t,n){if(NE(n))return W.resolve(null);let s=Ci(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=km(n,null,"F"),s=Ci(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Lt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(t,km(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,s,o){return NE(n)||o.isEqual(Et.min())?W.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?W.resolve(null):(Ja()<=Vt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.vs(t,f,n,B2(o,$l)).next((m=>m)))}))}Ds(t,n){let s=new xe(iS(t));return n.forEach(((o,u)=>{qh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Ja()<=Vt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ps.getDocumentsMatchingQuery(t,n,ns.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Op="LocalStore",EN=3e8;class TN{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ue(xt),this.xs=new ia((u=>Tp(u)),Sp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function SN(r,t,n,s){return new TN(r,t,n,s)}async function CS(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Lt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function AN(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,C=S.keys();let P=W.resolve();return C.forEach((X=>{P=P.next((()=>E.getEntry(g,X))).next((B=>{const H=y.docVersions.get(X);Ft(H!==null,48541),B.version.compareTo(H)<0&&(S.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),E.addEntry(B)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Lt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function IS(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function RN(r,t){const n=At(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,S)=>{const C=o.get(S);if(!C)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let P=C.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?P=P.withResumeToken(Ye.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(S,P),(function(B,H,et){return B.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=EN?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(C,P,E)&&m.push(n.Pi.updateTargetData(u,P))}));let g=ur(),y=Lt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(wN(u,f,t.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(Et.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return W.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function wN(r,t,n){let s=Lt(),o=Lt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=ur();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Et.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):lt(Op,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function bN(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=_p),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function CN(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,W.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Xr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Hm(r,t,n){const s=At(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ro(f))throw f;lt(Op,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function HE(r,t,n){const s=At(r);let o=Et.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=At(g),C=S.xs.get(E);return C!==void 0?W.resolve(S.Ms.get(C)):S.Pi.getTargetData(y,E)})(s,f,Ci(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Et.min(),n?u:Lt()))).next((m=>(IN(s,fD(t),m),{documents:m,Qs:u})))))}function IN(r,t,n){let s=r.Os.get(t)||Et.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class FE{constructor(){this.activeTargetIds=_D()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DN{constructor(){this.Mo=new FE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new FE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class NN{Oo(t){}shutdown(){}}const GE="ConnectivityMonitor";class QE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(GE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(GE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zc=null;function Fm(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}const pm="RestConnection",ON={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Fm(),m=this.zo(t,n.toUriEncodedString());lt(pm,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=vo(y);return this.Jo(t,m,g,s,E).then((S=>(lt(pm,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw lo(pm,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=ON[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class VN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const $e="WebChannelConnection";class xN extends MN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Fm();return new Promise(((m,g)=>{const y=new N0;y.setWithCredentials(!0),y.listenOnce(O0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case sh.NO_ERROR:const S=y.getResponseJson();lt($e,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case sh.TIMEOUT:lt($e,`RPC '${t}' ${f} timed out`),g(new ot(Z.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const C=y.getStatus();if(lt($e,`RPC '${t}' ${f} failed with status:`,C,"response text:",y.getResponseText()),C>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const X=P?.error;if(X&&X.status&&X.message){const B=(function(et){const tt=et.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(tt)>=0?tt:Z.UNKNOWN})(X.status);g(new ot(B,X.message))}else g(new ot(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ot(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{lt($e,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);lt($e,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=Fm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=x0(),m=V0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");lt($e,`Creating RPC '${t}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.I_(S);let C=!1,P=!1;const X=new VN({Yo:H=>{P?lt($e,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(C||(lt($e,`Opening RPC '${t}' stream ${o} transport.`),S.open(),C=!0),lt($e,`RPC '${t}' stream ${o} sending:`,H),S.send(H))},Zo:()=>S.close()}),B=(H,et,tt)=>{H.listen(et,(nt=>{try{tt(nt)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return B(S,Ul.EventType.OPEN,(()=>{P||(lt($e,`RPC '${t}' stream ${o} transport opened.`),X.o_())})),B(S,Ul.EventType.CLOSE,(()=>{P||(P=!0,lt($e,`RPC '${t}' stream ${o} transport closed`),X.a_(),this.E_(S))})),B(S,Ul.EventType.ERROR,(H=>{P||(P=!0,lo($e,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),X.a_(new ot(Z.UNAVAILABLE,"The operation could not be completed")))})),B(S,Ul.EventType.MESSAGE,(H=>{if(!P){const et=H.data[0];Ft(!!et,16349);const tt=et,nt=tt?.error||tt[0]?.error;if(nt){lt($e,`RPC '${t}' stream ${o} received error:`,nt);const Tt=nt.status;let Rt=(function(R){const b=Ce[R];if(b!==void 0)return pS(b)})(Tt),vt=nt.message;Rt===void 0&&(Rt=Z.INTERNAL,vt="Unknown error status: "+Tt+" with message "+nt.message),P=!0,X.a_(new ot(Rt,vt)),S.close()}else lt($e,`RPC '${t}' stream ${o} received:`,et),X.u_(et)}})),B(m,M0.STAT_EVENT,(H=>{H.stat===Om.PROXY?lt($e,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Om.NOPROXY&&lt($e,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function gm(){return typeof document<"u"?document:null}function Qh(r){return new kD(r,!0)}class DS{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const KE="PersistentStream";class NS{constructor(t,n,s,o,u,f,m,g){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DS(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ot(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(KE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(lt(KE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LN extends NS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=jD(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Et.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Et.min():f.readTime?Di(f.readTime):Et.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=qm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Pm(g)?{documents:FD(u,g)}:{query:GD(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=_S(u,f.resumeToken);const y=zm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Et.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const y=zm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=KD(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=qm(this.serializer),n.removeTarget=t,this.q_(n)}}class PN extends NS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=HD(t.writeResults,t.commitTime),s=Di(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=qm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>qD(this.serializer,s)))};this.q_(n)}}class UN{}class kN extends UN{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Bm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(Z.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Bm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(n),this.aa=!1):lt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class BN{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{sa(this)&&(lt(ea,"Restarting streams for network reachability change."),await(async function(g){const y=At(g);y.Ea.add(4),await pu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Kh(y)})(this))}))})),this.Ra=new zN(s,o)}}async function Kh(r){if(sa(r))for(const t of r.da)await t(!0)}async function pu(r){for(const t of r.da)await t(!1)}function OS(r,t){const n=At(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Lp(n)?xp(n):bo(n).O_()&&Vp(n,t))}function Mp(r,t){const n=At(r),s=bo(n);n.Ia.delete(t),s.O_()&&MS(n,t),n.Ia.size===0&&(s.O_()?s.L_():sa(n)&&n.Ra.set("Unknown"))}function Vp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}bo(r).Y_(t)}function MS(r,t){r.Va.Ue(t),bo(r).Z_(t)}function xp(r){r.Va=new xD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),bo(r).start(),r.Ra.ua()}function Lp(r){return sa(r)&&!bo(r).x_()&&r.Ia.size>0}function sa(r){return At(r).Ea.size===0}function VS(r){r.Va=void 0}async function jN(r){r.Ra.set("Online")}async function qN(r){r.Ia.forEach(((t,n)=>{Vp(r,t)}))}async function HN(r,t){VS(r),Lp(r)?(r.Ra.ha(t),xp(r)):r.Ra.set("Unknown")}async function FN(r,t,n){if(r.Ra.set("Online"),t instanceof yS&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){lt(ea,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Ch(r,s)}else if(t instanceof uh?r.Va.Ze(t):t instanceof gS?r.Va.st(t):r.Va.tt(t),!n.isEqual(Et.min()))try{const s=await IS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),MS(u,g);const S=new Xr(E.target,g,y,E.sequenceNumber);Vp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){lt(ea,"Failed to raise snapshot:",s),await Ch(r,s)}}async function Ch(r,t,n){if(!Ro(t))throw t;r.Ea.add(1),await pu(r),r.Ra.set("Offline"),n||(n=()=>IS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(ea,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Kh(r)}))}function xS(r,t){return t().catch((n=>Ch(r,n,t)))}async function Yh(r){const t=At(r),n=as(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:_p;for(;GN(t);)try{const o=await bN(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,QN(t,o)}catch(o){await Ch(t,o)}LS(t)&&PS(t)}function GN(r){return sa(r)&&r.Ta.length<10}function QN(r,t){r.Ta.push(t);const n=as(r);n.O_()&&n.X_&&n.ea(t.mutations)}function LS(r){return sa(r)&&!as(r).x_()&&r.Ta.length>0}function PS(r){as(r).start()}async function KN(r){as(r).ra()}async function YN(r){const t=as(r);for(const n of r.Ta)t.ea(n.mutations)}async function XN(r,t,n){const s=r.Ta.shift(),o=wp.from(s,t,n);await xS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Yh(r)}async function $N(r,t){t&&as(r).X_&&await(async function(s,o){if((function(f){return OD(f)&&f!==Z.ABORTED})(o.code)){const u=s.Ta.shift();as(s).B_(),await xS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Yh(s)}})(r,t),LS(r)&&PS(r)}async function YE(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),lt(ea,"RemoteStore received new credentials");const s=sa(n);n.Ea.add(3),await pu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Kh(n)}async function JN(r,t){const n=At(r);t?(n.Ea.delete(2),await Kh(n)):t||(n.Ea.add(2),await pu(n),n.Ra.set("Unknown"))}function bo(r){return r.ma||(r.ma=(function(n,s,o){const u=At(n);return u.sa(),new LN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:jN.bind(null,r),t_:qN.bind(null,r),r_:HN.bind(null,r),H_:FN.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Lp(r)?xp(r):r.Ra.set("Unknown")):(await r.ma.stop(),VS(r))}))),r.ma}function as(r){return r.fa||(r.fa=(function(n,s,o){const u=At(n);return u.sa(),new PN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:KN.bind(null,r),r_:$N.bind(null,r),ta:YN.bind(null,r),na:XN.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Yh(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Pp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Pp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Up(r,t){if(lr("AsyncQueue",`${t}: ${r}`),Ro(r))return new ot(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class so{static emptySet(t){return new so(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=kl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof so)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new so;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class XE{constructor(){this.ga=new ue(dt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class mo{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new mo(t,n,so.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class ZN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class WN{constructor(){this.queries=$E(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=At(n),u=o.queries;o.queries=$E(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ot(Z.ABORTED,"Firestore shutting down"))}}function $E(){return new ia((r=>nS(r)),jh)}async function US(r,t){const n=At(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new ZN,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Up(f,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&kp(n)}async function kS(r,t){const n=At(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function tO(r,t){const n=At(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&kp(n)}function eO(r,t,n){const s=At(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function kp(r){r.Ca.forEach((t=>{t.next()}))}var Gm,JE;(JE=Gm||(Gm={})).Ma="default",JE.Cache="cache";class zS{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new mo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=mo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Gm.Cache}}class BS{constructor(t){this.key=t}}class jS{constructor(t){this.key=t}}class nO{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=iS(t),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new XE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,S)=>{const C=o.get(E),P=qh(this.query,S)?S:null,X=!!C&&this.mutatedKeys.has(C.key),B=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let H=!1;C&&P?C.data.isEqual(P.data)?X!==B&&(s.track({type:3,doc:P}),H=!0):this.su(C,P)||(s.track({type:2,doc:P}),H=!0,(g&&this.eu(P,g)>0||y&&this.eu(P,y)<0)&&(m=!0)):!C&&P?(s.track({type:0,doc:P}),H=!0):C&&!P&&(s.track({type:1,doc:C}),H=!0,(g||y)&&(m=!0)),H&&(P?(f=f.add(P),u=B?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(P,X){const B=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:H})}};return B(P)-B(X)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new mo(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new XE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new jS(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new BS(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zp="SyncEngine";class iO{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class rO{constructor(t){this.key=t,this.hu=!1}}class sO{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ia((m=>nS(m)),jh),this.Iu=new Map,this.Eu=new Set,this.du=new ue(dt.comparator),this.Au=new Map,this.Ru=new Ip,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aO(r,t,n=!0){const s=KS(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await qS(s,t,n,!0),o}async function oO(r,t){const n=KS(r);await qS(n,t,!0,!1)}async function qS(r,t,n,s){const o=await CN(r.localStore,Ci(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await lO(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&OS(r.remoteStore,o),m}async function lO(r,t,n,s,o){r.pu=(S,C,P)=>(async function(B,H,et,tt){let nt=H.view.ru(et);nt.Cs&&(nt=await HE(B.localStore,H.query,!1).then((({documents:w})=>H.view.ru(w,nt))));const Tt=tt&&tt.targetChanges.get(H.targetId),Rt=tt&&tt.targetMismatches.get(H.targetId)!=null,vt=H.view.applyChanges(nt,B.isPrimaryClient,Tt,Rt);return WE(B,H.targetId,vt.au),vt.snapshot})(r,S,C,P);const u=await HE(r.localStore,t,!0),f=new nO(t,u.Qs),m=f.ru(u.documents),g=mu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);WE(r,n,y.au);const E=new iO(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function uO(r,t,n){const s=At(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!jh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Hm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Mp(s.remoteStore,o.targetId),Qm(s,o.targetId)})).catch(Ao)):(Qm(s,o.targetId),await Hm(s.localStore,o.targetId,!0))}async function cO(r,t){const n=At(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Mp(n.remoteStore,s.targetId))}async function hO(r,t,n){const s=_O(r);try{const o=await(function(f,m){const g=At(f),y=re.now(),E=m.reduce(((P,X)=>P.add(X.key)),Lt());let S,C;return g.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let X=ur(),B=Lt();return g.Ns.getEntries(P,E).next((H=>{X=H,X.forEach(((et,tt)=>{tt.isValidDocument()||(B=B.add(et))}))})).next((()=>g.localDocuments.getOverlayedDocuments(P,X))).next((H=>{S=H;const et=[];for(const tt of m){const nt=bD(tt,S.get(tt.key).overlayedDocument);nt!=null&&et.push(new ra(tt.key,nt,Y0(nt.value.mapValue),Ii.exists(!0)))}return g.mutationQueue.addMutationBatch(P,y,et,m)})).next((H=>{C=H;const et=H.applyToLocalDocumentSet(S,B);return g.documentOverlayCache.saveOverlays(P,H.batchId,et)}))})).then((()=>({batchId:C.batchId,changes:sS(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ue(xt)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await gu(s,o.changes),await Yh(s.remoteStore)}catch(o){const u=Up(o,"Failed to persist write");n.reject(u)}}async function HS(r,t){const n=At(r);try{const s=await RN(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ft(f.hu,14607):o.removedDocuments.size>0&&(Ft(f.hu,42227),f.hu=!1))})),await gu(n,s,t)}catch(s){await Ao(s)}}function ZE(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=At(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const C of S.Sa)C.va(m)&&(y=!0)})),y&&kp(g)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function fO(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ue(dt.comparator);f=f.insert(u,Ze.newNoDocument(u,Et.min()));const m=Lt().add(u),g=new Gh(Et.min(),new Map,new ue(xt),f,m);await HS(s,g),s.du=s.du.remove(u),s.Au.delete(t),Bp(s)}else await Hm(s.localStore,t,!1).then((()=>Qm(s,t,n))).catch(Ao)}async function dO(r,t){const n=At(r),s=t.batch.batchId;try{const o=await AN(n.localStore,t);GS(n,s,null),FS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gu(n,o)}catch(o){await Ao(o)}}async function mO(r,t,n){const s=At(r);try{const o=await(function(f,m){const g=At(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(Ft(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);GS(s,t,n),FS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await gu(s,o)}catch(o){await Ao(o)}}function FS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function GS(r,t,n){const s=At(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Qm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||QS(r,s)}))}function QS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Mp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Bp(r))}function WE(r,t,n){for(const s of n)s instanceof BS?(r.Ru.addReference(s.key,t),pO(r,s)):s instanceof jS?(lt(zp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||QS(r,s.key)):yt(19791,{wu:s})}function pO(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(lt(zp,"New document in limbo: "+n),r.Eu.add(s),Bp(r))}function Bp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new dt(ee.fromString(t)),s=r.fu.next();r.Au.set(s,new rO(n)),r.du=r.du.insert(n,s),OS(r.remoteStore,new Xr(Ci(Ap(n.path)),s,"TargetPurposeLimboResolution",kh.ce))}}async function gu(r,t,n){const s=At(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Np.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=At(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(y,(C=>W.forEach(C.Es,(P=>E.persistence.referenceDelegate.addReference(S,C.targetId,P))).next((()=>W.forEach(C.ds,(P=>E.persistence.referenceDelegate.removeReference(S,C.targetId,P)))))))))}catch(S){if(!Ro(S))throw S;lt(Op,"Failed to update sequence numbers: "+S)}for(const S of y){const C=S.targetId;if(!S.fromCache){const P=E.Ms.get(C),X=P.snapshotVersion,B=P.withLastLimboFreeSnapshotVersion(X);E.Ms=E.Ms.insert(C,B)}}})(s.localStore,u))}async function gO(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){lt(zp,"User change. New user:",t.toKey());const s=await CS(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ot(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await gu(n,s.Ls)}}function yO(r,t){const n=At(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function KS(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=HS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fO.bind(null,t),t.Pu.H_=tO.bind(null,t.eventManager),t.Pu.yu=eO.bind(null,t.eventManager),t}function _O(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mO.bind(null,t),t}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Qh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return SN(this.persistence,new vN,t.initialUser,this.serializer)}Cu(t){return new bS(Dp.mi,this.serializer)}Du(t){return new DN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class vO extends Ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rN(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new bS((s=>bh.mi(s,n)),this.serializer)}}class Km{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ZE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gO.bind(null,this.syncEngine),await JN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new WN})()}createDatastore(t){const n=Qh(t.databaseInfo.databaseId),s=(function(u){return new xN(u)})(t.databaseInfo);return(function(u,f,m,g){return new kN(u,f,m,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new BN(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>ZE(this.syncEngine,n,0)),(function(){return QE.v()?new QE:new NN})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,E){const S=new sO(o,u,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=At(n);lt(ea,"RemoteStore shutting down."),s.Ea.add(5),await pu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Km.provider={build:()=>new Km};class YS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):lr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const os="FirestoreClient";class EO{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{lt(os,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(lt(os,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Up(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function ym(r,t){r.asyncQueue.verifyOperationInProgress(),lt(os,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await CS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function tT(r,t){r.asyncQueue.verifyOperationInProgress();const n=await TO(r);lt(os,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>YE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>YE(t.remoteStore,o))),r._onlineComponents=t}async function TO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(os,"Using user provided OfflineComponentProvider");try{await ym(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await ym(r,new Ih)}}else lt(os,"Using default OfflineComponentProvider"),await ym(r,new vO(void 0));return r._offlineComponents}async function XS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(os,"Using user provided OnlineComponentProvider"),await tT(r,r._uninitializedComponentsProvider._online)):(lt(os,"Using default OnlineComponentProvider"),await tT(r,new Km))),r._onlineComponents}function SO(r){return XS(r).then((t=>t.syncEngine))}async function Ym(r){const t=await XS(r),n=t.eventManager;return n.onListen=aO.bind(null,t.syncEngine),n.onUnlisten=uO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=oO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=cO.bind(null,t.syncEngine),n}function AO(r,t,n={}){const s=new ts;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new YS({next:C=>{E.Nu(),f.enqueueAndForget((()=>kS(u,S))),C.fromCache&&g.source==="server"?y.reject(new ot(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),S=new zS(m,E,{includeMetadataChanges:!0,qa:!0});return US(u,S)})(await Ym(r),r.asyncQueue,t,n,s))),s.promise}function $S(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const eT=new Map;const JS="firestore.googleapis.com",nT=!0;class iT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JS,this.ssl=nT}else this.host=t.host,this.ssl=t.ssl??nT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<nN)throw new ot(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}z2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$S(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new D2;switch(s.type){case"firstParty":return new V2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=eT.get(n);s&&(lt("ComponentProvider","Removing Datastore"),eT.delete(n),s.terminate())})(this),Promise.resolve()}}function RO(r,t,n,s={}){r=rr(r,Xh);const o=vo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(BT(`https://${m}`),jT("Firestore",!0)),u.host!==JS&&u.host!==m&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!$s(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Je.MOCK_USER;else{y=kb(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ot(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Je(S)}r._authCredentials=new N2(new P0(y,E))}}class hs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new hs(this.firestore,t,this._query)}}class Ne{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(fu(n,Ne._jsonSchema))return new Ne(t,s||null,new dt(ee.fromString(n.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:De("string",Ne._jsonSchemaVersion),referencePath:De("string")};class es extends hs{constructor(t,n,s){super(t,n,Ap(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new dt(t))}withConverter(t){return new es(this.firestore,t,this._path)}}function xl(r,t,...n){if(r=Ke(r),U0("collection","path",t),r instanceof Xh){const s=ee.fromString(t,...n);return gE(s),new es(r,null,s)}{if(!(r instanceof Ne||r instanceof es))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return gE(s),new es(r.firestore,null,s)}}function Ks(r,t,...n){if(r=Ke(r),arguments.length===1&&(t=yp.newId()),U0("doc","path",t),r instanceof Xh){const s=ee.fromString(t,...n);return pE(s),new Ne(r,null,new dt(s))}{if(!(r instanceof Ne||r instanceof es))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return pE(s),new Ne(r.firestore,r instanceof es?r.converter:null,new dt(s))}}const rT="AsyncQueue";class sT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DS(this,"async_queue_retry"),this._c=()=>{const s=gm();s&&lt(rT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ts;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ro(t))throw t;lt(rT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",aT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Pp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:aT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function aT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function oT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class po extends Xh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new sT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new sT(t),this._firestoreClient=void 0,await t}}}function wO(r,t){const n=typeof r=="object"?r:GT(),s=typeof r=="string"?r:Th,o=sp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Pb("firestore");u&&RO(o,...u)}return o}function jp(r){if(r._terminated)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bO(r),r._firestoreClient}function bO(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new $2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,$S(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new EO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ye.fromBase64String(t))}catch(n){throw new ot(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Un(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(fu(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:De("string",Un._jsonSchemaVersion),bytes:De("string")};class qp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Hp{constructor(t){this._methodName=t}}class Ni{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(fu(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:De("string",Ni._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class Oi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(fu(t,Oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Oi(t.vectorValues);throw new ot(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:De("string",Oi._jsonSchemaVersion),vectorValues:De("object")};const CO=/^__.*__$/;class IO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ra(t,this.data,this.fieldMask,n,this.fieldTransforms):new du(t,this.data,n,this.fieldTransforms)}}function ZS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class Fp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Fp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Dh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ZS(this.Ac)&&CO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class DO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Qh(t)}Cc(t,n,s,o=!1){return new Fp({Ac:t,methodName:n,Dc:s,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gp(r){const t=r._freezeSettings(),n=Qh(r._databaseId);return new DO(r._databaseId,!!t.ignoreUndefinedProperties,n)}function WS(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);nA("Data must be an object, but it was:",f,s);const m=tA(s,f);let g,y;if(u.merge)g=new ti(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const C=OO(t,S,n);if(!f.contains(C))throw new ot(Z.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);VO(E,C)||E.push(C)}g=new ti(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new IO(new Pn(m),g,y)}class Qp extends Hp{_toFieldTransform(t){return new SD(t.path,new eu)}isEqual(t){return t instanceof Qp}}function NO(r,t,n,s=!1){return Kp(n,r.Cc(s?4:3,t))}function Kp(r,t){if(eA(r=Ke(r)))return nA("Unsupported field value:",t,r),tA(r,t);if(r instanceof Hp)return(function(s,o){if(!ZS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Kp(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Ke(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return vD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:_S(o.serializer,s._byteString)};if(s instanceof Ne){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Cp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Oi)return(function(f,m){return{mapValue:{fields:{[Q0]:{stringValue:K0},[Sh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Rp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Uh(s)}`)})(r,t)}function tA(r,t){const n={};return B0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):na(r,((s,o)=>{const u=Kp(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function eA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Ni||r instanceof Un||r instanceof Ne||r instanceof Hp||r instanceof Oi)}function nA(r,t,n){if(!eA(n)||!k0(n)){const s=Uh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function OO(r,t,n){if((t=Ke(t))instanceof qp)return t._internalPath;if(typeof t=="string")return iA(r,t);throw Dh("Field path arguments must be of type string or ",r,!1,void 0,n)}const MO=new RegExp("[~\\*/\\[\\]]");function iA(r,t,n){if(t.search(MO)>=0)throw Dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new qp(...t.split("."))._internalPath}catch{throw Dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Dh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ot(Z.INVALID_ARGUMENT,m+r+g)}function VO(r,t){return r.some((n=>n.isEqual(t)))}class rA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field($h("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xO extends rA{data(){return super.data()}}function $h(r,t){return typeof t=="string"?iA(r,t):t instanceof qp?t._internalPath:t._delegate._internalPath}function sA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yp{}class aA extends Yp{}function _m(r,t,...n){let s=[];t instanceof Yp&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Xp)).length,m=u.filter((g=>g instanceof Jh)).length;if(f>1||f>0&&m>0)throw new ot(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Jh extends aA{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Jh(t,n,s)}_apply(t){const n=this._parse(t);return oA(t._query,n),new hs(t.firestore,t.converter,Um(t._query,n))}_parse(t){const n=Gp(t.firestore);return(function(u,f,m,g,y,E,S){let C;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ot(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){uT(S,E);const X=[];for(const B of S)X.push(lT(g,u,B));C={arrayValue:{values:X}}}else C=lT(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||uT(S,E),C=NO(m,f,S,E==="in"||E==="not-in");return Ie.create(y,E,C)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function vm(r,t,n){const s=t,o=$h("where",r);return Jh._create(o,s,n)}class Xp extends Yp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Xp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)oA(f,g),f=Um(f,g)})(t._query,n),new hs(t.firestore,t.converter,Um(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $p extends aA{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new $p(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new ot(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ot(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(u,f)})(t._query,this._field,this._direction);return new hs(t.firestore,t.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new wo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,n))}}function LO(r,t="asc"){const n=t,s=$h("orderBy",r);return $p._create(s,n)}function lT(r,t,n){if(typeof(n=Ke(n))=="string"){if(n==="")throw new ot(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eS(t)&&n.indexOf("/")!==-1)throw new ot(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!dt.isDocumentKey(s))throw new ot(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return RE(r,new dt(s))}if(n instanceof Ne)return RE(r,n._key);throw new ot(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(n)}.`)}function uT(r,t){if(!Array.isArray(r)||r.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function oA(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ot(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class PO{convertValue(t,n="none"){switch(ss(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(rs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return na(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Sh].arrayValue?.values?.map((s=>ye(s.doubleValue)));return new Oi(n)}convertGeoPoint(t){return new Ni(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Bh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jl(t));default:return null}}convertTimestamp(t){const n=is(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Ft(RS(s),9688,{name:t});const o=new Zl(s.get(1),s.get(3)),u=new dt(s.popFirst(5));return o.isEqual(n)||lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function lA(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class Bl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ys extends rA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field($h("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ys._jsonSchema={type:De("string",Ys._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class ch extends Ys{data(t={}){return super.data(t)}}class Xs{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new ch(this._firestore,this._userDataWriter,s.key,s,new Bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:UO(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function UO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}Xs._jsonSchemaVersion="firestore/querySnapshot/1.0",Xs._jsonSchema={type:De("string",Xs._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class Jp extends PO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,n)}}function cT(r){r=rr(r,hs);const t=rr(r.firestore,po),n=jp(t),s=new Jp(t);return sA(r._query),AO(n,r._query).then((o=>new Xs(t,s,r,o)))}function eo(r,t,n){r=rr(r,Ne);const s=rr(r.firestore,po),o=lA(r.converter,t,n);return uA(s,[WS(Gp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ii.none())])}function kO(r,t){const n=rr(r.firestore,po),s=Ks(r),o=lA(r.converter,t);return uA(n,[WS(Gp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Ii.exists(!1))]).then((()=>s))}function hT(r,...t){r=Ke(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||oT(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(oT(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let u,f,m;if(r instanceof Ne)f=rr(r.firestore,po),m=Ap(r._key.path),u={next:g=>{t[s]&&t[s](zO(f,r,g))},error:t[s+1],complete:t[s+2]};else{const g=rr(r,hs);f=rr(g.firestore,po),m=g._query;const y=new Jp(f);u={next:E=>{t[s]&&t[s](new Xs(f,y,g,E))},error:t[s+1],complete:t[s+2]},sA(r._query)}return(function(y,E,S,C){const P=new YS(C),X=new zS(E,P,S);return y.asyncQueue.enqueueAndForget((async()=>US(await Ym(y),X))),()=>{P.Nu(),y.asyncQueue.enqueueAndForget((async()=>kS(await Ym(y),X)))}})(jp(f),m,o,u)}function uA(r,t){return(function(s,o){const u=new ts;return s.asyncQueue.enqueueAndForget((async()=>hO(await SO(s),o,u))),u.promise})(jp(r),t)}function zO(r,t,n){const s=n.docs.get(t._key),o=new Jp(r);return new Ys(r,o,t._key,s,new Bl(n.hasPendingWrites,n.fromCache),t.converter)}function fT(){return new Qp("serverTimestamp")}(function(t,n=!0){(function(o){So=o})(Eo),ao(new Js("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new po(new O2(s.getProvider("auth-internal")),new x2(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Zr(hE,fE,t),Zr(hE,fE,"esm2020")})();const BO={apiKey:"AIzaSyCYCBzG6ZzRuBNgV6cTYiQ73y5m4t1e5gc",authDomain:"test-c1a50.firebaseapp.com",projectId:"test-c1a50",storageBucket:"test-c1a50.firebasestorage.app",messagingSenderId:"906897260332",appId:"1:906897260332:web:6212eb0e30c4c314b6f689",measurementId:"G-5XT1BH38VT"},cA=FT(BO),jO=new Wi,Fs=w2(cA),Zn=wO(cA);function dT(){const[r,t]=G.useState(null),[n,s]=G.useState(""),[o,u]=G.useState(""),[f,m]=G.useState(""),[g,y]=G.useState(""),E=Oh();G.useEffect(()=>{const B=g0(Fs,async H=>{H?(t(H),await eo(Ks(Zn,"users",H.uid),{uid:H.uid,email:H.email,displayName:H.displayName||"",photoURL:H.photoURL||""}),E("/")):t(null)});return()=>B()},[E]);const S=async()=>{if(!f.trim()){y("Please enter a user name.");return}try{const B=await uI(Fs,n,o);await fI(B.user,{displayName:f}),t(B.user),y(""),await eo(Ks(Zn,"users",B.user.uid),{uid:B.user.uid,email:B.user.email,displayName:f||"",photoURL:B.user.photoURL||""}),E("/")}catch(B){y(B.message)}},C=async()=>{if(!n.trim()||!o.trim()){y("Please enter both email and password.");return}try{const B=await cI(Fs,n,o);t(B.user),y(""),await eo(Ks(Zn,"users",B.user.uid),{uid:B.user.uid,email:B.user.email,displayName:f||"",photoURL:B.user.photoURL||""}),E("/")}catch(B){y(B.message)}},P=async()=>{try{const B=await xI(Fs,jO);t(B.user),y(""),await eo(Ks(Zn,"users",B.user.uid),{uid:B.user.uid,email:B.user.email,displayName:B.user.displayName||"",photoURL:B.user.photoURL||""}),E("/")}catch(B){y(B.message)}},X=async()=>{try{await y0(Fs),t(null)}catch(B){y(B.message)}};return at.jsx("div",{className:"auth-container",children:r?at.jsxs(at.Fragment,{children:[at.jsxs("h3",{children:["Welcome, ",r.displayName||r.email]}),r.photoURL&&at.jsx("img",{src:r.photoURL,alt:"profile",width:"60"}),at.jsxs("p",{children:["User ID: ",r.uid]}),at.jsx("button",{onClick:X,children:"Logout"})]}):at.jsxs(at.Fragment,{children:[at.jsx("input",{type:"text",placeholder:"Email",value:n,onChange:B=>s(B.target.value)}),at.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:B=>u(B.target.value)}),at.jsx("input",{type:"text",placeholder:"User name",value:f,onChange:B=>m(B.target.value)}),at.jsx("button",{onClick:S,children:"Sign Up"}),at.jsx("button",{onClick:C,children:"Login"}),at.jsx("button",{onClick:P,children:"Sign in with Google"}),g&&at.jsx("p",{style:{color:"red"},children:g})]})})}function mT(){const[r,t]=G.useState(null),[n,s]=G.useState(""),[o,u]=G.useState([]),[f,m]=G.useState(null),[g,y]=G.useState([]),[E,S]=G.useState(""),[C,P]=G.useState([]),[X,B]=G.useState(!1),H=Oh(),et=G.useRef(null);G.useEffect(()=>{et.current?.scrollIntoView({behavior:"smooth"})},[g]),G.useEffect(()=>{const w=g0(Fs,async R=>{if(!R){H("/login");return}t(R),await eo(Ks(Zn,"users",R.uid),{uid:R.uid,displayName:R.displayName||"",email:R.email||"",photoURL:R.photoURL||""},{merge:!0})});return()=>w()},[H]),G.useEffect(()=>{if(!r)return;const w=xl(Zn,"chats"),R=hT(w,async b=>{const M=new Set;if(b.docs.forEach(Xt=>{const ce=Xt.data();if(ce?.users?.includes(r.uid)){const Q=ce.users.find(rt=>rt!==r.uid);Q&&M.add(Q)}}),M.size===0){P([]);return}const N=xl(Zn,"users"),L=_m(N,vm("uid","in",[...M])),I=await cT(L);P(I.docs.map(Xt=>Xt.data()))});return()=>R()},[r]),G.useEffect(()=>{if(!r||!f)return;const w=Tt(r.uid,f.uid),R=xl(Zn,"chats",w,"messages"),b=_m(R,LO("timestamp","asc")),M=hT(b,N=>{y(N.docs.map(L=>({id:L.id,...L.data()})))});return()=>M()},[r,f]);const tt=async()=>{if(!n.trim())return;const w=xl(Zn,"users"),R=_m(w,vm("displayName",">=",n.trim()),vm("displayName","<=",n.trim()+"")),b=await cT(R);u(b.docs.map(M=>M.data()).filter(M=>M.uid!==r.uid))},nt=async()=>{if(!E.trim()||!f)return;const w=Tt(r.uid,f.uid);await eo(Ks(Zn,"chats",w),{users:[r.uid,f.uid],lastUpdated:fT()},{merge:!0});const R=b=>{const M=/(https?:\/\/[^\s]+)/g;return b.replace(M,function(N){return`<a href="${N}" target="_blank" rel="noopener noreferrer">${N}</a>`})};await kO(xl(Zn,"chats",w,"messages"),{sender:r.uid,receiver:f.uid,text:R(E),timestamp:fT()}),S("")},Tt=(w,R)=>[w,R].sort().join("_"),Rt=async()=>{await y0(Fs),t(null)};if(!r)return null;let vt=r.photoURL;return r.photoURL?vt=r.photoURL:vt="https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",at.jsxs("div",{className:`chat-app-root ${f?"chat-active":""}`,children:[X&&at.jsx("div",{className:"profile-overlay",onClick:()=>B(!1)}),at.jsxs("div",{className:"chat-sidebar",children:[at.jsxs("div",{className:"chat-sidebar-header",onClick:()=>B(!0),children:[at.jsx("img",{style:{borderRadius:"50%",width:"40px",height:"40px",marginRight:"8px"},src:vt,className:"user-avatar"}),at.jsx("span",{children:r.displayName})]}),at.jsxs("div",{className:`chat-profile-section ${X?"visible":""}`,children:[at.jsx("h3",{children:"User Profile"}),r.photoURL&&at.jsx("img",{src:r.photoURL,alt:"profile"}),at.jsxs("p",{children:[at.jsx("strong",{children:"Name:"})," ",r.displayName]}),at.jsxs("p",{children:[at.jsx("strong",{children:"Email:"})," ",r.email]}),at.jsx("button",{onClick:Rt,children:"Logout"}),at.jsx("button",{onClick:()=>B(!1),children:"Close"})]}),at.jsx("div",{className:"chat-sidebar-search",children:at.jsx("input",{type:"text",className:"chat-search-input",placeholder:"Search users...",value:n,onChange:w=>s(w.target.value),onKeyDown:w=>w.key==="Enter"&&tt()})}),at.jsxs("ul",{className:"chat-user-list",children:[(n.trim()?o:C).map(w=>at.jsx("li",{className:`chat-user-item ${f?.uid===w.uid?"selected":""}`,onClick:()=>{m(w),s("")},children:at.jsxs("span",{className:"chat-user-name",children:[at.jsx("img",{style:{borderRadius:"50%",width:"35px",height:"35px",marginRight:"8px"},src:w.photoURL,className:"chat-user-avatar"}),w.displayName||w.email]})},w.uid)),!n&&C.length===0&&at.jsx("div",{className:"chat-empty-list",children:"No chats yet"})]})]}),at.jsx("div",{className:"chat-main",children:f?at.jsxs(at.Fragment,{children:[at.jsxs("div",{className:"chat-header",children:[f&&at.jsx("button",{className:"chat-back-btn",onClick:()=>m(null),children:"Back"}),f.photoURL&&at.jsx("img",{src:f.photoURL,style:{width:"30px",height:"30px",borderRadius:"50%",marginRight:"8px"}}),f?.displayName||f?.email]}),at.jsxs("div",{className:"chat-messages",children:[g.map(w=>at.jsx("div",{className:`chat-message-row ${w.sender===r.uid?"sent":"received"}`,children:at.jsxs("div",{className:"chat-message-bubble",children:[at.jsx("span",{dangerouslySetInnerHTML:{__html:w.text}}),at.jsx("div",{className:"chat-message-timestamp",children:w.timestamp?new Date(w.timestamp.toDate()).toLocaleTimeString([],{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"}):""})]})},w.id)),at.jsx("div",{ref:et})]}),at.jsxs("div",{className:"chat-input-row",children:[at.jsx("input",{type:"text",className:"chat-input",placeholder:"Type a message",value:E,onChange:w=>S(w.target.value),onKeyDown:w=>w.key==="Enter"&&nt()}),at.jsx("button",{className:"chat-send-btn",onClick:nt,children:"Send"})]})]}):at.jsx("div",{className:"chat-select-user",children:"Select a user to start chatting"})})]})}function qO(){return at.jsx(at.Fragment,{children:at.jsx(_b,{children:at.jsxs(Yw,{children:[at.jsx($a,{path:"/login",element:at.jsx(dT,{})}),at.jsx($a,{path:"/",element:at.jsx(mT,{})}),at.jsx($a,{path:"*",element:at.jsx(Qw,{to:"/login"})}),at.jsx($a,{path:"Zeep-chat/",element:at.jsx(dT,{})}),at.jsx($a,{path:"Zeep-chat/chat",element:at.jsx(mT,{})})]})})})}$R.createRoot(document.getElementById("root")).render(at.jsx(G.StrictMode,{children:at.jsx(qO,{})}));
